createdAt: "2018-04-03T04:15:50.132Z"
updatedAt: "2018-04-05T07:37:31.792Z"
type: "SNIPPET_NOTE"
folder: "4e6ec3c07b3c53796092"
title: "alibaba.js"
description: "alibaba.js"
snippets: [
  {
    name: ""
    mode: "JavaScript"
    content: '''
      function setTourOption(n) {
          var u;
          n == !0 && $.ajax({
              url: tourApi + "searchmenu.json",
              cache: !1,
              success: function(n) {
                  function t(n) {
                      for (var t = 0; t < n.length; t++)
                          $(".date-tour-section").append('<a href="/tour/search/' + n[t].name + '" class="col-xs-12">' + n[t].name + "<\\/a>")
                  }
                  function i(n) {
                      for (var t = 0; t < n.length; t++)
                          $(".name-tour-section").append('<a href="/tour/search/' + n[t].name + '" class="col-xs-12">' + n[t].name + "<\\/a>")
                  }
                  function r(n) {
                      for (var t = 0; t < n.length; t++)
                          $(".destination-tour-section").append('<a href="/tour/search/' + n[t].name + '" class="col-xs-12">' + n[t].name + "<\\/a>")
                  }
                  function u(n) {
                      for (var t = 0; t < n.length; t++)
                          $(".advanture-tour-section").append('<a href="/tour/search/' + n[t].name + '" class="col-xs-12">' + n[t].name + "<\\/a>")
                  }
                  r(n.destinations);
                  i(n.tours);
                  t(n.dates);
                  u(n.adventureTours)
              },
              error: function(n) {
                  console.log("Error", n)
              }
          });
          var t = []
            , i = document.getElementById("searchTourName")
            , r = new Awesomplete(i);
          $(".searchTourName").on("click", function(n) {
              n.preventDefault();
              n.stopPropagation();
              $(".soon-city").slideUp(100);
              $(".searchTourName").val().length == 0 && ($(".suggestFixTour").stop().slideToggle(100),
              $(".searchTourName").toggleClass("remove-border-bottom"),
              $(".suggestFixTour").toggleClass("remove-border-top"))
          });
          $(".suggestFixTour").click(function(n) {
              n.stopPropagation();
              $(".soon-city").slideUp(100)
          });
          $(".soon-city").click(function(n) {
              n.stopPropagation()
          });
          $("body").click(function() {
              $(".searchTourName").removeClass("remove-border-bottom");
              $(".suggestFixTour").slideUp(100);
              $(".soon-city").slideUp(100)
          });
          $(".searchTourName").on("input", function() {
              var n = $(".searchTourName").val();
              if ($(".suggestFixTour").stop().slideUp(100),
              $(".searchTourName").val().length >= 3)
                  $.ajax({
                      url: tourApi + "search/suggestion",
                      method: "get",
                      data: {
                          keywords: n
                      },
                      success: function(n) {
                          if (t = [],
                          n.length == 0) {
                              $(".awesomplete ul").stop().show();
                              $(".awesomplete .visually-hidden").html(" ").remove();
                              return
                          }
                          $(".awesomplete ul").stop().show();
                          for (var i = 0; i < n.length; i++)
                              t.push(n[i]);
                          r.list = t
                      }
                  });
              else {
                  $(".searchTourName").removeClass("remove-border-bottom");
                  $(".awesomplete ul").stop().hide();
                  $(".awesomplete .awesomplete ul").attr("hidden");
                  return
              }
          });
          $("#searchTourName").keydown(function(n) {
              var t = n.which ? n.which : n.keyCode;
              13 === t && ($("#submit-tour").trigger("click"),
              setTimeout(function() {
                  var n = $("#searchTourName").val();
                  location.href = "/tour/#!/search/" + encodeURI(n)
              }, 100))
          });
          u = !0;
          $(".destination-input").on("blur", function() {
              $(".soon-city").slideUp(100)
          });
          $(".awesomplete .awesomplete").on("blur", function() {
              $(".awesomplete .awesomplete ul").attr("hidden");
              $(".awesomplete ul").stop().hide()
          });
          $(".tehran-destination").click(function(n) {
              n.stopPropagation();
              $(".suggestFixTour").stop().slideUp(100);
              $(".soon-city").stop().slideToggle(100);
              $(this).toggleClass("remove-border-bottom-soon");
              $(".soon-city").toggleClass("remove-border-top")
          });
          $(".submit-tour").on("click", function() {
              console.log("Clickeed!!");
              var n = $(".searchTourName").val();
              $(this).attr("href", "/tour/#!/search/" + encodeURI(n))
          })
      }
      function mod(n, t) {
          return n - t * Math.floor(n / t)
      }
      function jwday(n) {
          return mod(Math.floor(n + 1.5), 7)
      }
      function leap_gregorian(n) {
          return n % 4 == 0 && !(n % 100 == 0 && n % 400 != 0)
      }
      function gregorian_to_jd(n, t, i) {
          return GREGORIAN_EPOCH - 1 + 365 * (n - 1) + Math.floor((n - 1) / 4) + -Math.floor((n - 1) / 100) + Math.floor((n - 1) / 400) + Math.floor((367 * t - 362) / 12 + (t <= 2 ? 0 : leap_gregorian(n) ? -1 : -2) + i)
      }
      function jd_to_gregorian(n) {
          var i, r, s, u, f, e, h, c, o, t, l, a;
          return i = Math.floor(n - .5) + .5,
          r = i - GREGORIAN_EPOCH,
          s = Math.floor(r / 146097),
          u = mod(r, 146097),
          f = Math.floor(u / 36524),
          e = mod(u, 36524),
          h = Math.floor(e / 1461),
          c = mod(e, 1461),
          o = Math.floor(c / 365),
          t = s * 400 + f * 100 + h * 4 + o,
          f == 4 || o == 4 || t++,
          l = i - gregorian_to_jd(t, 1, 1),
          a = i < gregorian_to_jd(t, 3, 1) ? 0 : leap_gregorian(t) ? 1 : 2,
          month = Math.floor(((l + a) * 12 + 373) / 367),
          day = i - gregorian_to_jd(t, month, 1) + 1,
          [t, month, day]
      }
      function leap_persian(n) {
          return ((n - (n > 0 ? 474 : 473)) % 2820 + 474 + 38) * 682 % 2816 < 682
      }
      function persian_to_jd(n, t, i) {
          var r, u;
          return r = n - (n >= 0 ? 474 : 473),
          u = 474 + mod(r, 2820),
          i + (t <= 7 ? (t - 1) * 31 : (t - 1) * 30 + 6) + Math.floor((u * 682 - 110) / 2816) + (u - 1) * 365 + Math.floor(r / 2820) * 1029983 + (PERSIAN_EPOCH - 1)
      }
      function jd_to_persian(n) {
          var t, u, s, f, h, i, e, o, c, r;
          return n = Math.floor(n) + .5,
          f = n - persian_to_jd(475, 1, 1),
          h = Math.floor(f / 1029983),
          i = mod(f, 1029983),
          i == 1029982 ? e = 2820 : (o = Math.floor(i / 366),
          c = mod(i, 366),
          e = Math.floor((2134 * o + 2816 * c + 2815) / 1028522) + o + 1),
          t = e + 2820 * h + 474,
          t <= 0 && t--,
          r = n - persian_to_jd(t, 1, 1) + 1,
          u = r <= 186 ? Math.ceil(r / 31) : Math.ceil((r - 6) / 30),
          s = n - persian_to_jd(t, u, 1) + 1,
          [t, u, s]
      }
      function calcPersian(n, t, i) {
          var r, u;
          return u = persian_to_jd(n, t, i),
          r = jd_to_gregorian(u),
          weekday = jwday(u),
          [r[0], r[1], r[2], weekday]
      }
      function calcGregorian(n, t, i) {
          t--;
          var r, u;
          return r = gregorian_to_jd(n, t + 1, i) + Math.floor(0 + .5) / 86400,
          perscal = jd_to_persian(r),
          u = jwday(r),
          [perscal[0], perscal[1], perscal[2], u]
      }
      function getTodayGregorian() {
          var i = new Date
            , n = new Date
            , t = n.getYear();
          return t < 1e3 && (t += 1900),
          [t, n.getMonth() + 1, n.getDate(), i.getDay()]
      }
      function getTodayPersian() {
          var i = new Date
            , n = getTodayGregorian()
            , t = calcGregorian(n[0], n[1], n[2]);
          return [t[0], t[1], t[2], i.getDay()]
      }
      function JalaliDate(n, t, i) {
          function e(n) {
              var i = 0, t;
              return n[1] < 0 && (i = leap_persian(n[0] - 1) ? 30 : 29,
              n[1]++),
              t = jd_to_gregorian(persian_to_jd(n[0], n[1] + 1, n[2]) - i),
              t[1]--,
              t
          }
          function o(n) {
              var t = jd_to_persian(gregorian_to_jd(n[0], n[1] + 1, n[2]));
              return t[1]--,
              t
          }
          function s(n) {
              return n && n.getGregorianDate && (n = n.getGregorianDate()),
              r = new Date(n),
              r.setHours(r.getHours() > 12 ? r.getHours() + 2 : 0),
              (!r || r == "Invalid Date" || isNaN(r || !r.getDate())) && (r = new Date),
              u = o([r.getFullYear(), r.getMonth(), r.getDate()]),
              this
          }
          var r, u, f;
          isNaN(parseInt(n)) || isNaN(parseInt(t)) || isNaN(parseInt(i)) ? s(n) : (f = e([parseInt(n, 10), parseInt(t, 10), parseInt(i, 10)]),
          s(new Date(f[0],f[1],f[2])));
          this.getGregorianDate = function() {
              return r
          }
          ;
          this.setFullDate = s;
          this.setMonth = function(n) {
              u[1] = n;
              var t = e(u);
              r = new Date(t[0],t[1],t[2]);
              u = o([t[0], t[1], t[2]])
          }
          ;
          this.setDate = function(n) {
              u[2] = n;
              var t = e(u);
              r = new Date(t[0],t[1],t[2]);
              u = o([t[0], t[1], t[2]])
          }
          ;
          this.getFullYear = function() {
              return u[0]
          }
          ;
          this.getMonth = function() {
              return u[1]
          }
          ;
          this.getDate = function() {
              return u[2]
          }
          ;
          this.toString = function() {
              return u.join(",").toString()
          }
          ;
          this.getDay = function() {
              return r.getDay()
          }
          ;
          this.getHours = function() {
              return r.getHours()
          }
          ;
          this.getMinutes = function() {
              return r.getMinutes()
          }
          ;
          this.getSeconds = function() {
              return r.getSeconds()
          }
          ;
          this.getTime = function() {
              return r.getTime()
          }
          ;
          this.getTimeZoneOffset = function() {
              return r.getTimeZoneOffset()
          }
          ;
          this.getYear = function() {
              return u[0] % 100
          }
          ;
          this.setHours = function(n) {
              r.setHours(n)
          }
          ;
          this.setMinutes = function(n) {
              r.setMinutes(n)
          }
          ;
          this.setSeconds = function(n) {
              r.setSeconds(n)
          }
          ;
          this.setMilliseconds = function(n) {
              r.setMilliseconds(n)
          }
      }
      function covertPersionToGregorian(n) {
          return jd_to_gregorian(persian_to_jd(+n[0], +n[1], +n[2]))
      }
      function covertGregorianToPersion(n) {
          return jd_to_persian(gregorian_to_jd(+n[0], +n[1], +n[2]))
      }
      function changeCalendarsRegion(n) {
          $(".hasDatepicker").each(function(t, i) {
              var r = $(i)
                , o = r.datepicker("option", "dateFormat")
                , u = r.datepicker("option", "dateFormat", "yy/mm/dd").val()
                , f = r.datepicker("option", "maxDate")
                , e = r.datepicker("option", "minDate");
              r.datepicker("option", "maxDate", null );
              r.datepicker("option", "minDate", null );
              n === "en" ? (r.datepicker("option", $.datepicker.regional[""]),
              u && (u.substr(0, 2) === "13" || u.substr(0, 2) === "14") && r.datepicker("setDate", new Date(covertPersionToGregorian(u.split("/")).join("/"))),
              f && (f.substr(0, 2) === "13" || f.substr(0, 2) === "14") && r.datepicker("option", "maxDate", new Date(covertPersionToGregorian(f.split("/")).join("/"))),
              e && (e.substr(0, 2) === "13" || e.substr(0, 2) === "14") && r.datepicker("option", "minDate", new Date(covertPersionToGregorian(e.split("/")).join("/"))),
              o && r.datepicker("option", "dateFormat", o)) : (r.datepicker("option", $.datepicker.regional.fa),
              u && (u.substr(0, 2) === "19" || u.substr(0, 2) === "20") && r.datepicker("setDate", new Date(u)),
              f && (f.substr(0, 2) === "19" || f.substr(0, 2) === "20") && r.datepicker("option", "maxDate", new Date(f)),
              e && (e.substr(0, 2) === "19" || e.substr(0, 2) === "20") && r.datepicker("option", "minDate", new Date(e)),
              o && r.datepicker("option", "dateFormat", o))
          })
      }
      function searchTrainOptionButtonClick(n) {
          n.preventDefault();
          $("#TrainOptions").is(":visible") ? setTrainOptionVisible(!1, !0) : setTrainOptionVisible(!0, !0)
      }
      function setTrainOptionVisible(n, t) {
          t ? ($(".train-options").show(),
          n ? ($("#TrainOptions").show(),
          $("#searchTrainOptionButton").text("- بستن سایر گزینه ها")) : ($("#TrainOptions").hide(),
          $("#searchTrainOptionButton").text("+ سایر گزینه ها"),
          $("#exclusiveCompartment").removeAttr(""))) : $(".train-options").hide()
      }
      function getAvailableLink(n, t) {
          var i, u, r;
          switch (t) {
          case 1:
              i = "flights";
              break;
          case 2:
              i = "international";
              break;
          case 4:
              i = "train";
              break;
          case 5:
              i = "bus";
              break;
          default:
              i = "flights"
          }
          return u = n.depart.replace(/[\\/]/g, "-"),
          n.return && (u += "/" + n.return.replace(/[\\/]/g, "-")),
          r = "/" + i + "/" + n.origin + "-" + n.destination + "/" + u,
          (t === 1 || t === 2) && (r += "/" + n.adults + "-" + n.childs + "-" + n.infants),
          t === 2 && (r += "/" + n.flightClass + "-" + n.nonStopFlight + "-" + n.airlines),
          t === 4 && (r += "/" + n.transit + "-" + n.passengerCount + "-" + n.ticketType + "-" + n.exclusiveCompartment),
          t === 5 && (r += "/" + n.passengerCount + "-" + n.ticketType + "-" + n.exclusiveCompartment),
          r
      }
      function SetPhoneBookInView() {
          var t = $("<table><\\/table>").addClass("phonebookTable")
            , n = $("<tr><\\/tr>").addClass("phonebookTableHeader");
          t.append(n);
          n.append($("<td><\\/td>").addClass("hidden-xs").text("جنسیت"));
          n.append($("<td><\\/td>").addClass("").text("نام انگلیسی"));
          n.append($("<td><\\/td>").addClass("").text("نام خانوادگی انگلیسی"));
          n.append($("<td><\\/td>").addClass("hidden-xs").text("نام"));
          n.append($("<td><\\/td>").addClass("hidden-xs").text("نام خانوادگی"));
          n.append($("<td><\\/td>").addClass("hidden-xs").text("تاریخ تولد"));
          n.append($("<td><\\/td>").addClass("hidden-xs").text("کد ملی"));
          app.DomesticFlightPage == !0 ? n.append($("<td class='search-passenger-wrapper'><\\/td>").html("<div class='search-passenger' onclick='searchPassenger(this)'><span>جستجو<\\/span><\\/div>")) : n.append($("<td><\\/td>").html(""));
          jQuery.isEmptyObject(app.PhoneBookData) || jQuery.each(app.PhoneBookData, function(n, i) {
              var r = $("<tr><\\/tr>").addClass("phonebookTableRow");
              t.append(r);
              r.append($("<td><\\/td>").addClass("hidden-xs").text(i.PersianGenderType));
              r.append($("<td><\\/td>").addClass("").text(i.EnglishName));
              r.append($("<td><\\/td>").addClass("").text(i.EnglishLastName));
              r.append($("<td><\\/td>").addClass("hidden-xs").text(i.Name));
              r.append($("<td><\\/td>").addClass("hidden-xs").text(i.LastName));
              r.append($("<td><\\/td>").addClass("hidden-xs").text(i.BirthDate_Persian));
              r.append($("<td><\\/td>").addClass("hidden-xs").text(i.NationalID));
              app.DomesticFlightPage == !0 ? r.append($("<td><\\/td>").addClass("").css({
                  "max-width": "110px",
                  "min-width": "110px"
              }).append($('<div onclick="SelectFromPhoneBook(' + n + ');"><span>+ <\\/span> انتخاب<\\/div>').addClass("basePhoneBookButton").addClass("selectPhoneBookButton")).append($('<div onclick="DeleteFromPhoneBook(' + n + ');">حذف<\\/div>').addClass("basePhoneBookButton").addClass("deletePhoneBookButton"))) : r.append($("<td><\\/td>").addClass("").css({
                  "max-width": "110px",
                  "min-width": "110px"
              }).append($('<div onclick="SelectFromPhoneBook(' + n + ');">انتخاب<\\/div>').addClass("basePhoneBookButton").addClass("selectPhoneBookButton")).append($('<div onclick="DeleteFromPhoneBook(' + n + ');">حذف<\\/div>').addClass("basePhoneBookButton").addClass("deletePhoneBookButton")))
          });
          $(".load-passenger-info-container").empty();
          $(".load-passenger-info-container").append(t)
      }
      function searchArrayOfPassengers(n) {
          var t = $.map(app.PhoneBookData, function(t) {
              t.ID === n && (SelectFromPhoneBook_WithItem(t),
              $.unblockUI())
          })
      }
      function SelectFromPhoneBook(n) {
          SelectFromPhoneBook_WithItem(app.PhoneBookData[n]);
          $.unblockUI()
      }
      function SelectFromPhoneBook_WithItem(n) {
          var t, i, r;
          if (app.TrainPage) {
              switch (n.TariffID) {
              case 1:
                  t = "Adult";
                  break;
              case 2:
                  t = "Child";
                  break;
              case 3:
                  t = "Shahed";
                  break;
              case 4:
                  t = "Veteran";
                  break;
              case 5:
                  t = "Empty";
                  break;
              case 6:
                  t = "Infant";
                  break;
              case 7:
                  t = "transitCar";
                  break;
              default:
                  t = "Adult"
              }
              if (t === "Infant" && app.hdfExclusiveCompartment === "1") {
                  app.alert.error("امکان انتخاب طفل در کوپه دربست میسر نیست.");
                  t = "Adult";
                  app.setPassengerDatePicker(event);
                  return
              }
              $(".curentPassengerName").eq(0).val(n.Name);
              $(".curentPassengerLastName").eq(0).val(n.LastName);
              $(".curentPassengerGender").eq(0).find("option:eq(" + n.TypeID + ")").prop("selected", !0);
              $(".curentPassengerType").eq(0).find('[value="' + t + '"]').prop("selected", !0);
              (n.Name.toString().trim() == "" || n.LastName.toString().trim() == "") && toastr.error("خطا در ورود اطلاعات", "لطفا نام خود را فارسی وارد کنید");
              intRegex = /^[A-Za-z_ ]*$/;
              intRegex.test(n.EnglishName) && $(".curentPassengerEnglishName").eq(0).val(n.EnglishName);
              intRegex.test(n.EnglishLastName) && $(".curentPassengerEnglishLastName").eq(0).val(n.EnglishLastName)
          } else
              app.BusPage ? ($(".curentPassengerName").eq(0).val(n.Name),
              $(".curentPassengerLastName").eq(0).val(n.LastName)) : ($(".curentPassengerGender").eq(0).find("option:eq(" + n.TypeID + ")").prop("selected", !0),
              intRegex = /^[A-Za-z_ ]*$/,
              intRegex.test(n.EnglishName) && $(".curentPassengerName").eq(0).val(n.EnglishName),
              intRegex.test(n.EnglishLastName) && $(".curentPassengerLastName").eq(0).val(n.EnglishLastName),
              intRegex = /^[\\u0600-\\u06FF\\uFB8A\\u067E\\u0686\\u06AF ]+$/,
              intRegex.test(n.Name) && $(".curentPassengerPersianName").eq(0).val(n.Name),
              intRegex.test(n.LastName) && $(".curentPassengerPersianLastName").eq(0).val(n.LastName));
          $(".curentPassengerbirthday").closest(".passenger-detail-info").attr("id", n.ID);
          $(".curentPassengerNationalID").eq(0).val(n.NationalID);
          app.InternationalPage ? ($(".curentPassengerbirthday").eq(0).val(n.BirthDate_Persian),
          n.PlaceOfBirth != null && $(".curentPlaceOfBirth").select2("data", {
              id: n.PlaceOfBirthCode,
              text: n.PlaceOfBirth
          }),
          n.PlaceOfIssue != null && $(".curentPlaceOfIssue").select2("data", {
              id: n.PlaceOfIssueCode,
              text: n.PlaceOfIssue
          }),
          $(".curentPassportCode").eq(0).val(n.PassportCode),
          $(".curentPassportExpireDate").eq(0).val(n.PassportExpireDatePersian)) : (app.setPassengerDatePickerWithPassengerList($(".curentPassengerGender").eq(0)),
          $(".curentPassengerbirthday").eq(0).val(n.BirthDate_Persian));
          $(".curentPassengerbirthday").length == 0 && n.BirthDate_Persian != "" && n.BirthDate_Persian != null && n.BirthDate_Persian != "undefined" && (i = $("#forward .choose.selected").data("date"),
          IsChild(n.BirthDate_Persian, i, 1, "مسافر در بازه‌ی سنی کودک قرار دارد. لطفاً برای جلوگیری از پرداخت هزینه‌ی اضافه برای بلیط، نوع مسافر خود را «کودک» انتخاب کنید. ", !0),
          r = IsChild(n.BirthDate_Persian, i, 2, "مسافر در بازه‌ی سنی نوزاد قرار دارد. لطفاً برای جلوگیری از پرداخت هزینه‌ی اضافه برای بلیط، نوع مسافر خود را «نوزاد» انتخاب کنید. ", !0));
          ExitFromSelectFromPhoneBook()
      }
      function ExitFromSelectFromPhoneBook() {
          $(".curentPassengerGender").eq(0).removeClass("curentPassengerGender");
          $(".curentPassengerName").eq(0).removeClass("curentPassengerName");
          $(".curentPassengerLastName").eq(0).removeClass("curentPassengerLastName");
          $(".curentPassengerPersianName").eq(0).removeClass("curentPassengerPersianName");
          $(".curentPassengerPersianLastName").eq(0).removeClass("curentPassengerPersianLastName");
          $(".curentPassengerNationalID").eq(0).removeClass("curentPassengerNationalID");
          $(".curentPassengerbirthday").eq(0).removeClass("curentPassengerbirthday");
          app.TrainPage && ($(".curentPassengerType").eq(0).removeClass("curentPassengerType"),
          $(".curentPassengerEnglishName").eq(0).removeClass("curentPassengerEnglishName"),
          $(".curentPassengerEnglishLastName").eq(0).removeClass("curentPassengerEnglishLastName"));
          app.InternationalPage && ($(".curentPlaceOfBirth").eq(0).removeClass("curentPlaceOfBirth"),
          $(".curentPlaceOfIssue").eq(0).removeClass("curentPlaceOfIssue"),
          $(".curentPassportCode").eq(0).removeClass("curentPassportCode"),
          $(".curentPassportExpireDate").eq(0).removeClass("curentPassportExpireDate"))
      }
      function DeleteFromPhoneBook(n) {
          if (confirm("آیا رکورد انتخاب شده حذف گردد؟")) {
              var t = app.PhoneBookData[n].ID;
              app.PhoneBookData.splice(n, 1);
              SetPhoneBookInView();
              $.ajax({
                  type: "POST",
                  url: "/selectFlight.aspx/DeletePhoneBookDT",
                  data: JSON.stringify({
                      ID: t
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  async: !1,
                  timeout: 12e4,
                  error: function(n) {
                      console.error(n)
                  },
                  success: function() {
                      alert("عملیات حذف با موفقیت انجام شد")
                  }
              })
          }
      }
      function IsChild(n, t, i, r, u) {
          $.ajax({
              type: "POST",
              url: "/api/IsChild",
              data: JSON.stringify({
                  persianBirthDate: n,
                  persianFlightDate: t,
                  agetype: i
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              async: !1,
              error: function() {
                  return !1
              },
              success: function(n) {
                  return r != "" && n == u && app.showAlert(r),
                  n
              }
          })
      }
      function addCountryList(n) {
          $(n).select2({
              placeholder: "انتخاب کنید...",
              allowClear: !0,
              minimumInputLength: 2,
              dir: "rtl",
              query: function(n) {
                  app.cacheCountries || (app.cacheCountries = []);
                  var t = n.term
                    , i = app.cacheCountries[t];
                  if (i) {
                      n.callback({
                          results: i
                      });
                      return
                  }
                  $.ajax({
                      type: "POST",
                      dataType: "json",
                      contentType: "application/json; charset=utf-8",
                      data: JSON.stringify({
                          query: n.term
                      }),
                      url: "/api/SearchCountryCodes",
                      success: function(i) {
                          app.cacheCountries[t] = i;
                          n.callback({
                              results: i
                          })
                      }
                  })
              }
          })
      }
      function addPassenger(n, t) {
          var i, r, u, f;
          if ($("#passengers").find(".passenger-detail-info").length >= 9) {
              toastr.error("خطا در ورود اطلاعات", "مجموع تعداد مسافر نباید بیشتر از 9 باشد، در صورت نیاز تعداد بیشتر را جداگانه صادر کنید");
              return
          }
          if (addTimeToTimer(90),
          app.passengersCount = app.passengersCount ? app.passengersCount + 1 : 1,
          i = '<div class="passenger-detail-info" >',
          app.DomesticFlightPage) {
              i += '<div class="col-md-12"><a class="load-passenger-info"> مسافران سابق<\\/a> ';
              i += ' <a class="remove-passenger"><\\/a>';
              switch (n) {
              case 0:
                  i += ' <div class="m-passengers__forms__type">بزرگسال<\\/div>';
                  break;
              case 1:
                  i += ' <div class="m-passengers__forms__type">کودک<\\/div>';
                  break;
              case 2:
                  i += ' <div class="m-passengers__forms__type">نوزاد<\\/div>'
              }
          } else
              i += '<div style="text-align:left;" class="margin-bottom-10 m-passengers__load"><div class=\\'row\\'><div class=\\'col-xs-12\\'><a class="btn btn-default btn-xs load-passenger-info"><span class="glyphicon glyphicon-user"><\\/span> مسافران سابق<\\/a> ',
              app.InternationalPage || app.InternationalFlightPage || (i += ' <a class="btn btn-danger btn-xs remove-passenger"><span class="glyphicon glyphicon-remove"><\\/span><\\/a><\\/div>');
          i += app.DomesticFlightPage ? "<\\/div>" : "<\\/div><\\/div>";
          i += '<div class="row padding-right-10 margin-bottom-10" ' + 
          (app.InternationalPage || app.InternationalFlightPage ? 'style="display:none;"' : "")
           + '><label class="radio-inline"><input type="radio" name="passenger-type' +
            app.passengersCount + 
            '" class="passenger-type" value="" checked="checked"> ایرانی<\\/label><label class="radio-inline"><input type="radio" ' + 
            (app.InternationalPage || app.InternationalFlightPage ? 'checked="checked"' : "") + 
            ' name="passenger-type' + app.passengersCount + 
            '" class="passenger-type" value="foreign"> اتباع خارجی<\\/label><\\/div>';
          i += '<div class="row clear"><div class="col-xs-12 col-sm-3 margin-bottom-10"><select name="gender" class="FieldRequired form-control"><option value="" selected="selected">جنسیت...<\\/option><option value="MR">آقا<\\/option><option value="MS">خانم<\\/option><\\/select><\\/div>';
          i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="name" placeholder="نام لاتین"  class="passenger-name FieldRequired form-control"><\\/div>';
          i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="family" placeholder="نام خانوادگی لاتین"  class="passenger-name FieldRequired form-control"><\\/div>';
          app.InternationalPage || app.InternationalFlightPage || (i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="nationalid" placeholder="کد ملی" class="passenger-name form-control FieldRequired" maxlength="10"><\\/div>');
          i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="age" placeholder="تاریخ تولد" class="birthday FieldRequired form-control" readonly="readonly"><\\/div>';
          app.InternationalPage || app.InternationalFlightPage || (i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_name" placeholder="نام" class="FieldRequired passenger-name form-control"><\\/div>',
          i += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_family" placeholder="نام خانوادگی" class="FieldRequired passenger-name form-control"><\\/div>');
          i += "<\\/div>";
          i += '<div class="row foreign" style="' + (!app.InternationalPage && !app.InternationalFlightPage ? "display:none" : "") + '">' + (!app.InternationalPage && !app.InternationalFlightPage ? '<div class="col-xs-12 margin-bottom-5"><strong>اطلاعات اتباع خارجی:<\\/strong><\\/div>' : "") + '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="hidden" id="residency' + app.passengersCount + '" name="residency" placeholder="کشور محل تولد" class="FieldRequired residency passenger-statecode search text-right" style="width: 100%;" /><\\/div><div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="hidden" id="placeOfIssue' + app.passengersCount + '" name="placeOfIssue" placeholder="کشور صادرکننده پاسپورت" class="FieldRequired placeOfIssue passenger-placeOfIssue search text-right" style="width: 100%;" /><\\/div><div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" placeholder="شماره پاسپورت" name="passportcode" class="FieldRequired passenger-passportcode form-control" /><\\/div><div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" id="passportDate' + app.passengersCount + '" name="passportDate" placeholder="تاریخ انقضا پاسپورت" class="FieldRequired passenger-expiredate form-control" readonly="readonly" /><\\/div><\\/div>';
          i += "<\\/div>";
          r = function(t) {
              var i, r;
              switch (n) {
              case 0:
                  $("#adult-passengers-detail-info").append(t);
                  $("#adult-passengers").removeClass("hidden");
                  i = $("#adult-passengers .passenger-detail-info");
                  break;
              case 1:
                  $("#child-passengers-detail-info").append(t);
                  $("#child-passengers").removeClass("hidden");
                  i = $("#child-passengers-detail-info .passenger-detail-info");
                  break;
              case 2:
                  $("#infant-passengers-detail-info").append(t);
                  $("#infant-passengers").removeClass("hidden");
                  i = $("#infant-passengers-detail-info .passenger-detail-info")
              }
              r = $(i[i.length - 1]);
              app.setFlightPassengerDatePicker(r, n)
          }
          ;
          t != null && t != "undefined" ? (u = '<div id="tempPassenger" class=""><\\/div>',
          $("#passengers").append(u),
          $("#tempPassenger").append(i),
          ReadyPassngerBoxToLoadData($("#tempPassenger").eq(0)),
          SelectFromPhoneBook_WithItem(t),
          f = $("#tempPassenger").find(".passenger-detail-info").clone(),
          r(f),
          $("#tempPassenger").remove()) : r(i);
          addCountryList("#residency" + app.passengersCount);
          addCountryList("#placeOfIssue" + app.passengersCount);
          app.checkCharacters();
          window.validatePassengerBound || app.validatePassengers();
          $("#passportDate" + app.passengersCount).datepicker({
              dateFormat: "yy/mm/dd",
              yearRange: "-100:+110",
              firstDay: 1,
              numberOfMonths: 1,
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          })
      }
      function addTrainPassenger() {
          var n, t;
          if ($("#passengers").find(".passenger-detail-info").length >= 6) {
              toastr.error("خطا در ورود اطلاعات", "مجموع تعداد مسافر نباید بیشتر از 6 باشد، در صورت نیاز تعداد بیشتر را جداگانه صادر کنید");
              return
          }
          app.passengersCount = app.passengersCount ? app.passengersCount + 1 : 1;
          n = '<div class="passenger-detail-info">';
          n += '<div style="text-align:left;" class="margin-bottom-10"><a class="btn btn-default btn-xs load-passenger-info margin-bottom-10"><span class="glyphicon glyphicon-user"><\\/span> مسافران سابق<\\/a> ';
          n += ' <a class="btn btn-danger remove-passenger btn-xs"><span class="glyphicon glyphicon-remove"><\\/span><\\/a><\\/div>';
          n += '<div class="row padding-right-10 margin-bottom-10"><label class="radio-inline"><input type="radio" name="passenger-type' + app.passengersCount + '" class="passenger-type" value="" checked="checked"> ایرانی<\\/label><label class="radio-inline"><input type="radio" name="passenger-type' + app.passengersCount + '" class="passenger-type" value="foreign"> اتباع خارجی<\\/label><\\/div>';
          n += '<div class="row clear"><div class="col-xs-12 col-sm-2 margin-bottom-10"><select name="tariff" class="passenger-type FieldRequired form-control" onchange="app.setPassengerDatePicker(event);"><option value="" selected="selected">نوع مسافر...<\\/option><option value="Adult">بزرگسال<\\/option><option value="Child">کودک<\\/option><option value="Infant">طفل<\\/option><\\/select><\\/div>';
          n += '<div class="col-xs-12 col-sm-2 margin-bottom-10"><select name="gender" class="passenger-gender FieldRequired form-control"><option value="" selected="selected">جنسیت...<\\/option><option value="MR">آقا<\\/option><option value="MS">خانم<\\/option><\\/select><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_name" placeholder="نام" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_family" placeholder="نام خانوادگی" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-2 margin-bottom-10"><input type="text" name="age" placeholder="تاریخ تولد" id="customedate' + app.passengersCount + '" class="birthday FieldRequired form-control" readonly="readonly"><\\/div><div id="welcomeDiv"  style="display:none;" class="answer_list" > WELCOME<\\/div>';
          n += '<div class="col-xs-12 col-sm-2 margin-bottom-10"><input type="text" name="nationalid" placeholder="کد ملی" class="passenger-name form-control FieldRequired" maxlength="10"><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="en_name" placeholder="First Name" dir="ltr" class="passenger-name form-control text-left"><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="en_family" placeholder="Last Name" dir="ltr" class="passenger-name form-control text-left"><\\/div>';
          n += '<div class="row clear">';
          n += '<div id="divoriginFood' + app.passengersCount + '" class="col-xs-12 col-sm-4 margin-bottom-10"><select name="originFood" id="ddloriginFood' + app.passengersCount + '" class="FieldRequired form-control"><\\/select><\\/div>';
          n += '<div id="divdestinationFood' + app.passengersCount + '" class="col-xs-12 col-sm-4 margin-bottom-10"><select name="destinationFood" id="ddldestinationFood' + app.passengersCount + '" class="FieldRequired form-control"><\\/select><\\/div>';
          n += "<\\/div>";
          n += "<\\/div>";
          n += '<div class="row foreign" style="display:none"><div class="col-xs-12 margin-bottom-5"><strong>اطلاعات اتباع خارجی:<\\/strong><\\/div><div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" placeholder="شماره پاسپورت" class="FieldRequired passenger-passportcode form-control" /><\\/div><\\/div>';
          n += "<\\/div>";
          t = function(n) {
              $("#train-passengers-detail-info").append(n)
          }
          ;
          t(n);
          addCountryList("#residency" + app.passengersCount);
          addCountryList("#placeOfIssue" + app.passengersCount);
          app.checkCharactersTrain();
          window.validatePassengerBound || app.validateTrainPassengers();
          $(".birthday").datepicker({
              dateFormat: "yy/mm/dd",
              firstDay: 1,
              numberOfMonths: 1,
              yearRange: "-120:+2",
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          });
          $("#ddloriginFood" + app.passengersCount).empty();
          $("#ddldestinationFood" + app.passengersCount).empty();
          $("#ddlOriginFoodTotal option").clone().appendTo("#ddloriginFood" + app.passengersCount);
          $("#ddlDestinationFoodTotal option").clone().appendTo("#ddldestinationFood" + app.passengersCount);
          $("#ddloriginFood" + app.passengersCount + " option").size() < 2 && $("#divoriginFood" + app.passengersCount).css("display", "none");
          $("#ddldestinationFood" + app.passengersCount + " option").size() < 2 && $("#divdestinationFood" + app.passengersCount).css("display", "none");
          $("#passengerCountForFood").val(app.passengersCount);
          $("#passportDate" + app.passengersCount).datepicker({
              dateFormat: "yy/mm/dd",
              yearRange: "-2:+110",
              firstDay: 1,
              numberOfMonths: 1,
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          })
      }
      function addTrainTransitCar() {
          var n, t;
          if ($("#passengers").find(".passenger-detail-info").length >= 6) {
              toastr.error("خطا در ورود اطلاعات", "مجموع تعداد مسافر نباید بیشتر از 6 باشد، در صورت نیاز تعداد بیشتر را جداگانه صادر کنید");
              return
          }
          app.passengersCount = app.passengersCount ? app.passengersCount + 1 : 1;
          n = '<div class="passenger-detail-info">';
          n += '<div style="text-align:left;" class="margin-bottom-10"><a class="btn btn-default btn-xs load-passenger-info margin-bottom-10"><span class="glyphicon glyphicon-user"><\\/span> مسافران سابق<\\/a> ';
          n += ' <a class="btn btn-danger remove-passenger btn-xs"><span class="glyphicon glyphicon-remove"><\\/span><\\/a><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_name" placeholder="نام" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_family" placeholder="نام خانوادگی" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="nationalid" placeholder="کد ملی" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-5 margin-bottom-10"><input type="text" name="pelakNumber" placeholder="شماره پلاک یا شماره شاسی - نوع خودرو(الزامی می باشد) " class="passenger-name form-control FieldRequired"><\\/div><\\/div>';
          n += "<\\/div><br/>";
          t = function(n) {
              $("#train-passengers-detail-info").append(n)
          }
          ;
          t(n);
          app.checkCharactersTrain();
          window.validatePassengerBound || app.validateTrainPassengers()
      }
      function addBusPassenger() {
          var n, t;
          app.passengersCount = app.passengersCount ? app.passengersCount + 1 : 1;
          n = '<div class="passenger-detail-info row">';
          n += '<div style="text-align:left;" class="margin-bottom-10"><a class="btn btn-default btn-xs load-passenger-info margin-bottom-10"><span class="glyphicon glyphicon-user"><\\/span> مسافران سابق<\\/a> ';
          n += ' <a class="btn btn-danger remove-passenger btn-xs"><span class="glyphicon glyphicon-remove"><\\/span><\\/a>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_name" placeholder="نام" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" name="fa_family" placeholder="نام خانوادگی" class="passenger-name form-control FieldRequired "><\\/div>';
          n += '<div class="col-xs-12 col-sm-2 margin-bottom-10"><input type="text" name="nationalid" placeholder="کد ملی" class="passenger-name form-control FieldRequired" maxlength="10"><\\/div><\\/div>';
          n += '<div class="row foreign" style="display:none"><div class="col-xs-12 margin-bottom-5"><strong>اطلاعات اتباع خارجی:<\\/strong><\\/div><div class="col-xs-12 col-sm-3 margin-bottom-10"><input type="text" placeholder="شماره پاسپورت" class="FieldRequired passenger-passportcode form-control" /><\\/div><\\/div>';
          n += "<\\/div>";
          t = function(n) {
              $("#bus-passengers-detail-info").append(n)
          }
          ;
          t(n);
          addCountryList("#residency" + app.passengersCount);
          addCountryList("#placeOfIssue" + app.passengersCount);
          app.checkCharacters();
          window.validatePassengerBound || app.validateBusPassengers();
          $(".birthday").datepicker({
              dateFormat: "yy/mm/dd",
              firstDay: 1,
              numberOfMonths: 1,
              yearRange: "-120:+2",
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          });
          $("#passportDate" + app.passengersCount).datepicker({
              dateFormat: "yy/mm/dd",
              yearRange: "-2:+110",
              firstDay: 1,
              numberOfMonths: 1,
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          })
      }
      function GetPassengerTypeName(n) {
          switch (n) {
          case 0:
              return "بزرگسال";
          case 1:
              return "کودک";
          case 2:
              return "نوزاد";
          default:
              return "بزرگسال"
          }
      }
      function ReadyPassngerBoxToLoadData(n) {
          app.TrainPage ? (n.find("select.passenger-gender").eq(0).addClass("curentPassengerGender"),
          n.find("select.passenger-type").eq(0).addClass("curentPassengerType"),
          n.find(".passenger-name").eq(0).addClass("curentPassengerName"),
          n.find(".passenger-name").eq(1).addClass("curentPassengerLastName"),
          n.find(".passenger-name").eq(3).addClass("curentPassengerEnglishName"),
          n.find(".passenger-name").eq(4).addClass("curentPassengerEnglishLastName")) : (n.find("select").eq(0).addClass("curentPassengerGender"),
          n.find(".passenger-name").eq(3).addClass("curentPassengerPersianName"),
          n.find(".passenger-name").eq(4).addClass("curentPassengerPersianLastName"));
          n.find(".passenger-name").eq(0).addClass("curentPassengerName");
          n.find(".passenger-name").eq(1).addClass("curentPassengerLastName");
          n.find(".passenger-name").eq(2).addClass("curentPassengerNationalID");
          n.find(".birthday").eq(0).addClass("curentPassengerbirthday");
          app.InternationalPage && (n.find(".select2-container.passenger-statecode").eq(0).addClass("curentPlaceOfBirth"),
          n.find(".select2-container.passenger-placeOfIssue").eq(0).addClass("curentPlaceOfIssue"),
          n.find(".passenger-passportcode").eq(0).addClass("curentPassportCode"),
          n.find(".passenger-expiredate").eq(0).addClass("curentPassportExpireDate"))
      }
      function BusRequest() {
          this.UniqueId = "";
          this.Origin = "";
          this.Destination = "";
          this.Date = "";
          this.BusId = "";
          this.Price = 0;
          this.CompanyCode = "";
          this.Passengers = []
      }
      function BusPassenger() {
          this.Pax = "";
          this.FirstName = "";
          this.LastName = "";
          this.NationalId = "";
          this.SeatNumber = "";
          this.Class = ""
      }
      function addTimeToTimer(n) {
          time = time + n;
          startCountdown(time, 1e3, timerEnded)
      }
      function subTimeFromTimer(n) {
          time < 90 || (time = time - n,
          startCountdown(time, 1e3, timerEnded))
      }
      function pauseTimer() {
          clearTimeout(timeout)
      }
      function startCountdown(n, t, i) {
          time = n;
          var r = parseInt(n / 60, 10)
            , u = parseInt(n % 60, 10);
          r = r < 10 ? "0" + r : r;
          u = u < 10 ? "0" + u : u;
          $("#timerdiv").html(r + ":" + u);
          n == 0 ? timerEnded() : (clearTimeout(timeout),
          timeout = setTimeout(function() {
              startCountdown(n - 1, t, i)
          }, t))
      }
      function timerEnded() {
          $("#countDownModal").modal("toggle")
      }
      function addCommaToThousand(n) {
          n += "";
          for (var i = n.split("."), t = i[0], u = i.length > 1 ? "." + i[1] : "", r = /(\\d+)(\\d{3})/; r.test(t); )
              t = t.replace(r, "$1,$2");
          return t + u
      }
      function availableFlightsTimer(n, t) {
          var i, r, u = t;
          this.pause = function() {
              window.clearTimeout(i);
              u -= new Date - r
          }
          ;
          this.resume = function() {
              r = new Date;
              window.clearTimeout(i);
              i = window.setTimeout(n, u)
          }
      }
      function acceptBeforePaymentTimer(n, t) {
          var i, r, u = t;
          this.pause = function() {
              window.clearTimeout(i);
              u -= new Date - r
          }
          ;
          this.resume = function() {
              r = new Date;
              window.clearTimeout(i);
              i = window.setTimeout(n, u)
          }
      }
      function filterAmadeusFilter(n, t) {
          var r = [], u = [], f = [], s = $.grep([$('input[name="ticket-type"]:checked').data("filter"), t], Boolean).join(""), e = s.split(","), o;
          for (i = 0; i < e.length; i++)
              $(".airLineRadio:checked").each(function() {
                  r.push($(this).data("filter") + $('input[name="time"]:checked').data("filter") + e[i])
              });
          for (i = 0; i < r.length; i++)
              $('input[name="ticket-flight-class"]:checked').each(function() {
                  u.push($(this).data("filter") + r[i])
              });
          for (i = 0; i < u.length; i++)
              $('input[name="ticket-available"]:checked').each(function() {
                  f.push($(this).data("filter") + u[i])
              });
          o = $.grep(f, Boolean).join(",");
          $(".choose.selected").removeClass("selected").text("انتخاب");
          $('input[data-disable="charter"]:checked').length > 0 ? $(".ticket-class-container").slideUp() : $(".ticket-class-container").slideDown();
          n.isotope({
              filter: o
          });
          setTimeout(function() {
              $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length)
          }, 500);
          setTimeout(function() {
              $(".available-count-number #filtered-count-return").text($("#backward").children("article:visible").length)
          }, 500)
      }
      function replaceAll(n, t, i) {
          return n.replace(new RegExp(t,"g"), i)
      }
      function sort_filter_flights(n, t) {
          switch (t) {
          case "price":
              $("#forward").isotope({
                  sortBy: ["price", "time", "ordersort"],
                  sortAscending: !0
              });
              $("#backward").isotope({
                  sortBy: ["price", "time", "ordersort"],
                  sortAscending: !0
              });
              $(".l-primary-col header.sort span").removeClass("active");
              n.addClass("active");
              n.addClass("sort-ascending");
              n.attr("data-sort-value", "price-a");
              break;
          case "time":
              $("#forward").isotope({
                  sortBy: ["time", "price", "ordersort"],
                  sortAscending: !0
              });
              $("#backward").isotope({
                  sortBy: ["time", "price", "ordersort"],
                  sortAscending: !0
              });
              $(".l-primary-col header.sort span").removeClass("active");
              n.addClass("active");
              n.addClass("sort-ascending");
              n.attr("data-sort-value", "time-a");
              break;
          case "price-a":
              $("#forward").isotope({
                  sortBy: "price",
                  sortAscending: !1
              });
              $("#backward").isotope({
                  sortBy: "price",
                  sortAscending: !1
              });
              $(".l-primary-col header.sort span").removeClass("active");
              n.addClass("active");
              n.removeClass("sort-ascending");
              n.attr("data-sort-value", "price");
              break;
          case "time-a":
              $("#forward").isotope({
                  sortBy: ["time", "price", "ordersort"],
                  sortAscending: !1
              });
              $("#backward").isotope({
                  sortBy: ["time", "price", "ordersort"],
                  sortAscending: !1
              });
              $(".l-primary-col header.sort span").removeClass("active");
              n.addClass("active");
              n.removeClass("sort-ascending");
              n.attr("data-sort-value", "time");
              break;
          case "LowestPrice":
              $("#forward").isotope({
                  sortBy: ["price", "leavingdeparttime"],
                  sortAscending: !0
              });
              $("#backward").isotope({
                  sortBy: ["price", "leavingdeparttime"],
                  sortAscending: !0
              });
              break;
          case "HighestPrice":
              $("#forward").isotope({
                  sortBy: "price",
                  sortAscending: !1
              });
              $("#backward").isotope({
                  sortBy: "price",
                  sortAscending: !1
              });
              break;
          case "LowestDuration":
              $("#forward").isotope({
                  sortBy: "duration",
                  sortAscending: !0
              });
              break;
          case "HighestDuration":
              $("#forward").isotope({
                  sortBy: "duration",
                  sortAscending: !1
              });
              break;
          case "LowestStopsDuration":
              $("#forward").isotope({
                  sortBy: "stopsduration",
                  sortAscending: !0
              });
              break;
          case "HighestStopsDuration":
              $("#forward").isotope({
                  sortBy: "stopsduration",
                  sortAscending: !1
              });
              break;
          case "LowestLeavingTime":
              $("#forward").isotope({
                  sortBy: ["leavingdeparttime", "price"],
                  sortAscending: !0
              });
              $("#backward").isotope({
                  sortBy: ["leavingdeparttime", "price"],
                  sortAscending: !0
              });
              break;
          case "LowestReturningTime":
              $("#forward").isotope({
                  sortBy: "returningdeparttime",
                  sortAscending: !0
              });
              break;
          case "HighestLeavingTime":
              $("#forward").isotope({
                  sortBy: "leavingdeparttime",
                  sortAscending: !1
              });
              break;
          case "HighestReturningTime":
              $("#forward").isotope({
                  sortBy: "returningdeparttime",
                  sortAscending: !1
              });
              break;
          case "LowestBest":
              $("#forward").isotope({
                  sortBy: ["bestflight", "price"],
                  sortAscending: {
                      bestflight: !1,
                      price: !0
                  }
              });
              break;
          case "HighestBest":
              $("#forward").isotope({
                  sortBy: ["bestflight", "price"],
                  sortAscending: {
                      bestflight: !1,
                      price: !0
                  }
              });
              break;
          default:
              $("#forward").isotope({
                  sortBy: ["bestflight", "price"],
                  sortAscending: {
                      bestflight: !1,
                      price: !0
                  }
              })
          }
      }
      function set_sort_filter_flights(n) {
          n.isotope("destroy");
          n.isotope({
              itemSelector: "article",
              getSortData: {
                  time: function(n) {
                      var t = $(n).find(".time-sort").text();
                      return parseFloat(t.replace(/:/g, ""))
                  },
                  price: function(n) {
                      var t = $(n).find(".price-sort").text();
                      return parseFloat(t.replace(/,/g, ""))
                  },
                  ordersort: function(n) {
                      var t = $(n).find(".order-sort").text();
                      return parseFloat(t.replace(/,/g, ""))
                  },
                  duration: function(n) {
                      var t = $(n).find(".duration-sort").text();
                      return parseFloat(t.replace(/,/g, ""))
                  },
                  stopsduration: function(n) {
                      var t = $(n).find(".stops-duration-sort").text();
                      return parseFloat(t.replace(/,/g, ""))
                  },
                  leavingdeparttime: function(n) {
                      var t = $(n).find(".leavingdeparttime-sort").text();
                      return parseFloat(t.replace(/:/g, ""))
                  },
                  returningdeparttime: function(n) {
                      var t = $(n).find(".returningdeparttime-sort").text();
                      return parseFloat(t.replace(/:/g, ""))
                  },
                  bestflight: function(n) {
                      var t = $(n).find(".bestflight-sort").text();
                      return parseFloat(t.replace(/:/g, ""))
                  },
                  hotelService: function(n) {
                      var t = $(n).data("hotelservice");
                      return t ? 0 : 1
                  }
              },
              sortBy: ["bestflight", "ordersort", "time", "price"],
              sortAscending: {
                  bestflight: !1
              }
          })
      }
      function removeDuplicateFlights() {
          var t = $("#forward article")
            , n = [];
          t.each(function(t, i) {
              var e = $(i), u = e.data("systemkey"), r, o, f;
              if (u !== "G" && u !== "K" && u !== "M" && u !== "J" && u !== "U" && u !== "V" && u !== "N") {
                  for (r = {
                      element: e,
                      key: e.data("flightnumber") + "-" + e.data("leavetime"),
                      price: +e.data("price"),
                      count: e.data("count")
                  },
                  o = 0; o < n.length; o++) {
                      if (f = n[o],
                      r.element.is(".selected-ticket") || r.price === 0 || r.count == 0)
                          return;
                      if (f.key === r.key) {
                          f.price > r.price ? (f.element.addClass("duplicate-flight").addClass("duplicate-flight-hide"),
                          n.splice(o, 1, r)) : f.price === r.price ? f.count > r.count ? r.element.addClass("duplicate-flight").addClass("duplicate-flight-hide") : (f.element.addClass("duplicate-flight").addClass("duplicate-flight-hide"),
                          n.splice(o, 1, r)) : r.element.addClass("duplicate-flight").addClass("duplicate-flight-hide");
                          return
                      }
                  }
                  n.push(r)
              }
          })
      }
      function getProviderData(n) {
          return n.name == currentProviderName
      }
      function getPosition(n, t, i) {
          return n.split(t, i).join(t).length
      }
      function Login_Register_FormShow(n) {
          n ? ($(".register-form").removeClass("fadeInLeftBig").addClass("fadeOutLeftBig"),
          $(".register-form").hide(),
          $(".login-form").show(),
          $(".login-form").removeClass("fadeOutLeftBig").addClass("fadeInLeftBig")) : ($(".login-form").removeClass("fadeInLeftBig").addClass("fadeOutLeftBig"),
          $(".login-form").hide(),
          $(".register-form").show(),
          $(".register-form").removeClass("fadeOutLeftBig").addClass("fadeInLeftBig"))
      }
      function SaveSelectFlightFormCookies(n, t, i, r, u) {
          RemoveSelectFlightFormCookies();
          $.cookie("FlightNO_ID", n, {
              path: "/"
          });
          $.cookie("SelectFlight_url", document.referrer, {
              path: "/"
          });
          $.cookie("Passengers", JSON.stringify(t), {
              path: "/"
          });
          $.cookie("RequesterInfos_CellPhone", i, {
              path: "/"
          });
          $.cookie("RequesterInfos_Email", r, {
              path: "/"
          });
          $.cookie("SaleTicket", u, {
              path: "/"
          })
      }
      function RemoveSelectFlightFormCookies() {
          $.removeCookie("FlightNO_ID");
          $.removeCookie("Passengers");
          $.removeCookie("RequesterInfos_CellPhone");
          $.removeCookie("RequesterInfos_Email");
          $.removeCookie("SaleTicket")
      }
      function CreatePassenger() {
          app.InternationalPage ? (app.hdfRAdult = $("#hdfRAdult").val(),
          app.hdfRChild = $("#hdfRChild").val(),
          app.hdfRInfant = $("#hdfRInfant").val()) : (app.hdfRAdult = $("#adultQuantity").val(),
          app.hdfRChild = $("#childQuantity").val(),
          app.hdfRInfant = $("#infantQuantity").val());
          var n = $("#forward .choose.selected").data("systemkey");
          ["X", "S", "I"].indexOf(n) > -1 && (app.hdfRInfant = 0);
          $.each([parseInt(app.hdfRAdult), parseInt(app.hdfRChild), parseInt(app.hdfRInfant)], function(n, t) {
              for (var i = 0; i < t; i++)
                  addPassenger(n)
          })
      }
      function CreateTrainPassenger() {
          for (var n = 0; n < app.hdfPassengersCount; n++)
              app.transit == 1 ? addTrainTransitCar() : addTrainPassenger()
      }
      function CreateBusPassenger() {
          for (var n = 0; n < app.hdfPassengersCount; n++)
              addBusPassenger()
      }
      function getAgeTypeFromAgeType_Name(n) {
          switch (n) {
          case "ADL":
              return 0;
          case "CHD":
              return 1;
          case "INF":
              return 2
          }
      }
      function getTitleFromTitle_Name(n) {
          switch (n) {
          case "MR":
              return 1;
          default:
              return 2
          }
      }
      function CreateRequesterInfos(n, t) {
          $("#passengerCellphone").val(n);
          $("#passengerEmail").val(t)
      }
      function SetSaleTicket(n) {
          $("#txtTicketSale").val(n)
      }
      function ChangeDisablesAtrr(n, t) {
          n.is(":checked") ? t.removeAttr("disabled") : t.attr("disabled", "disabled")
      }
      function getImageUrlForCaptchaRegistration(n) {
          $.ajax({
              type: "POST",
              url: "/api/GetImageUrlForCaptchaRegistration",
              data: JSON.stringify({
                  captchaSession: n.find(".capSessionKey").val()
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function() {},
              success: function(t) {
                  n.find(".imgCaptchaReg").attr("src", t + "&T=" + new Date)
              }
          })
      }
      function ShowLogin(n, t) {
          $("#myModallogin").modal("hide");
          $(".modal-backdrop").remove();
          app.createCookie("user", t, 1);
          app.checkUser().then(function() {
              app.alert.info("ورود به حساب کاربری با موفقیت انجام شد");
              return
          })
      }
      function isNumberKey(n) {
          var t = n.which ? n.which : event.keyCode;
          return t != 46 && t > 31 && (t < 48 || t > 57) ? !1 : !0
      }
      function isMobile() {
          return $("body").is(".mobile")
      }
      function createSelect2Array(n) {
          var t = [];
          return $.each(n, function(n) {
              t.push({
                  id: n.id,
                  text: n.text
              })
          }),
          t
      }
      function getFlightAvailablePathData(n) {
          var l = app.selectFlight.getDirections(), t, i, f, o, s, r;
          if (isMobile() ? n == 1 ? (t = $("#origin-" + n).val(),
          i = $("#destination-" + n).val()) : (t = $("#origin-" + n).select2("val"),
          i = $("#destination-" + n).select2("val")) : (t = $("#origin-" + n).select2("val"),
          i = $("#destination-" + n).select2("val")),
          !t || t.length != 3 && t.replace("ALL", "").length != 3)
              return toastr.error("خطا در ورود اطلاعات", "لطفا شهر مبدا خود را انتخاب کنید."),
              null ;
          if (!i || i.length != 3 && i.replace("ALL", "").length != 3)
              return toastr.error("خطا در ورود اطلاعات", "لطفا شهر مقصد خود را انتخاب کنید."),
              null ;
          if (t === i)
              return toastr.error("خطا در ورود اطلاعات", "شهر مبدا و مقصد نمی تواند یکسان باشد."),
              null ;
          if (n === "2" && (f = ["ABD", "ACP", "ADU", "AFZ", "AWZ", "AZD", "BDH", "BJB", "BND", "BUZ", "BXR", "CQD", "GBT", "GSM", "HDM", "IFN", "IIL", "IKA", "JWN", "KER", "KHD", "KIH", "KSH", "LRR", "MHD", "MRX", "NSH", "OMH", "PFQ", "PGU", "QMJ", "RAS", "RJN", "RZR", "SDG", "SRY", "SYZ", "TBZ", "THR", "XBJ", "YES", "ZAH", "ZBR"],
          f.indexOf(t) === -1 && f.indexOf(i) === -1))
              return toastr.error("خطا در ورود اطلاعات", "امکان صدور بلیط فقط برای پروازهای متصل به ایران میسر است."),
              null ;
          var u = $("#adultQuantity").val() || 0
            , h = $("#childQuantity").val() || 0
            , e = $("#infantQuantity").val() || 0;
          if (parseInt(u) + parseInt(h) + parseInt(e) > 9)
              return toastr.error("خطا در ورود اطلاعات", "مجموع تعداد مسافر نباید بیشتر از 9 باشد، در صورت نیاز تعداد بیشتر را جداگانه صادر کنید"),
              null ;
          if (u < 1)
              return toastr.error("خطا در ورود اطلاعات", "به حداقل 1 بزرگسال برای صدور بلیط نیاز است."),
              null ;
          if (e > u)
              return toastr.error("خطا در ورود اطلاعات", "تعداد نوزاد انتخاب شده نمیتواند بیشتر از بزرگسال باشد."),
              null ;
          if (o = $("#departDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val(),
          l[0].returnDate != null && (s = $("#returnDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val()),
          o == "")
              return toastr.error("خطا در ورود اطلاعات", "لطفا تاریخ رفت را انتخاب کنید."),
              null ;
          if (r = {
              origin: t,
              destination: i,
              depart: o,
              adults: u,
              childs: h,
              infants: e,
              ticketTypeRequest: n
          },
          n == 2) {
              var a = $("#prefferedClass").val() || "3"
                , v = $("#nonstopFlight").is(":checked") ? "1" : "0"
                , c = "all";
              $("#AirlinesFilter").val() && (c = $("#AirlinesFilter").val().join());
              r.flightClass = a;
              r.nonStopFlight = v;
              r.airlines = c;
              r.airlinesData = createSelect2Array($("#AirlinesFilter").select2("data"));
              r.originData = $("#origin-" + n).select2("data");
              r.destinationData = $("#destination-" + n).select2("data")
          }
          return s && (r.return = s),
          r
      }
      function getTrainAvailablePathData(n) {
          var a = app.selectFlight.getDirections(), t, i, r, u, e, o, l, s;
          if (isMobile() ? (t = $("#origin-" + n).val(),
          i = $("#destination-" + n).val()) : (t = $("#origin-" + n).select2("val"),
          i = $("#destination-" + n).select2("val")),
          !t || t.length < 1)
              return toastr.error("خطا در ورود اطلاعات", "لطفا شهر مبدا خود را انتخاب کنید."),
              null ;
          if (!i || i.length < 1)
              return toastr.error("خطا در ورود اطلاعات", "لطفا شهر مقصد خود را انتخاب کنید."),
              null ;
          if (t === i)
              return toastr.error("خطا در ورود اطلاعات", "شهر مبدا و مقصد نمی تواند یکسان باشد."),
              null ;
          if (r = document.getElementById("trainTicketType"),
          u = r.options[r.selectedIndex].value,
          u == 3)
              var h = 1
                , f = $("#carCount").val() || 1
                , c = 10;
          if (u != 3)
              var h = 0
                , f = $("#passengerQuantity").val() || 1
                , c = $("#trainTicketType").val() || 1;
          return f < 1 ? (toastr.error("خطا در ورود اطلاعات", "به حداقل 1 مسافر برای صدور بلیط نیاز است."),
          null ) : (e = $("#departDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val(),
          a[0].returnDate != null && (o = $("#returnDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val()),
          e == "") ? (toastr.error("خطا در ورود اطلاعات", "لطفا تاریخ رفت را انتخاب کنید."),
          null ) : (l = $("#exclusiveCompartment").is(":checked") ? "1" : "0",
          s = {
              origin: t,
              destination: i,
              depart: e,
              transit: h,
              passengerCount: f,
              ticketType: c,
              exclusiveCompartment: l,
              ticketTypeRequest: 3
          },
          o && (s.return = o),
          s)
      }
      function getBusAvailablePathData(n) {
          var h = app.selectFlight.getDirections(), t, i, r, o, u, f, s, e;
          return (isMobile() ? (t = $("#origin-" + n).val(),
          i = $("#destination-" + n).val()) : (t = $("#origin-" + n).select2("val"),
          i = $("#destination-" + n).select2("val")),
          !t || t.length < 1) ? (toastr.error("خطا در ورود اطلاعات", "لطفا شهر مبدا خود را انتخاب کنید."),
          null ) : !i || i.length < 1 ? (toastr.error("خطا در ورود اطلاعات", "لطفا شهر مقصد خود را انتخاب کنید."),
          null ) : t === i ? (toastr.error("خطا در ورود اطلاعات", "شهر مبدا و مقصد نمی تواند یکسان باشد."),
          null ) : (r = $("#buspassengerQuantity").val() || 1,
          o = $("#busTicketType").val() || 1,
          r < 1) ? (toastr.error("خطا در ورود اطلاعات", "به حداقل 1 مسافر برای صدور بلیط نیاز است."),
          null ) : (u = $("#departDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val(),
          h[0].returnDate != null && (f = $("#returnDate-1").datepicker("option", "dateFormat", "yy/mm/dd").val()),
          u == "") ? (toastr.error("خطا در ورود اطلاعات", "لطفا تاریخ رفت را انتخاب کنید."),
          null ) : (s = $("#exclusiveCompartment").is(":checked") ? "1" : "0",
          e = {
              origin: t,
              destination: i,
              depart: u,
              passengerCount: r,
              ticketType: o,
              exclusiveCompartment: s
          },
          f && (e.return = f),
          e)
      }
      function findInputIndex() {
          return $("#InternationalTicket").is(".active") ? 2 : $("#TrainTicket").is(".active") ? 4 : $("#BusTicket").is(".active") ? 5 : 1
      }
      function redirect() {
          $.ajax({
              type: "POST",
              url: "/api/IpBlock",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  console.error(n)
              },
              success: function(n) {
                  var t, i, r, u;
                  if (n == !1) {
                      $("#CaptchaModal").modal("show");
                      return
                  }
                  (t = findInputIndex(),
                  t === 1 || t === 2 ? i = getFlightAvailablePathData(t) : t === 4 ? i = getTrainAvailablePathData(t) : t === 5 && (i = getBusAvailablePathData(t)),
                  i != null ) && (setPreferencesCookie(i),
                  r = getAvailableLink(i, t),
                  u = document.getElementById("btnSearch").setAttribute("href", r),
                  window.location.href = r)
              }
          })
      }
      function setPreferencesCookie(n) {
          try {
              switch (n.ticketTypeRequest) {
              case 1:
                  preferencesCookie.data.internalFlight = n;
                  break;
              case 2:
                  preferencesCookie.data.amadeusFlight = n;
                  break;
              case 3:
                  preferencesCookie.data.train = n;
                  break;
              case 4:
                  preferencesCookie.data.bus = n;
                  break;
              default:
                  return
              }
              preferencesCookie.save()
          } catch (t) {
              return
          }
      }
      function checkFormDataForLoadPreferencesCookie() {
          return
      }
      function setFlightAvailablePathData(n, t) {
          n == null && (n = {},
          n.origin = "",
          n.destination = "",
          n.depart = "",
          n.return = "",
          n.adults = "1",
          n.childs = "0",
          n.infants = "0",
          n.flightClass = "0",
          n.nonStopFlight = "0",
          n.airlines = "",
          n.originData = {
              id: "IKA",
              text: "Tehran, Iran - Imam Khomeini (IKA)"
          },
          n.destinationData = "",
          n.airlinesData = []);
          isMobile() == !1 || t != 1 ? t == 2 ? ($("#origin-" + t).select2("data", n.originData),
          $("#destination-" + t).select2("data", n.destinationData)) : ($("#origin-" + t).select2("val", n.origin),
          $("#destination-" + t).select2("val", n.destination)) : ($("#origin-" + t).val(n.origin),
          $("#destination-" + t).val(n.destination));
          $("#adultQuantity").val(n.adults);
          $("#childQuantity").val(n.childs);
          $("#infantQuantity").val(n.infants);
          $("#departDate-1").val(n.depart);
          n.return != null && ($("#returnDate-1").val(n.return),
          $("#towway-ticket").click());
          n.ticketTypeRequest == 2 && ($("#prefferedClass").val(n.flightClass),
          n.nonStopFlight == "1" ? $("#nonstopFlight").attr("checked", "checked") : $("#nonstopFlight").removeAttr("checked"),
          $("#AirlinesFilter").select2("data", n.airlinesData),
          $("#searchFlightOptionButton").click(),
          (n.flightClass != "0" || n.nonStopFlight == "1" || n.airlinesData.length != 0) && $("#searchFlightOptionButton").click())
      }
      function setTrainAvailablePathData(n, t) {
          n == null && (n = {},
          n.origin = "",
          n.destination = "",
          n.depart = "",
          n.return = "",
          n.passengerCount = "1",
          n.exclusiveCompartment = "0",
          n.ticketType = "0");
          isMobile() ? ($("#origin-" + t).val(n.origin),
          $("#destination-" + t).val(n.destination)) : ($("#origin-" + t).select2("val", n.origin),
          $("#destination-" + t).select2("val", n.destination));
          $("#passengerQuantity").val(n.passengerCount);
          $("#trainTicketType").val(n.ticketType);
          $("#departDate-1").val(n.depart);
          n.return != null && ($("#returnDate-1").val(n.return),
          $("#towway-ticket").click());
          n.exclusiveCompartment == "1" ? ($("#exclusiveCompartment").attr("checked", "checked"),
          $("#searchTrainOptionButton").click()) : ($("#exclusiveCompartment").removeAttr("checked"),
          $("#TrainOptions").hide())
      }
      function pushTrainPayment(n) {
          var t = JSON.parse($.cookie("trainecommerceproduct"))
            , i = t.products;
          dataLayer.push({
              event: "checkout",
              ecommerce: {
                  checkout: {
                      actionField: {
                          step: 3,
                          option: n
                      },
                      products: i
                  }
              },
              eventCallback: function() {}
          });
          $("#ecommerce-trigger-train-fire").click()
      }
      function pushTrainCardReview(n, t, i) {
          var r = [], s = n.details.total.replace(new RegExp(",","g"), ""), h = parseInt(s) / 1e3, u = n.pass.length - 1, f = getProductForTrainCardReviewEvent(n.ticket[0], u, t), e, o;
          n.ticket.length > 1 ? (e = getProductForTrainCardReviewEvent(n.ticket[1], u, i),
          r = [f, e]) : r = [f];
          o = {
              products: r,
              totalPrice: h
          };
          $.removeCookie("trainecommerceproduct");
          $.removeCookie("trainecommerceproduct", {
              path: "/"
          });
          $.cookie("trainecommerceproduct", JSON.stringify(o), {
              expires: 1,
              path: "/"
          });
          dataLayer.push({
              event: "checkout",
              ecommerce: {
                  checkout: {
                      actionField: {
                          step: 2,
                          option: "Card Review"
                      },
                      products: r
                  }
              },
              eventCallback: function() {}
          });
          $("#ecommerce-trigger-train-fire").click()
      }
      function getProductForTrainCardReviewEvent(n, t, i) {
          var e = n.ServiceType, r = "", o = n.RationCode == 52 ? "charter" : "system", u, f;
          switch (e) {
          case 1:
              r = "رجاء";
              break;
          case 2:
              r = "سفیر";
              break;
          case 3:
              r = "علی بابا";
              break;
          case 4:
              r = "فدک";
              break;
          default:
              r = ""
          }
          return u = n.OriginName + "-" + n.DestinationName,
          f = {
              id: n.ServiceType + "/" + n.ReserveNumber + "/" + n.TrainNumber + "/" + n.WagonType,
              name: i,
              route: u,
              brand: r,
              variant: trainOwners[n.Owner],
              category: "train/domestic/" + o + "/" + u,
              price: n.FullPrice / 1e3,
              quantity: t
          },
          f
      }
      function sortByKey(n, t, i) {
          return i ? n.sort(function(n, i) {
              var r = n[t]
                , u = i[t];
              return r < u ? -1 : r > u ? 1 : 0
          }) : n.sort(function(n, i) {
              var r = n[t]
                , u = i[t];
              return r > u ? -1 : r < u ? 1 : 0
          })
      }
      function stringStartsWith(n, t) {
          return n.slice(0, t.length) == t
      }
      function keepCouple(n) {
          return n.length === 1 ? "0" + n : n
      }
      function getParameterByName(n, t) {
          t || (t = window.location.href);
          n = n.replace(/[\\[\\]]/g, "\\\\$&");
          var r = new RegExp("[?&]" + n + "(=([^&#]*)|&|#|$)")
            , i = r.exec(t);
          return i ? i[2] ? decodeURIComponent(i[2].replace(/\\+/g, " ")) : "" : null
      }
      function getCardView() {
          $.ajax({
              url: "https://tourservice.alibaba.ir/cardview",
              cache: !1,
              success: function(n) {
                  $("#js_getCArds").html(n.filter(function(n) {
                      return !n.CardViewUp
                  }).map(card).join(""));
                  $("#js_upCard").html(n.filter(function(n) {
                      return n.CardViewUp
                  }).map(card).join(""))
              },
              error: function(n) {
                  console.log("Error", n)
              }
          })
      }
      var app, searchPassenger, activateSearchPassenger, trainOwners, intervalIndex, internationalFlightProposals, internationalTimeFlag, StatusBarMenuType, dateConvertor, preferencesCookie, card;
      if (function(n, t) {
          function bt(n) {
              var t = n.length
                , r = i.type(n);
              return i.isWindow(n) ? !1 : 1 === n.nodeType && t ? !0 : "array" === r || "function" !== r && (0 === t || "number" == typeof t && t > 0 && t - 1 in n)
          }
          function hf(n) {
              var t = fi[n] = {};
              return i.each(n.match(s) || [], function(n, i) {
                  t[i] = !0
              }),
              t
          }
          function bi(n, r, u, f) {
              if (i.acceptData(n)) {
                  var h, o, c = i.expando, l = n.nodeType, s = l ? i.cache : n, e = l ? n[c] : n[c] && c;
                  if (e && s[e] && (f || s[e].data) || u !== t || "string" != typeof r)
                      return e || (e = l ? n[c] = k.pop() || i.guid++ : c),
                      s[e] || (s[e] = l ? {} : {
                          toJSON: i.noop
                      }),
                      ("object" == typeof r || "function" == typeof r) && (f ? s[e] = i.extend(s[e], r) : s[e].data = i.extend(s[e].data, r)),
                      o = s[e],
                      f || (o.data || (o.data = {}),
                      o = o.data),
                      u !== t && (o[i.camelCase(r)] = u),
                      "string" == typeof r ? (h = o[r],
                      null == h && (h = o[i.camelCase(r)])) : h = o,
                      h
              }
          }
          function ki(n, t, r) {
              if (i.acceptData(n)) {
                  var e, o, s = n.nodeType, u = s ? i.cache : n, f = s ? n[i.expando] : i.expando;
                  if (u[f]) {
                      if (t && (e = r ? u[f] : u[f].data)) {
                          for (i.isArray(t) ? t = t.concat(i.map(t, i.camelCase)) : (t in e) ? t = [t] : (t = i.camelCase(t),
                          t = (t in e) ? [t] : t.split(" ")),
                          o = t.length; o--; )
                              delete e[t[o]];
                          if (r ? !kt(e) : !i.isEmptyObject(e))
                              return
                      }
                      (r || (delete u[f].data,
                      kt(u[f]))) && (s ? i.cleanData([n], !0) : i.support.deleteExpando || u != u.window ? delete u[f] : u[f] = null )
                  }
              }
          }
          function di(n, r, u) {
              if (u === t && 1 === n.nodeType) {
                  var f = "data-" + r.replace(eu, "-$1").toLowerCase();
                  if (u = n.getAttribute(f),
                  "string" == typeof u) {
                      try {
                          u = "true" === u ? !0 : "false" === u ? !1 : "null" === u ? null : +u + "" === u ? +u : fu.test(u) ? i.parseJSON(u) : u
                      } catch (e) {}
                      i.data(n, r, u)
                  } else
                      u = t
              }
              return u
          }
          function kt(n) {
              for (var t in n)
                  if (("data" !== t || !i.isEmptyObject(n[t])) && "toJSON" !== t)
                      return !1;
              return !0
          }
          function et() {
              return !0
          }
          function b() {
              return !1
          }
          function gi() {
              try {
                  return r.activeElement
              } catch (n) {}
          }
          function nr(n, t) {
              do
                  n = n[t];
              while (n && 1 !== n.nodeType);return n
          }
          function dt(n, t, r) {
              if (i.isFunction(t))
                  return i.grep(n, function(n, i) {
                      return !!t.call(n, i, n) !== r
                  });
              if (t.nodeType)
                  return i.grep(n, function(n) {
                      return n === t !== r
                  });
              if ("string" == typeof t) {
                  if (ye.test(t))
                      return i.filter(t, n, r);
                  t = i.filter(t, n)
              }
              return i.grep(n, function(n) {
                  return i.inArray(n, t) >= 0 !== r
              })
          }
          function tr(n) {
              var i = au.split("|")
                , t = n.createDocumentFragment();
              if (t.createElement)
                  while (i.length)
                      t.createElement(i.pop());
              return t
          }
          function ir(n, t) {
              return i.nodeName(n, "table") && i.nodeName(1 === t.nodeType ? t : t.firstChild, "tr") ? n.getElementsByTagName("tbody")[0] || n.appendChild(n.ownerDocument.createElement("tbody")) : n
          }
          function rr(n) {
              return n.type = (null !== i.find.attr(n, "type")) + "/" + n.type,
              n
          }
          function ur(n) {
              var t = no.exec(n.type);
              return t ? n.type = t[1] : n.removeAttribute("type"),
              n
          }
          function gt(n, t) {
              for (var u, r = 0; null != (u = n[r]); r++)
                  i._data(u, "globalEval", !t || i._data(t[r], "globalEval"))
          }
          function fr(n, t) {
              if (1 === t.nodeType && i.hasData(n)) {
                  var u, f, o, s = i._data(n), r = i._data(t, s), e = s.events;
                  if (e) {
                      delete r.handle;
                      r.events = {};
                      for (u in e)
                          for (f = 0,
                          o = e[u].length; o > f; f++)
                              i.event.add(t, u, e[u][f])
                  }
                  r.data && (r.data = i.extend({}, r.data))
              }
          }
          function cf(n, t) {
              var r, f, u;
              if (1 === t.nodeType) {
                  if (r = t.nodeName.toLowerCase(),
                  !i.support.noCloneEvent && t[i.expando]) {
                      u = i._data(t);
                      for (f in u.events)
                          i.removeEvent(t, f, u.handle);
                      t.removeAttribute(i.expando)
                  }
                  "script" === r && t.text !== n.text ? (rr(t).text = n.text,
                  ur(t)) : "object" === r ? (t.parentNode && (t.outerHTML = n.outerHTML),
                  i.support.html5Clone && n.innerHTML && !i.trim(t.innerHTML) && (t.innerHTML = n.innerHTML)) : "input" === r && li.test(n.type) ? (t.defaultChecked = t.checked = n.checked,
                  t.value !== n.value && (t.value = n.value)) : "option" === r ? t.defaultSelected = t.selected = n.defaultSelected : ("input" === r || "textarea" === r) && (t.defaultValue = n.defaultValue)
              }
          }
          function u(n, r) {
              var s, e, h = 0, f = typeof n.getElementsByTagName !== o ? n.getElementsByTagName(r || "*") : typeof n.querySelectorAll !== o ? n.querySelectorAll(r || "*") : t;
              if (!f)
                  for (f = [],
                  s = n.childNodes || n; null != (e = s[h]); h++)
                      !r || i.nodeName(e, r) ? f.push(e) : i.merge(f, u(e, r));
              return r === t || r && i.nodeName(n, r) ? i.merge([n], f) : f
          }
          function lf(n) {
              li.test(n.type) && (n.defaultChecked = n.checked)
          }
          function er(n, t) {
              if (t in n)
                  return t;
              for (var r = t.charAt(0).toUpperCase() + t.slice(1), u = t, i = nf.length; i--; )
                  if (t = nf[i] + r,
                  t in n)
                      return t;
              return u
          }
          function rt(n, t) {
              return n = t || n,
              "none" === i.css(n, "display") || !i.contains(n.ownerDocument, n)
          }
          function or(n, t) {
              for (var f, r, o, e = [], u = 0, s = n.length; s > u; u++)
                  r = n[u],
                  r.style && (e[u] = i._data(r, "olddisplay"),
                  f = r.style.display,
                  t ? (e[u] || "none" !== f || (r.style.display = ""),
                  "" === r.style.display && rt(r) && (e[u] = i._data(r, "olddisplay", lr(r.nodeName)))) : e[u] || (o = rt(r),
                  (f && "none" !== f || !o) && i._data(r, "olddisplay", o ? f : i.css(r, "display"))));
              for (u = 0; s > u; u++)
                  r = n[u],
                  r.style && (t && "none" !== r.style.display && "" !== r.style.display || (r.style.display = t ? e[u] || "" : "none"));
              return n
          }
          function sr(n, t, i) {
              var r = eo.exec(t);
              return r ? Math.max(0, r[1] - (i || 0)) + (r[2] || "px") : t
          }
          function hr(n, t, r, u, f) {
              for (var e = r === (u ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; 4 > e; e += 2)
                  "margin" === r && (o += i.css(n, r + p[e], !0, f)),
                  u ? ("content" === r && (o -= i.css(n, "padding" + p[e], !0, f)),
                  "margin" !== r && (o -= i.css(n, "border" + p[e] + "Width", !0, f))) : (o += i.css(n, "padding" + p[e], !0, f),
                  "padding" !== r && (o += i.css(n, "border" + p[e] + "Width", !0, f)));
              return o
          }
          function cr(n, t, r) {
              var e = !0
                , u = "width" === t ? n.offsetWidth : n.offsetHeight
                , f = v(n)
                , o = i.support.boxSizing && "border-box" === i.css(n, "boxSizing", !1, f);
              if (0 >= u || null == u) {
                  if (u = y(n, t, f),
                  (0 > u || null == u) && (u = n.style[t]),
                  yt.test(u))
                      return u;
                  e = o && (i.support.boxSizingReliable || u === n.style[t]);
                  u = parseFloat(u) || 0
              }
              return u + hr(n, t, r || (o ? "border" : "content"), e, f) + "px"
          }
          function lr(n) {
              var u = r
                , t = du[n];
              return t || (t = ar(n, u),
              "none" !== t && t || (ut = (ut || i("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(u.documentElement),
              u = (ut[0].contentWindow || ut[0].contentDocument).document,
              u.write("<!doctype html><html><body>"),
              u.close(),
              t = ar(n, u),
              ut.detach()),
              du[n] = t),
              t
          }
          function ar(n, t) {
              var r = i(t.createElement(n)).appendTo(t.body)
                , u = i.css(r[0], "display");
              return r.remove(),
              u
          }
          function ni(n, t, r, u) {
              var f;
              if (i.isArray(t))
                  i.each(t, function(t, i) {
                      r || co.test(n) ? u(n, i) : ni(n + "[" + ("object" == typeof i ? t : "") + "]", i, r, u)
                  });
              else if (r || "object" !== i.type(t))
                  u(n, t);
              else
                  for (f in t)
                      ni(n + "[" + f + "]", t[f], r, u)
          }
          function vr(n) {
              return function(t, r) {
                  "string" != typeof t && (r = t,
                  t = "*");
                  var u, f = 0, e = t.toLowerCase().match(s) || [];
                  if (i.isFunction(r))
                      while (u = e[f++])
                          "+" === u[0] ? (u = u.slice(1) || "*",
                          (n[u] = n[u] || []).unshift(r)) : (n[u] = n[u] || []).push(r)
              }
          }
          function yr(n, r, u, f) {
              function e(h) {
                  var c;
                  return o[h] = !0,
                  i.each(n[h] || [], function(n, i) {
                      var h = i(r, u, f);
                      return "string" != typeof h || s || o[h] ? s ? !(c = h) : t : (r.dataTypes.unshift(h),
                      e(h),
                      !1)
                  }),
                  c
              }
              var o = {}
                , s = n === wi;
              return e(r.dataTypes[0]) || !o["*"] && e("*")
          }
          function ti(n, r) {
              var f, u, e = i.ajaxSettings.flatOptions || {};
              for (u in r)
                  r[u] !== t && ((e[u] ? n : f || (f = {}))[u] = r[u]);
              return f && i.extend(!0, n, f),
              n
          }
          function af(n, i, r) {
              for (var s, o, f, e, h = n.contents, u = n.dataTypes; "*" === u[0]; )
                  u.shift(),
                  o === t && (o = n.mimeType || i.getResponseHeader("Content-Type"));
              if (o)
                  for (e in h)
                      if (h[e] && h[e].test(o)) {
                          u.unshift(e);
                          break
                      }
              if (u[0]in r)
                  f = u[0];
              else {
                  for (e in r) {
                      if (!u[0] || n.converters[e + " " + u[0]]) {
                          f = e;
                          break
                      }
                      s || (s = e)
                  }
                  f = f || s
              }
              return f ? (f !== u[0] && u.unshift(f),
              r[f]) : t
          }
          function vf(n, t, i, r) {
              var h, u, f, s, e, o = {}, c = n.dataTypes.slice();
              if (c[1])
                  for (f in n.converters)
                      o[f.toLowerCase()] = n.converters[f];
              for (u = c.shift(); u; )
                  if (n.responseFields[u] && (i[n.responseFields[u]] = t),
                  !e && r && n.dataFilter && (t = n.dataFilter(t, n.dataType)),
                  e = u,
                  u = c.shift())
                      if ("*" === u)
                          u = e;
                      else if ("*" !== e && e !== u) {
                          if (f = o[e + " " + u] || o["* " + u],
                          !f)
                              for (h in o)
                                  if (s = h.split(" "),
                                  s[1] === u && (f = o[e + " " + s[0]] || o["* " + s[0]])) {
                                      f === !0 ? f = o[h] : o[h] !== !0 && (u = s[0],
                                      c.unshift(s[1]));
                                      break
                                  }
                          if (f !== !0)
                              if (f && n.throws)
                                  t = f(t);
                              else
                                  try {
                                      t = f(t)
                                  } catch (l) {
                                      return {
                                          state: "parsererror",
                                          error: f ? l : "No conversion from " + e + " to " + u
                                      }
                                  }
                      }
              return {
                  state: "success",
                  data: t
              }
          }
          function pr() {
              try {
                  return new n.XMLHttpRequest
              } catch (t) {}
          }
          function yf() {
              try {
                  return new n.ActiveXObject("Microsoft.XMLHTTP")
              } catch (t) {}
          }
          function wr() {
              return setTimeout(function() {
                  it = t
              }),
              it = i.now()
          }
          function br(n, t, i) {
              for (var u, f = (ft[t] || []).concat(ft["*"]), r = 0, e = f.length; e > r; r++)
                  if (u = f[r].call(i, t, n))
                      return u
          }
          function kr(n, t, r) {
              var h, e, o = 0, l = wt.length, f = i.Deferred().always(function() {
                  delete c.elem
              }), c = function() {
                  if (e)
                      return !1;
                  for (var s = it || wr(), t = Math.max(0, u.startTime + u.duration - s), h = t / u.duration || 0, i = 1 - h, r = 0, o = u.tweens.length; o > r; r++)
                      u.tweens[r].run(i);
                  return f.notifyWith(n, [u, i, t]),
                  1 > i && o ? t : (f.resolveWith(n, [u]),
                  !1)
              }, u = f.promise({
                  elem: n,
                  props: i.extend({}, t),
                  opts: i.extend(!0, {
                      specialEasing: {}
                  }, r),
                  originalProperties: t,
                  originalOptions: r,
                  startTime: it || wr(),
                  duration: r.duration,
                  tweens: [],
                  createTween: function(t, r) {
                      var f = i.Tween(n, u.opts, t, r, u.opts.specialEasing[t] || u.opts.easing);
                      return u.tweens.push(f),
                      f
                  },
                  stop: function(t) {
                      var i = 0
                        , r = t ? u.tweens.length : 0;
                      if (e)
                          return this;
                      for (e = !0; r > i; i++)
                          u.tweens[i].run(1);
                      return t ? f.resolveWith(n, [u, t]) : f.rejectWith(n, [u, t]),
                      this
                  }
              }), s = u.props;
              for (pf(s, u.opts.specialEasing); l > o; o++)
                  if (h = wt[o].call(u, n, s, u.opts))
                      return h;
              return i.map(s, br, u),
              i.isFunction(u.opts.start) && u.opts.start.call(n, u),
              i.fx.timer(i.extend(c, {
                  elem: n,
                  anim: u,
                  queue: u.opts.queue
              })),
              u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always)
          }
          function pf(n, t) {
              var r, f, e, u, o;
              for (r in n)
                  if (f = i.camelCase(r),
                  e = t[f],
                  u = n[r],
                  i.isArray(u) && (e = u[1],
                  u = n[r] = u[0]),
                  r !== f && (n[f] = u,
                  delete n[r]),
                  o = i.cssHooks[f],
                  o && "expand"in o) {
                      u = o.expand(u);
                      delete n[f];
                      for (r in u)
                          r in n || (n[r] = u[r],
                          t[r] = e)
                  } else
                      t[f] = e
          }
          function wf(n, t, r) {
              var u, a, v, c, e, y, s = this, l = {}, o = n.style, h = n.nodeType && rt(n), f = i._data(n, "fxshow");
              r.queue || (e = i._queueHooks(n, "fx"),
              null == e.unqueued && (e.unqueued = 0,
              y = e.empty.fire,
              e.empty.fire = function() {
                  e.unqueued || y()
              }
              ),
              e.unqueued++,
              s.always(function() {
                  s.always(function() {
                      e.unqueued--;
                      i.queue(n, "fx").length || e.empty.fire()
                  })
              }));
              1 === n.nodeType && ("height"in t || "width"in t) && (r.overflow = [o.overflow, o.overflowX, o.overflowY],
              "inline" === i.css(n, "display") && "none" === i.css(n, "float") && (i.support.inlineBlockNeedsLayout && "inline" !== lr(n.nodeName) ? o.zoom = 1 : o.display = "inline-block"));
              r.overflow && (o.overflow = "hidden",
              i.support.shrinkWrapBlocks || s.always(function() {
                  o.overflow = r.overflow[0];
                  o.overflowX = r.overflow[1];
                  o.overflowY = r.overflow[2]
              }));
              for (u in t)
                  if (a = t[u],
                  bo.exec(a)) {
                      if (delete t[u],
                      v = v || "toggle" === a,
                      a === (h ? "hide" : "show"))
                          continue;
                      l[u] = f && f[u] || i.style(n, u)
                  }
              if (!i.isEmptyObject(l)) {
                  f ? "hidden"in f && (h = f.hidden) : f = i._data(n, "fxshow", {});
                  v && (f.hidden = !h);
                  h ? i(n).show() : s.done(function() {
                      i(n).hide()
                  });
                  s.done(function() {
                      var t;
                      i._removeData(n, "fxshow");
                      for (t in l)
                          i.style(n, t, l[t])
                  });
                  for (u in l)
                      c = br(h ? f[u] : 0, u, s),
                      u in f || (f[u] = c.start,
                      h && (c.end = c.start,
                      c.start = "width" === u || "height" === u ? 1 : 0))
              }
          }
          function f(n, t, i, r, u) {
              return new f.prototype.init(n,t,i,r,u)
          }
          function ot(n, t) {
              var r, i = {
                  height: n
              }, u = 0;
              for (t = t ? 1 : 0; 4 > u; u += 2 - t)
                  r = p[u],
                  i["margin" + r] = i["padding" + r] = n;
              return t && (i.opacity = i.width = n),
              i
          }
          function dr(n) {
              return i.isWindow(n) ? n : 9 === n.nodeType ? n.defaultView || n.parentWindow : !1
          }
          var st, gr, o = typeof t, bf = n.location, r = n.document, nu = r.documentElement, kf = n.jQuery, df = n.$, ht = {}, k = [], ii = "1.10.2", tu = k.concat, ri = k.push, l = k.slice, iu = k.indexOf, gf = ht.toString, d = ht.hasOwnProperty, ui = ii.trim, i = function(n, t) {
              return new i.fn.init(n,t,gr)
          }, ct = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source, s = /\\S+/g, ne = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, te = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/, ru = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/, ie = /^[\\],:{}\\s]*$/, re = /(?:^|:|,)(?:\\s*\\[)+/g, ue = /\\\\(?:["\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g, fe = /"[^"\\\\\\r\\n]*"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g, ee = /^-ms-/, oe = /-([\\da-z])/gi, se = function(n, t) {
              return t.toUpperCase()
          }, h = function(n) {
              (r.addEventListener || "load" === n.type || "complete" === r.readyState) && (uu(),
              i.ready())
          }, uu = function() {
              r.addEventListener ? (r.removeEventListener("DOMContentLoaded", h, !1),
              n.removeEventListener("load", h, !1)) : (r.detachEvent("onreadystatechange", h),
              n.detachEvent("onload", h))
          }, fi, fu, eu, ei, lt, g, nt, ou, at;
          i.fn = i.prototype = {
              jquery: ii,
              constructor: i,
              init: function(n, u, f) {
                  var e, o;
                  if (!n)
                      return this;
                  if ("string" == typeof n) {
                      if (e = "<" === n.charAt(0) && ">" === n.charAt(n.length - 1) && n.length >= 3 ? [null , n, null ] : te.exec(n),
                      !e || !e[1] && u)
                          return !u || u.jquery ? (u || f).find(n) : this.constructor(u).find(n);
                      if (e[1]) {
                          if (u = u instanceof i ? u[0] : u,
                          i.merge(this, i.parseHTML(e[1], u && u.nodeType ? u.ownerDocument || u : r, !0)),
                          ru.test(e[1]) && i.isPlainObject(u))
                              for (e in u)
                                  i.isFunction(this[e]) ? this[e](u[e]) : this.attr(e, u[e]);
                          return this
                      }
                      if (o = r.getElementById(e[2]),
                      o && o.parentNode) {
                          if (o.id !== e[2])
                              return f.find(n);
                          this.length = 1;
                          this[0] = o
                      }
                      return this.context = r,
                      this.selector = n,
                      this
                  }
                  return n.nodeType ? (this.context = this[0] = n,
                  this.length = 1,
                  this) : i.isFunction(n) ? f.ready(n) : (n.selector !== t && (this.selector = n.selector,
                  this.context = n.context),
                  i.makeArray(n, this))
              },
              selector: "",
              length: 0,
              toArray: function() {
                  return l.call(this)
              },
              get: function(n) {
                  return null == n ? this.toArray() : 0 > n ? this[this.length + n] : this[n]
              },
              pushStack: function(n) {
                  var t = i.merge(this.constructor(), n);
                  return t.prevObject = this,
                  t.context = this.context,
                  t
              },
              each: function(n, t) {
                  return i.each(this, n, t)
              },
              ready: function(n) {
                  return i.ready.promise().done(n),
                  this
              },
              slice: function() {
                  return this.pushStack(l.apply(this, arguments))
              },
              first: function() {
                  return this.eq(0)
              },
              last: function() {
                  return this.eq(-1)
              },
              eq: function(n) {
                  var i = this.length
                    , t = +n + (0 > n ? i : 0);
                  return this.pushStack(t >= 0 && i > t ? [this[t]] : [])
              },
              map: function(n) {
                  return this.pushStack(i.map(this, function(t, i) {
                      return n.call(t, i, t)
                  }))
              },
              end: function() {
                  return this.prevObject || this.constructor(null )
              },
              push: ri,
              sort: [].sort,
              splice: [].splice
          };
          i.fn.init.prototype = i.fn;
          i.extend = i.fn.extend = function() {
              var u, o, r, e, s, h, n = arguments[0] || {}, f = 1, l = arguments.length, c = !1;
              for ("boolean" == typeof n && (c = n,
              n = arguments[1] || {},
              f = 2),
              "object" == typeof n || i.isFunction(n) || (n = {}),
              l === f && (n = this,
              --f); l > f; f++)
                  if (null != (s = arguments[f]))
                      for (e in s)
                          u = n[e],
                          r = s[e],
                          n !== r && (c && r && (i.isPlainObject(r) || (o = i.isArray(r))) ? (o ? (o = !1,
                          h = u && i.isArray(u) ? u : []) : h = u && i.isPlainObject(u) ? u : {},
                          n[e] = i.extend(c, h, r)) : r !== t && (n[e] = r));
              return n
          }
          ;
          i.extend({
              expando: "jQuery" + (ii + Math.random()).replace(/\\D/g, ""),
              noConflict: function(t) {
                  return n.$ === i && (n.$ = df),
                  t && n.jQuery === i && (n.jQuery = kf),
                  i
              },
              isReady: !1,
              readyWait: 1,
              holdReady: function(n) {
                  n ? i.readyWait++ : i.ready(!0)
              },
              ready: function(n) {
                  if (n === !0 ? !--i.readyWait : !i.isReady) {
                      if (!r.body)
                          return setTimeout(i.ready);
                      i.isReady = !0;
                      n !== !0 && --i.readyWait > 0 || (st.resolveWith(r, [i]),
                      i.fn.trigger && i(r).trigger("ready").off("ready"))
                  }
              },
              isFunction: function(n) {
                  return "function" === i.type(n)
              },
              isArray: Array.isArray || function(n) {
                  return "array" === i.type(n)
              }
              ,
              isWindow: function(n) {
                  return null != n && n == n.window
              },
              isNumeric: function(n) {
                  return !isNaN(parseFloat(n)) && isFinite(n)
              },
              type: function(n) {
                  return null == n ? n + "" : "object" == typeof n || "function" == typeof n ? ht[gf.call(n)] || "object" : typeof n
              },
              isPlainObject: function(n) {
                  var r;
                  if (!n || "object" !== i.type(n) || n.nodeType || i.isWindow(n))
                      return !1;
                  try {
                      if (n.constructor && !d.call(n, "constructor") && !d.call(n.constructor.prototype, "isPrototypeOf"))
                          return !1
                  } catch (u) {
                      return !1
                  }
                  if (i.support.ownLast)
                      for (r in n)
                          return d.call(n, r);
                  for (r in n)
                      ;
                  return r === t || d.call(n, r)
              },
              isEmptyObject: function(n) {
                  for (var t in n)
                      return !1;
                  return !0
              },
              error: function(n) {
                  throw Error(n);
              },
              parseHTML: function(n, t, u) {
                  if (!n || "string" != typeof n)
                      return null ;
                  "boolean" == typeof t && (u = t,
                  t = !1);
                  t = t || r;
                  var f = ru.exec(n)
                    , e = !u && [];
                  return f ? [t.createElement(f[1])] : (f = i.buildFragment([n], t, e),
                  e && i(e).remove(),
                  i.merge([], f.childNodes))
              },
              parseJSON: function(r) {
                  return n.JSON && n.JSON.parse ? n.JSON.parse(r) : null === r ? r : "string" == typeof r && (r = i.trim(r),
                  r && ie.test(r.replace(ue, "@").replace(fe, "]").replace(re, ""))) ? Function("return " + r)() : (i.error("Invalid JSON: " + r),
                  t)
              },
              parseXML: function(r) {
                  var u, f;
                  if (!r || "string" != typeof r)
                      return null ;
                  try {
                      n.DOMParser ? (f = new DOMParser,
                      u = f.parseFromString(r, "text/xml")) : (u = new ActiveXObject("Microsoft.XMLDOM"),
                      u.async = "false",
                      u.loadXML(r))
                  } catch (e) {
                      u = t
                  }
                  return u && u.documentElement && !u.getElementsByTagName("parsererror").length || i.error("Invalid XML: " + r),
                  u
              },
              noop: function() {},
              globalEval: function(t) {
                  t && i.trim(t) && (n.execScript || function(t) {
                      n.eval.call(n, t)
                  }
                  )(t)
              },
              camelCase: function(n) {
                  return n.replace(ee, "ms-").replace(oe, se)
              },
              nodeName: function(n, t) {
                  return n.nodeName && n.nodeName.toLowerCase() === t.toLowerCase()
              },
              each: function(n, t, i) {
                  var u, r = 0, f = n.length, e = bt(n);
                  if (i) {
                      if (e) {
                          for (; f > r; r++)
                              if (u = t.apply(n[r], i),
                              u === !1)
                                  break
                      } else
                          for (r in n)
                              if (u = t.apply(n[r], i),
                              u === !1)
                                  break
                  } else if (e) {
                      for (; f > r; r++)
                          if (u = t.call(n[r], r, n[r]),
                          u === !1)
                              break
                  } else
                      for (r in n)
                          if (u = t.call(n[r], r, n[r]),
                          u === !1)
                              break;
                  return n
              },
              trim: ui && !ui.call("﻿ ") ? function(n) {
                  return null == n ? "" : ui.call(n)
              }
              : function(n) {
                  return null == n ? "" : (n + "").replace(ne, "")
              }
              ,
              makeArray: function(n, t) {
                  var r = t || [];
                  return null != n && (bt(Object(n)) ? i.merge(r, "string" == typeof n ? [n] : n) : ri.call(r, n)),
                  r
              },
              inArray: function(n, t, i) {
                  var r;
                  if (t) {
                      if (iu)
                          return iu.call(t, n, i);
                      for (r = t.length,
                      i = i ? 0 > i ? Math.max(0, r + i) : i : 0; r > i; i++)
                          if (i in t && t[i] === n)
                              return i
                  }
                  return -1
              },
              merge: function(n, i) {
                  var f = i.length
                    , u = n.length
                    , r = 0;
                  if ("number" == typeof f)
                      for (; f > r; r++)
                          n[u++] = i[r];
                  else
                      while (i[r] !== t)
                          n[u++] = i[r++];
                  return n.length = u,
                  n
              },
              grep: function(n, t, i) {
                  var u, f = [], r = 0, e = n.length;
                  for (i = !!i; e > r; r++)
                      u = !!t(n[r], r),
                      i !== u && f.push(n[r]);
                  return f
              },
              map: function(n, t, i) {
                  var u, r = 0, e = n.length, o = bt(n), f = [];
                  if (o)
                      for (; e > r; r++)
                          u = t(n[r], r, i),
                          null != u && (f[f.length] = u);
                  else
                      for (r in n)
                          u = t(n[r], r, i),
                          null != u && (f[f.length] = u);
                  return tu.apply([], f)
              },
              guid: 1,
              proxy: function(n, r) {
                  var f, u, e;
                  return "string" == typeof r && (e = n[r],
                  r = n,
                  n = e),
                  i.isFunction(n) ? (f = l.call(arguments, 2),
                  u = function() {
                      return n.apply(r || this, f.concat(l.call(arguments)))
                  }
                  ,
                  u.guid = n.guid = n.guid || i.guid++,
                  u) : t
              },
              access: function(n, r, u, f, e, o, s) {
                  var h = 0
                    , l = n.length
                    , c = null == u;
                  if ("object" === i.type(u)) {
                      e = !0;
                      for (h in u)
                          i.access(n, r, h, u[h], !0, o, s)
                  } else if (f !== t && (e = !0,
                  i.isFunction(f) || (s = !0),
                  c && (s ? (r.call(n, f),
                  r = null ) : (c = r,
                  r = function(n, t, r) {
                      return c.call(i(n), r)
                  }
                  )),
                  r))
                      for (; l > h; h++)
                          r(n[h], u, s ? f : f.call(n[h], h, r(n[h], u)));
                  return e ? n : c ? r.call(n) : l ? r(n[0], u) : o
              },
              now: function() {
                  return (new Date).getTime()
              },
              swap: function(n, t, i, r) {
                  var f, u, e = {};
                  for (u in t)
                      e[u] = n.style[u],
                      n.style[u] = t[u];
                  f = i.apply(n, r || []);
                  for (u in t)
                      n.style[u] = e[u];
                  return f
              }
          });
          i.ready.promise = function(t) {
              if (!st)
                  if (st = i.Deferred(),
                  "complete" === r.readyState)
                      setTimeout(i.ready);
                  else if (r.addEventListener)
                      r.addEventListener("DOMContentLoaded", h, !1),
                      n.addEventListener("load", h, !1);
                  else {
                      r.attachEvent("onreadystatechange", h);
                      n.attachEvent("onload", h);
                      var u = !1;
                      try {
                          u = null == n.frameElement && r.documentElement
                      } catch (e) {}
                      u && u.doScroll && function f() {
                          if (!i.isReady) {
                              try {
                                  u.doScroll("left")
                              } catch (n) {
                                  return setTimeout(f, 50)
                              }
                              uu();
                              i.ready()
                          }
                      }()
                  }
              return st.promise(t)
          }
          ;
          i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(n, t) {
              ht["[object " + t + "]"] = t.toLowerCase()
          });
          gr = i(r),
          function(n, t) {
              function u(n, t, i, r) {
                  var p, u, f, l, w, a, k, c, g, d;
                  if ((t ? t.ownerDocument || t : y) !== s && tt(t),
                  t = t || s,
                  i = i || [],
                  !n || "string" != typeof n)
                      return i;
                  if (1 !== (l = t.nodeType) && 9 !== l)
                      return [];
                  if (v && !r) {
                      if (p = ar.exec(n))
                          if (f = p[1]) {
                              if (9 === l) {
                                  if (u = t.getElementById(f),
                                  !u || !u.parentNode)
                                      return i;
                                  if (u.id === f)
                                      return i.push(u),
                                      i
                              } else if (t.ownerDocument && (u = t.ownerDocument.getElementById(f)) && ot(t, u) && u.id === f)
                                  return i.push(u),
                                  i
                          } else {
                              if (p[2])
                                  return b.apply(i, t.getElementsByTagName(n)),
                                  i;
                              if ((f = p[3]) && e.getElementsByClassName && t.getElementsByClassName)
                                  return b.apply(i, t.getElementsByClassName(f)),
                                  i
                          }
                      if (e.qsa && (!h || !h.test(n))) {
                          if (c = k = o,
                          g = t,
                          d = 9 === l && n,
                          1 === l && "object" !== t.nodeName.toLowerCase()) {
                              for (a = ht(n),
                              (k = t.getAttribute("id")) ? c = k.replace(pr, "\\\\$&") : t.setAttribute("id", c),
                              c = "[id='" + c + "'] ",
                              w = a.length; w--; )
                                  a[w] = c + ct(a[w]);
                              g = oi.test(n) && t.parentNode || t;
                              d = a.join(",")
                          }
                          if (d)
                              try {
                                  return b.apply(i, g.querySelectorAll(d)),
                                  i
                              } catch (nt) {} finally {
                                  k || t.removeAttribute("id")
                              }
                      }
                  }
                  return ir(n.replace(wt, "$1"), t, i, r)
              }
              function kt() {
                  function n(i, u) {
                      return t.push(i += " ") > r.cacheLength && delete n[t.shift()],
                      n[i] = u
                  }
                  var t = [];
                  return n
              }
              function c(n) {
                  return n[o] = !0,
                  n
              }
              function l(n) {
                  var t = s.createElement("div");
                  try {
                      return !!n(t)
                  } catch (i) {
                      return !1
                  } finally {
                      t.parentNode && t.parentNode.removeChild(t);
                      t = null
                  }
              }
              function dt(n, t) {
                  for (var u = n.split("|"), i = n.length; i--; )
                      r.attrHandle[u[i]] = t
              }
              function hi(n, t) {
                  var i = t && n
                    , r = i && 1 === n.nodeType && 1 === t.nodeType && (~t.sourceIndex || pi) - (~n.sourceIndex || pi);
                  if (r)
                      return r;
                  if (i)
                      while (i = i.nextSibling)
                          if (i === t)
                              return -1;
                  return n ? 1 : -1
              }
              function di(n) {
                  return function(t) {
                      var i = t.nodeName.toLowerCase();
                      return "input" === i && t.type === n
                  }
              }
              function gi(n) {
                  return function(t) {
                      var i = t.nodeName.toLowerCase();
                      return ("input" === i || "button" === i) && t.type === n
                  }
              }
              function g(n) {
                  return c(function(t) {
                      return t = +t,
                      c(function(i, r) {
                          for (var u, f = n([], i.length, t), e = f.length; e--; )
                              i[u = f[e]] && (i[u] = !(r[u] = i[u]))
                      })
                  })
              }
              function ci() {}
              function ht(n, t) {
                  var e, f, s, o, i, h, c, l = vi[n + " "];
                  if (l)
                      return t ? 0 : l.slice(0);
                  for (i = n,
                  h = [],
                  c = r.preFilter; i; ) {
                      (!e || (f = or.exec(i))) && (f && (i = i.slice(f[0].length) || i),
                      h.push(s = []));
                      e = !1;
                      (f = sr.exec(i)) && (e = f.shift(),
                      s.push({
                          value: e,
                          type: f[0].replace(wt, " ")
                      }),
                      i = i.slice(e.length));
                      for (o in r.filter)
                          (f = bt[o].exec(i)) && (!c[o] || (f = c[o](f))) && (e = f.shift(),
                          s.push({
                              value: e,
                              type: o,
                              matches: f
                          }),
                          i = i.slice(e.length));
                      if (!e)
                          break
                  }
                  return t ? i.length : i ? u.error(n) : vi(n, h).slice(0)
              }
              function ct(n) {
                  for (var t = 0, r = n.length, i = ""; r > t; t++)
                      i += n[t].value;
                  return i
              }
              function gt(n, t, i) {
                  var r = t.dir
                    , u = i && "parentNode" === r
                    , f = rr++;
                  return t.first ? function(t, i, f) {
                      while (t = t[r])
                          if (1 === t.nodeType || u)
                              return n(t, i, f)
                  }
                  : function(t, i, e) {
                      var h, s, c, l = p + " " + f;
                      if (e) {
                          while (t = t[r])
                              if ((1 === t.nodeType || u) && n(t, i, e))
                                  return !0
                      } else
                          while (t = t[r])
                              if (1 === t.nodeType || u)
                                  if (c = t[o] || (t[o] = {}),
                                  (s = c[r]) && s[0] === l) {
                                      if ((h = s[1]) === !0 || h === at)
                                          return h === !0
                                  } else if (s = c[r] = [l],
                                  s[1] = n(t, i, e) || at,
                                  s[1] === !0)
                                      return !0
                  }
              }
              function ni(n) {
                  return n.length > 1 ? function(t, i, r) {
                      for (var u = n.length; u--; )
                          if (!n[u](t, i, r))
                              return !1;
                      return !0
                  }
                  : n[0]
              }
              function lt(n, t, i, r, u) {
                  for (var e, o = [], f = 0, s = n.length, h = null != t; s > f; f++)
                      (e = n[f]) && (!i || i(e, r, u)) && (o.push(e),
                      h && t.push(f));
                  return o
              }
              function ti(n, t, i, r, u, f) {
                  return r && !r[o] && (r = ti(r)),
                  u && !u[o] && (u = ti(u, f)),
                  c(function(f, e, o, s) {
                      var l, c, a, p = [], y = [], w = e.length, k = f || tr(t || "*", o.nodeType ? [o] : o, []), v = !n || !f && t ? k : lt(k, p, n, o, s), h = i ? u || (f ? n : w || r) ? [] : e : v;
                      if (i && i(v, h, o, s),
                      r)
                          for (l = lt(h, y),
                          r(l, [], o, s),
                          c = l.length; c--; )
                              (a = l[c]) && (h[y[c]] = !(v[y[c]] = a));
                      if (f) {
                          if (u || n) {
                              if (u) {
                                  for (l = [],
                                  c = h.length; c--; )
                                      (a = h[c]) && l.push(v[c] = a);
                                  u(null , h = [], l, s)
                              }
                              for (c = h.length; c--; )
                                  (a = h[c]) && (l = u ? rt.call(f, a) : p[c]) > -1 && (f[l] = !(e[l] = a))
                          }
                      } else
                          h = lt(h === e ? h.splice(w, h.length) : h),
                          u ? u(null , e, h, s) : b.apply(e, h)
                  })
              }
              function ii(n) {
                  for (var s, u, i, e = n.length, h = r.relative[n[0].type], c = h || r.relative[" "], t = h ? 1 : 0, l = gt(function(n) {
                      return n === s
                  }, c, !0), a = gt(function(n) {
                      return rt.call(s, n) > -1
                  }, c, !0), f = [function(n, t, i) {
                      return !h && (i || t !== yt) || ((s = t).nodeType ? l(n, t, i) : a(n, t, i))
                  }
                  ]; e > t; t++)
                      if (u = r.relative[n[t].type])
                          f = [gt(ni(f), u)];
                      else {
                          if (u = r.filter[n[t].type].apply(null , n[t].matches),
                          u[o]) {
                              for (i = ++t; e > i; i++)
                                  if (r.relative[n[i].type])
                                      break;
                              return ti(t > 1 && ni(f), t > 1 && ct(n.slice(0, t - 1).concat({
                                  value: " " === n[t - 2].type ? "*" : ""
                              })).replace(wt, "$1"), u, i > t && ii(n.slice(t, i)), e > i && ii(n = n.slice(i)), e > i && ct(n))
                          }
                          f.push(u)
                      }
                  return ni(f)
              }
              function nr(n, t) {
                  var f = 0
                    , i = t.length > 0
                    , e = n.length > 0
                    , o = function(o, h, c, l, a) {
                      var y, g, k, w = [], d = 0, v = "0", nt = o && [], tt = null != a, it = yt, ut = o || e && r.find.TAG("*", a && h.parentNode || h), rt = p += null == it ? 1 : Math.random() || .1;
                      for (tt && (yt = h !== s && h,
                      at = f); null != (y = ut[v]); v++) {
                          if (e && y) {
                              for (g = 0; k = n[g++]; )
                                  if (k(y, h, c)) {
                                      l.push(y);
                                      break
                                  }
                              tt && (p = rt,
                              at = ++f)
                          }
                          i && ((y = !k && y) && d--,
                          o && nt.push(y))
                      }
                      if (d += v,
                      i && v !== d) {
                          for (g = 0; k = t[g++]; )
                              k(nt, w, h, c);
                          if (o) {
                              if (d > 0)
                                  while (v--)
                                      nt[v] || w[v] || (w[v] = fr.call(l));
                              w = lt(w)
                          }
                          b.apply(l, w);
                          tt && !o && w.length > 0 && d + t.length > 1 && u.uniqueSort(l)
                      }
                      return tt && (p = rt,
                      yt = it),
                      nt
                  };
                  return i ? c(o) : o
              }
              function tr(n, t, i) {
                  for (var r = 0, f = t.length; f > r; r++)
                      u(n, t[r], i);
                  return i
              }
              function ir(n, t, i, u) {
                  var s, f, o, c, l, h = ht(n);
                  if (!u && 1 === h.length) {
                      if (f = h[0] = h[0].slice(0),
                      f.length > 2 && "ID" === (o = f[0]).type && e.getById && 9 === t.nodeType && v && r.relative[f[1].type]) {
                          if (t = (r.find.ID(o.matches[0].replace(k, d), t) || [])[0],
                          !t)
                              return i;
                          n = n.slice(f.shift().value.length)
                      }
                      for (s = bt.needsContext.test(n) ? 0 : f.length; s--; ) {
                          if (o = f[s],
                          r.relative[c = o.type])
                              break;
                          if ((l = r.find[c]) && (u = l(o.matches[0].replace(k, d), oi.test(f[0].type) && t.parentNode || t))) {
                              if (f.splice(s, 1),
                              n = u.length && ct(f),
                              !n)
                                  return b.apply(i, u),
                                  i;
                              break
                          }
                      }
                  }
                  return ri(n, h)(u, t, !v, i, oi.test(n)),
                  i
              }
              var ut, e, at, r, vt, li, ri, yt, nt, tt, s, a, v, h, it, pt, ot, o = "sizzle" + -new Date, y = n.document, p = 0, rr = 0, ai = kt(), vi = kt(), yi = kt(), ft = !1, ui = function(n, t) {
                  return n === t ? (ft = !0,
                  0) : 0
              }, st = typeof t, pi = -2147483648, ur = {}.hasOwnProperty, w = [], fr = w.pop, er = w.push, b = w.push, wi = w.slice, rt = w.indexOf || function(n) {
                  for (var t = 0, i = this.length; i > t; t++)
                      if (this[t] === n)
                          return t;
                  return -1
              }
              , fi = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", f = "[\\\\x20\\\\t\\\\r\\\\n\\\\f]", et = "(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+", bi = et.replace("w", "w#"), ki = "\\\\[" + f + "*(" + et + ")" + f + "*(?:([*^$|!~]?=)" + f + "*(?:(['\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(" + bi + ")|)|)" + f + "*\\\\]", ei = ":(" + et + ")(?:\\\\(((['\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|" + ki.replace(3, 8) + ")*)|.*)\\\\)|)", wt = RegExp("^" + f + "+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)" + f + "+$", "g"), or = RegExp("^" + f + "*," + f + "*"), sr = RegExp("^" + f + "*([>+~]|" + f + ")" + f + "*"), oi = RegExp(f + "*[+~]"), hr = RegExp("=" + f + "*([^\\\\]'\\"]*)" + f + "*\\\\]", "g"), cr = RegExp(ei), lr = RegExp("^" + bi + "$"), bt = {
                  ID: RegExp("^#(" + et + ")"),
                  CLASS: RegExp("^\\\\.(" + et + ")"),
                  TAG: RegExp("^(" + et.replace("w", "w*") + ")"),
                  ATTR: RegExp("^" + ki),
                  PSEUDO: RegExp("^" + ei),
                  CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(" + f + "*(even|odd|(([+-]|)(\\\\d*)n|)" + f + "*(?:([+-]|)" + f + "*(\\\\d+)|))" + f + "*\\\\)|)", "i"),
                  bool: RegExp("^(?:" + fi + ")$", "i"),
                  needsContext: RegExp("^" + f + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(" + f + "*((?:-\\\\d)?\\\\d*)" + f + "*\\\\)|)(?=[^-]|$)", "i")
              }, si = /^[^{]+\\{\\s*\\[native \\w/, ar = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, vr = /^(?:input|select|textarea|button)$/i, yr = /^h\\d$/i, pr = /'|\\\\/g, k = RegExp("\\\\\\\\([\\\\da-f]{1,6}" + f + "?|(" + f + ")|.)", "ig"), d = function(n, t, i) {
                  var r = "0x" + t - 65536;
                  return r !== r || i ? t : 0 > r ? String.fromCharCode(r + 65536) : String.fromCharCode(55296 | r >> 10, 56320 | 1023 & r)
              };
              try {
                  b.apply(w = wi.call(y.childNodes), y.childNodes);
                  w[y.childNodes.length].nodeType
              } catch (wr) {
                  b = {
                      apply: w.length ? function(n, t) {
                          er.apply(n, wi.call(t))
                      }
                      : function(n, t) {
                          for (var i = n.length, r = 0; n[i++] = t[r++]; )
                              ;
                          n.length = i - 1
                      }
                  }
              }
              li = u.isXML = function(n) {
                  var t = n && (n.ownerDocument || n).documentElement;
                  return t ? "HTML" !== t.nodeName : !1
              }
              ;
              e = u.support = {};
              tt = u.setDocument = function(n) {
                  var i = n ? n.ownerDocument || n : y
                    , u = i.defaultView;
                  return i !== s && 9 === i.nodeType && i.documentElement ? (s = i,
                  a = i.documentElement,
                  v = !li(i),
                  u && u.attachEvent && u !== u.top && u.attachEvent("onbeforeunload", function() {
                      tt()
                  }),
                  e.attributes = l(function(n) {
                      return n.className = "i",
                      !n.getAttribute("className")
                  }),
                  e.getElementsByTagName = l(function(n) {
                      return n.appendChild(i.createComment("")),
                      !n.getElementsByTagName("*").length
                  }),
                  e.getElementsByClassName = l(function(n) {
                      return n.innerHTML = "<div class='a'><\\/div><div class='a i'><\\/div>",
                      n.firstChild.className = "i",
                      2 === n.getElementsByClassName("i").length
                  }),
                  e.getById = l(function(n) {
                      return a.appendChild(n).id = o,
                      !i.getElementsByName || !i.getElementsByName(o).length
                  }),
                  e.getById ? (r.find.ID = function(n, t) {
                      if (typeof t.getElementById !== st && v) {
                          var i = t.getElementById(n);
                          return i && i.parentNode ? [i] : []
                      }
                  }
                  ,
                  r.filter.ID = function(n) {
                      var t = n.replace(k, d);
                      return function(n) {
                          return n.getAttribute("id") === t
                      }
                  }
                  ) : (delete r.find.ID,
                  r.filter.ID = function(n) {
                      var t = n.replace(k, d);
                      return function(n) {
                          var i = typeof n.getAttributeNode !== st && n.getAttributeNode("id");
                          return i && i.value === t
                      }
                  }
                  ),
                  r.find.TAG = e.getElementsByTagName ? function(n, i) {
                      return typeof i.getElementsByTagName !== st ? i.getElementsByTagName(n) : t
                  }
                  : function(n, t) {
                      var i, r = [], f = 0, u = t.getElementsByTagName(n);
                      if ("*" === n) {
                          while (i = u[f++])
                              1 === i.nodeType && r.push(i);
                          return r
                      }
                      return u
                  }
                  ,
                  r.find.CLASS = e.getElementsByClassName && function(n, i) {
                      return typeof i.getElementsByClassName !== st && v ? i.getElementsByClassName(n) : t
                  }
                  ,
                  it = [],
                  h = [],
                  (e.qsa = si.test(i.querySelectorAll)) && (l(function(n) {
                      n.innerHTML = "<select><option selected=''><\\/option><\\/select>";
                      n.querySelectorAll("[selected]").length || h.push("\\\\[" + f + "*(?:value|" + fi + ")");
                      n.querySelectorAll(":checked").length || h.push(":checked")
                  }),
                  l(function(n) {
                      var t = i.createElement("input");
                      t.setAttribute("type", "hidden");
                      n.appendChild(t).setAttribute("t", "");
                      n.querySelectorAll("[t^='']").length && h.push("[*^$]=" + f + "*(?:''|\\"\\")");
                      n.querySelectorAll(":enabled").length || h.push(":enabled", ":disabled");
                      n.querySelectorAll("*,:x");
                      h.push(",.*:")
                  })),
                  (e.matchesSelector = si.test(pt = a.webkitMatchesSelector || a.mozMatchesSelector || a.oMatchesSelector || a.msMatchesSelector)) && l(function(n) {
                      e.disconnectedMatch = pt.call(n, "div");
                      pt.call(n, "[s!='']:x");
                      it.push("!=", ei)
                  }),
                  h = h.length && RegExp(h.join("|")),
                  it = it.length && RegExp(it.join("|")),
                  ot = si.test(a.contains) || a.compareDocumentPosition ? function(n, t) {
                      var r = 9 === n.nodeType ? n.documentElement : n
                        , i = t && t.parentNode;
                      return n === i || !(!i || 1 !== i.nodeType || !(r.contains ? r.contains(i) : n.compareDocumentPosition && 16 & n.compareDocumentPosition(i)))
                  }
                  : function(n, t) {
                      if (t)
                          while (t = t.parentNode)
                              if (t === n)
                                  return !0;
                      return !1
                  }
                  ,
                  ui = a.compareDocumentPosition ? function(n, t) {
                      if (n === t)
                          return ft = !0,
                          0;
                      var r = t.compareDocumentPosition && n.compareDocumentPosition && n.compareDocumentPosition(t);
                      return r ? 1 & r || !e.sortDetached && t.compareDocumentPosition(n) === r ? n === i || ot(y, n) ? -1 : t === i || ot(y, t) ? 1 : nt ? rt.call(nt, n) - rt.call(nt, t) : 0 : 4 & r ? -1 : 1 : n.compareDocumentPosition ? -1 : 1
                  }
                  : function(n, t) {
                      var r, u = 0, o = n.parentNode, s = t.parentNode, f = [n], e = [t];
                      if (n === t)
                          return ft = !0,
                          0;
                      if (!o || !s)
                          return n === i ? -1 : t === i ? 1 : o ? -1 : s ? 1 : nt ? rt.call(nt, n) - rt.call(nt, t) : 0;
                      if (o === s)
                          return hi(n, t);
                      for (r = n; r = r.parentNode; )
                          f.unshift(r);
                      for (r = t; r = r.parentNode; )
                          e.unshift(r);
                      while (f[u] === e[u])
                          u++;
                      return u ? hi(f[u], e[u]) : f[u] === y ? -1 : e[u] === y ? 1 : 0
                  }
                  ,
                  i) : s
              }
              ;
              u.matches = function(n, t) {
                  return u(n, null , null , t)
              }
              ;
              u.matchesSelector = function(n, t) {
                  if ((n.ownerDocument || n) !== s && tt(n),
                  t = t.replace(hr, "='$1']"),
                  !(!e.matchesSelector || !v || it && it.test(t) || h && h.test(t)))
                      try {
                          var i = pt.call(n, t);
                          if (i || e.disconnectedMatch || n.document && 11 !== n.document.nodeType)
                              return i
                      } catch (r) {}
                  return u(t, s, null , [n]).length > 0
              }
              ;
              u.contains = function(n, t) {
                  return (n.ownerDocument || n) !== s && tt(n),
                  ot(n, t)
              }
              ;
              u.attr = function(n, i) {
                  (n.ownerDocument || n) !== s && tt(n);
                  var f = r.attrHandle[i.toLowerCase()]
                    , u = f && ur.call(r.attrHandle, i.toLowerCase()) ? f(n, i, !v) : t;
                  return u === t ? e.attributes || !v ? n.getAttribute(i) : (u = n.getAttributeNode(i)) && u.specified ? u.value : null : u
              }
              ;
              u.error = function(n) {
                  throw Error("Syntax error, unrecognized expression: " + n);
              }
              ;
              u.uniqueSort = function(n) {
                  var r, u = [], t = 0, i = 0;
                  if (ft = !e.detectDuplicates,
                  nt = !e.sortStable && n.slice(0),
                  n.sort(ui),
                  ft) {
                      while (r = n[i++])
                          r === n[i] && (t = u.push(i));
                      while (t--)
                          n.splice(u[t], 1)
                  }
                  return n
              }
              ;
              vt = u.getText = function(n) {
                  var r, i = "", u = 0, t = n.nodeType;
                  if (t) {
                      if (1 === t || 9 === t || 11 === t) {
                          if ("string" == typeof n.textContent)
                              return n.textContent;
                          for (n = n.firstChild; n; n = n.nextSibling)
                              i += vt(n)
                      } else if (3 === t || 4 === t)
                          return n.nodeValue
                  } else
                      for (; r = n[u]; u++)
                          i += vt(r);
                  return i
              }
              ;
              r = u.selectors = {
                  cacheLength: 50,
                  createPseudo: c,
                  match: bt,
                  attrHandle: {},
                  find: {},
                  relative: {
                      ">": {
                          dir: "parentNode",
                          first: !0
                      },
                      " ": {
                          dir: "parentNode"
                      },
                      "+": {
                          dir: "previousSibling",
                          first: !0
                      },
                      "~": {
                          dir: "previousSibling"
                      }
                  },
                  preFilter: {
                      ATTR: function(n) {
                          return n[1] = n[1].replace(k, d),
                          n[3] = (n[4] || n[5] || "").replace(k, d),
                          "~=" === n[2] && (n[3] = " " + n[3] + " "),
                          n.slice(0, 4)
                      },
                      CHILD: function(n) {
                          return n[1] = n[1].toLowerCase(),
                          "nth" === n[1].slice(0, 3) ? (n[3] || u.error(n[0]),
                          n[4] = +(n[4] ? n[5] + (n[6] || 1) : 2 * ("even" === n[3] || "odd" === n[3])),
                          n[5] = +(n[7] + n[8] || "odd" === n[3])) : n[3] && u.error(n[0]),
                          n
                      },
                      PSEUDO: function(n) {
                          var r, i = !n[5] && n[2];
                          return bt.CHILD.test(n[0]) ? null : (n[3] && n[4] !== t ? n[2] = n[4] : i && cr.test(i) && (r = ht(i, !0)) && (r = i.indexOf(")", i.length - r) - i.length) && (n[0] = n[0].slice(0, r),
                          n[2] = i.slice(0, r)),
                          n.slice(0, 3))
                      }
                  },
                  filter: {
                      TAG: function(n) {
                          var t = n.replace(k, d).toLowerCase();
                          return "*" === n ? function() {
                              return !0
                          }
                          : function(n) {
                              return n.nodeName && n.nodeName.toLowerCase() === t
                          }
                      },
                      CLASS: function(n) {
                          var t = ai[n + " "];
                          return t || (t = RegExp("(^|" + f + ")" + n + "(" + f + "|$)")) && ai(n, function(n) {
                              return t.test("string" == typeof n.className && n.className || typeof n.getAttribute !== st && n.getAttribute("class") || "")
                          })
                      },
                      ATTR: function(n, t, i) {
                          return function(r) {
                              var f = u.attr(r, n);
                              return null == f ? "!=" === t : t ? (f += "",
                              "=" === t ? f === i : "!=" === t ? f !== i : "^=" === t ? i && 0 === f.indexOf(i) : "*=" === t ? i && f.indexOf(i) > -1 : "$=" === t ? i && f.slice(-i.length) === i : "~=" === t ? (" " + f + " ").indexOf(i) > -1 : "|=" === t ? f === i || f.slice(0, i.length + 1) === i + "-" : !1) : !0
                          }
                      },
                      CHILD: function(n, t, i, r, u) {
                          var s = "nth" !== n.slice(0, 3)
                            , e = "last" !== n.slice(-4)
                            , f = "of-type" === t;
                          return 1 === r && 0 === u ? function(n) {
                              return !!n.parentNode
                          }
                          : function(t, i, h) {
                              var a, k, c, l, v, w, b = s !== e ? "nextSibling" : "previousSibling", y = t.parentNode, g = f && t.nodeName.toLowerCase(), d = !h && !f;
                              if (y) {
                                  if (s) {
                                      while (b) {
                                          for (c = t; c = c[b]; )
                                              if (f ? c.nodeName.toLowerCase() === g : 1 === c.nodeType)
                                                  return !1;
                                          w = b = "only" === n && !w && "nextSibling"
                                      }
                                      return !0
                                  }
                                  if (w = [e ? y.firstChild : y.lastChild],
                                  e && d) {
                                      for (k = y[o] || (y[o] = {}),
                                      a = k[n] || [],
                                      v = a[0] === p && a[1],
                                      l = a[0] === p && a[2],
                                      c = v && y.childNodes[v]; c = ++v && c && c[b] || (l = v = 0) || w.pop(); )
                                          if (1 === c.nodeType && ++l && c === t) {
                                              k[n] = [p, v, l];
                                              break
                                          }
                                  } else if (d && (a = (t[o] || (t[o] = {}))[n]) && a[0] === p)
                                      l = a[1];
                                  else
                                      while (c = ++v && c && c[b] || (l = v = 0) || w.pop())
                                          if ((f ? c.nodeName.toLowerCase() === g : 1 === c.nodeType) && ++l && (d && ((c[o] || (c[o] = {}))[n] = [p, l]),
                                          c === t))
                                              break;
                                  return l -= u,
                                  l === r || 0 == l % r && l / r >= 0
                              }
                          }
                      },
                      PSEUDO: function(n, t) {
                          var f, i = r.pseudos[n] || r.setFilters[n.toLowerCase()] || u.error("unsupported pseudo: " + n);
                          return i[o] ? i(t) : i.length > 1 ? (f = [n, n, "", t],
                          r.setFilters.hasOwnProperty(n.toLowerCase()) ? c(function(n, r) {
                              for (var u, f = i(n, t), e = f.length; e--; )
                                  u = rt.call(n, f[e]),
                                  n[u] = !(r[u] = f[e])
                          }) : function(n) {
                              return i(n, 0, f)
                          }
                          ) : i
                      }
                  },
                  pseudos: {
                      not: c(function(n) {
                          var i = []
                            , r = []
                            , t = ri(n.replace(wt, "$1"));
                          return t[o] ? c(function(n, i, r, u) {
                              for (var e, o = t(n, null , u, []), f = n.length; f--; )
                                  (e = o[f]) && (n[f] = !(i[f] = e))
                          }) : function(n, u, f) {
                              return i[0] = n,
                              t(i, null , f, r),
                              !r.pop()
                          }
                      }),
                      has: c(function(n) {
                          return function(t) {
                              return u(n, t).length > 0
                          }
                      }),
                      contains: c(function(n) {
                          return function(t) {
                              return (t.textContent || t.innerText || vt(t)).indexOf(n) > -1
                          }
                      }),
                      lang: c(function(n) {
                          return lr.test(n || "") || u.error("unsupported lang: " + n),
                          n = n.replace(k, d).toLowerCase(),
                          function(t) {
                              var i;
                              do
                                  if (i = v ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                      return i = i.toLowerCase(),
                                      i === n || 0 === i.indexOf(n + "-");
                              while ((t = t.parentNode) && 1 === t.nodeType);return !1
                          }
                      }),
                      target: function(t) {
                          var i = n.location && n.location.hash;
                          return i && i.slice(1) === t.id
                      },
                      root: function(n) {
                          return n === a
                      },
                      focus: function(n) {
                          return n === s.activeElement && (!s.hasFocus || s.hasFocus()) && !!(n.type || n.href || ~n.tabIndex)
                      },
                      enabled: function(n) {
                          return n.disabled === !1
                      },
                      disabled: function(n) {
                          return n.disabled === !0
                      },
                      checked: function(n) {
                          var t = n.nodeName.toLowerCase();
                          return "input" === t && !!n.checked || "option" === t && !!n.selected
                      },
                      selected: function(n) {
                          return n.parentNode && n.parentNode.selectedIndex,
                          n.selected === !0
                      },
                      empty: function(n) {
                          for (n = n.firstChild; n; n = n.nextSibling)
                              if (n.nodeName > "@" || 3 === n.nodeType || 4 === n.nodeType)
                                  return !1;
                          return !0
                      },
                      parent: function(n) {
                          return !r.pseudos.empty(n)
                      },
                      header: function(n) {
                          return yr.test(n.nodeName)
                      },
                      input: function(n) {
                          return vr.test(n.nodeName)
                      },
                      button: function(n) {
                          var t = n.nodeName.toLowerCase();
                          return "input" === t && "button" === n.type || "button" === t
                      },
                      text: function(n) {
                          var t;
                          return "input" === n.nodeName.toLowerCase() && "text" === n.type && (null == (t = n.getAttribute("type")) || t.toLowerCase() === n.type)
                      },
                      first: g(function() {
                          return [0]
                      }),
                      last: g(function(n, t) {
                          return [t - 1]
                      }),
                      eq: g(function(n, t, i) {
                          return [0 > i ? i + t : i]
                      }),
                      even: g(function(n, t) {
                          for (var i = 0; t > i; i += 2)
                              n.push(i);
                          return n
                      }),
                      odd: g(function(n, t) {
                          for (var i = 1; t > i; i += 2)
                              n.push(i);
                          return n
                      }),
                      lt: g(function(n, t, i) {
                          for (var r = 0 > i ? i + t : i; --r >= 0; )
                              n.push(r);
                          return n
                      }),
                      gt: g(function(n, t, i) {
                          for (var r = 0 > i ? i + t : i; t > ++r; )
                              n.push(r);
                          return n
                      })
                  }
              };
              r.pseudos.nth = r.pseudos.eq;
              for (ut in {
                  radio: !0,
                  checkbox: !0,
                  file: !0,
                  password: !0,
                  image: !0
              })
                  r.pseudos[ut] = di(ut);
              for (ut in {
                  submit: !0,
                  reset: !0
              })
                  r.pseudos[ut] = gi(ut);
              ci.prototype = r.filters = r.pseudos;
              r.setFilters = new ci;
              ri = u.compile = function(n, t) {
                  var r, u = [], f = [], i = yi[n + " "];
                  if (!i) {
                      for (t || (t = ht(n)),
                      r = t.length; r--; )
                          i = ii(t[r]),
                          i[o] ? u.push(i) : f.push(i);
                      i = yi(n, nr(f, u))
                  }
                  return i
              }
              ;
              e.sortStable = o.split("").sort(ui).join("") === o;
              e.detectDuplicates = ft;
              tt();
              e.sortDetached = l(function(n) {
                  return 1 & n.compareDocumentPosition(s.createElement("div"))
              });
              l(function(n) {
                  return n.innerHTML = "<a href='#'><\\/a>",
                  "#" === n.firstChild.getAttribute("href")
              }) || dt("type|href|height|width", function(n, i, r) {
                  return r ? t : n.getAttribute(i, "type" === i.toLowerCase() ? 1 : 2)
              });
              e.attributes && l(function(n) {
                  return n.innerHTML = "<input/>",
                  n.firstChild.setAttribute("value", ""),
                  "" === n.firstChild.getAttribute("value")
              }) || dt("value", function(n, i, r) {
                  return r || "input" !== n.nodeName.toLowerCase() ? t : n.defaultValue
              });
              l(function(n) {
                  return null == n.getAttribute("disabled")
              }) || dt(fi, function(n, i, r) {
                  var u;
                  return r ? t : (u = n.getAttributeNode(i)) && u.specified ? u.value : n[i] === !0 ? i.toLowerCase() : null
              });
              i.find = u;
              i.expr = u.selectors;
              i.expr[":"] = i.expr.pseudos;
              i.unique = u.uniqueSort;
              i.text = u.getText;
              i.isXMLDoc = u.isXML;
              i.contains = u.contains
          }(n);
          fi = {};
          i.Callbacks = function(n) {
              n = "string" == typeof n ? fi[n] || hf(n) : i.extend({}, n);
              var s, f, c, e, o, l, r = [], u = !n.once && [], a = function(t) {
                  for (f = n.memory && t,
                  c = !0,
                  o = l || 0,
                  l = 0,
                  e = r.length,
                  s = !0; r && e > o; o++)
                      if (r[o].apply(t[0], t[1]) === !1 && n.stopOnFalse) {
                          f = !1;
                          break
                      }
                  s = !1;
                  r && (u ? u.length && a(u.shift()) : f ? r = [] : h.disable())
              }, h = {
                  add: function() {
                      if (r) {
                          var t = r.length;
                          (function u(t) {
                              i.each(t, function(t, f) {
                                  var e = i.type(f);
                                  "function" === e ? n.unique && h.has(f) || r.push(f) : f && f.length && "string" !== e && u(f)
                              })
                          })(arguments);
                          s ? e = r.length : f && (l = t,
                          a(f))
                      }
                      return this
                  },
                  remove: function() {
                      return r && i.each(arguments, function(n, t) {
                          for (var u; (u = i.inArray(t, r, u)) > -1; )
                              r.splice(u, 1),
                              s && (e >= u && e--,
                              o >= u && o--)
                      }),
                      this
                  },
                  has: function(n) {
                      return n ? i.inArray(n, r) > -1 : !(!r || !r.length)
                  },
                  empty: function() {
                      return r = [],
                      e = 0,
                      this
                  },
                  disable: function() {
                      return r = u = f = t,
                      this
                  },
                  disabled: function() {
                      return !r
                  },
                  lock: function() {
                      return u = t,
                      f || h.disable(),
                      this
                  },
                  locked: function() {
                      return !u
                  },
                  fireWith: function(n, t) {
                      return !r || c && !u || (t = t || [],
                      t = [n, t.slice ? t.slice() : t],
                      s ? u.push(t) : a(t)),
                      this
                  },
                  fire: function() {
                      return h.fireWith(this, arguments),
                      this
                  },
                  fired: function() {
                      return !!c
                  }
              };
              return h
          }
          ;
          i.extend({
              Deferred: function(n) {
                  var u = [["resolve", "done", i.Callbacks("once memory"), "resolved"], ["reject", "fail", i.Callbacks("once memory"), "rejected"], ["notify", "progress", i.Callbacks("memory")]]
                    , f = "pending"
                    , r = {
                      state: function() {
                          return f
                      },
                      always: function() {
                          return t.done(arguments).fail(arguments),
                          this
                      },
                      then: function() {
                          var n = arguments;
                          return i.Deferred(function(f) {
                              i.each(u, function(u, e) {
                                  var s = e[0]
                                    , o = i.isFunction(n[u]) && n[u];
                                  t[e[1]](function() {
                                      var n = o && o.apply(this, arguments);
                                      n && i.isFunction(n.promise) ? n.promise().done(f.resolve).fail(f.reject).progress(f.notify) : f[s + "With"](this === r ? f.promise() : this, o ? [n] : arguments)
                                  })
                              });
                              n = null
                          }).promise()
                      },
                      promise: function(n) {
                          return null != n ? i.extend(n, r) : r
                      }
                  }
                    , t = {};
                  return r.pipe = r.then,
                  i.each(u, function(n, i) {
                      var e = i[2]
                        , o = i[3];
                      r[i[1]] = e.add;
                      o && e.add(function() {
                          f = o
                      }, u[1 ^ n][2].disable, u[2][2].lock);
                      t[i[0]] = function() {
                          return t[i[0] + "With"](this === t ? r : this, arguments),
                          this
                      }
                      ;
                      t[i[0] + "With"] = e.fireWith
                  }),
                  r.promise(t),
                  n && n.call(t, t),
                  t
              },
              when: function(n) {
                  var t = 0, u = l.call(arguments), r = u.length, e = 1 !== r || n && i.isFunction(n.promise) ? r : 0, f = 1 === e ? n : i.Deferred(), h = function(n, t, i) {
                      return function(r) {
                          t[n] = this;
                          i[n] = arguments.length > 1 ? l.call(arguments) : r;
                          i === o ? f.notifyWith(t, i) : --e || f.resolveWith(t, i)
                      }
                  }, o, c, s;
                  if (r > 1)
                      for (o = Array(r),
                      c = Array(r),
                      s = Array(r); r > t; t++)
                          u[t] && i.isFunction(u[t].promise) ? u[t].promise().done(h(t, s, u)).fail(f.reject).progress(h(t, c, o)) : --e;
                  return e || f.resolveWith(s, u),
                  f.promise()
              }
          });
          i.support = function(t) {
              var a, e, f, h, c, l, v, y, s, u = r.createElement("div");
              if (u.setAttribute("className", "t"),
              u.innerHTML = "  <link/><table><\\/table><a href='/a'>a<\\/a><input type='checkbox'/>",
              a = u.getElementsByTagName("*") || [],
              e = u.getElementsByTagName("a")[0],
              !e || !e.style || !a.length)
                  return t;
              h = r.createElement("select");
              l = h.appendChild(r.createElement("option"));
              f = u.getElementsByTagName("input")[0];
              e.style.cssText = "top:1px;float:left;opacity:.5";
              t.getSetAttribute = "t" !== u.className;
              t.leadingWhitespace = 3 === u.firstChild.nodeType;
              t.tbody = !u.getElementsByTagName("tbody").length;
              t.htmlSerialize = !!u.getElementsByTagName("link").length;
              t.style = /top/.test(e.getAttribute("style"));
              t.hrefNormalized = "/a" === e.getAttribute("href");
              t.opacity = /^0.5/.test(e.style.opacity);
              t.cssFloat = !!e.style.cssFloat;
              t.checkOn = !!f.value;
              t.optSelected = l.selected;
              t.enctype = !!r.createElement("form").enctype;
              t.html5Clone = "<:nav><\\/:nav>" !== r.createElement("nav").cloneNode(!0).outerHTML;
              t.inlineBlockNeedsLayout = !1;
              t.shrinkWrapBlocks = !1;
              t.pixelPosition = !1;
              t.deleteExpando = !0;
              t.noCloneEvent = !0;
              t.reliableMarginRight = !0;
              t.boxSizingReliable = !0;
              f.checked = !0;
              t.noCloneChecked = f.cloneNode(!0).checked;
              h.disabled = !0;
              t.optDisabled = !l.disabled;
              try {
                  delete u.test
              } catch (p) {
                  t.deleteExpando = !1
              }
              f = r.createElement("input");
              f.setAttribute("value", "");
              t.input = "" === f.getAttribute("value");
              f.value = "t";
              f.setAttribute("type", "radio");
              t.radioValue = "t" === f.value;
              f.setAttribute("checked", "t");
              f.setAttribute("name", "t");
              c = r.createDocumentFragment();
              c.appendChild(f);
              t.appendChecked = f.checked;
              t.checkClone = c.cloneNode(!0).cloneNode(!0).lastChild.checked;
              u.attachEvent && (u.attachEvent("onclick", function() {
                  t.noCloneEvent = !1
              }),
              u.cloneNode(!0).click());
              for (s in {
                  submit: !0,
                  change: !0,
                  focusin: !0
              })
                  u.setAttribute(v = "on" + s, "t"),
                  t[s + "Bubbles"] = v in n || u.attributes[v].expando === !1;
              u.style.backgroundClip = "content-box";
              u.cloneNode(!0).style.backgroundClip = "";
              t.clearCloneStyle = "content-box" === u.style.backgroundClip;
              for (s in i(t))
                  break;
              return t.ownLast = "0" !== s,
              i(function() {
                  var h, e, f, c = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;", s = r.getElementsByTagName("body")[0];
                  s && (h = r.createElement("div"),
                  h.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
                  s.appendChild(h).appendChild(u),
                  u.innerHTML = "<table><tr><td><\\/td><td>t<\\/td><\\/tr><\\/table>",
                  f = u.getElementsByTagName("td"),
                  f[0].style.cssText = "padding:0;margin:0;border:0;display:none",
                  y = 0 === f[0].offsetHeight,
                  f[0].style.display = "",
                  f[1].style.display = "none",
                  t.reliableHiddenOffsets = y && 0 === f[0].offsetHeight,
                  u.innerHTML = "",
                  u.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
                  i.swap(s, null != s.style.zoom ? {
                      zoom: 1
                  } : {}, function() {
                      t.boxSizing = 4 === u.offsetWidth
                  }),
                  n.getComputedStyle && (t.pixelPosition = "1%" !== (n.getComputedStyle(u, null ) || {}).top,
                  t.boxSizingReliable = "4px" === (n.getComputedStyle(u, null ) || {
                      width: "4px"
                  }).width,
                  e = u.appendChild(r.createElement("div")),
                  e.style.cssText = u.style.cssText = c,
                  e.style.marginRight = e.style.width = "0",
                  u.style.width = "1px",
                  t.reliableMarginRight = !parseFloat((n.getComputedStyle(e, null ) || {}).marginRight)),
                  typeof u.style.zoom !== o && (u.innerHTML = "",
                  u.style.cssText = c + "width:1px;padding:1px;display:inline;zoom:1",
                  t.inlineBlockNeedsLayout = 3 === u.offsetWidth,
                  u.style.display = "block",
                  u.innerHTML = "<div><\\/div>",
                  u.firstChild.style.width = "5px",
                  t.shrinkWrapBlocks = 3 !== u.offsetWidth,
                  t.inlineBlockNeedsLayout && (s.style.zoom = 1)),
                  s.removeChild(h),
                  h = u = f = e = null )
              }),
              a = h = c = l = e = f = null ,
              t
          }({});
          fu = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/;
          eu = /([A-Z])/g;
          i.extend({
              cache: {},
              noData: {
                  applet: !0,
                  embed: !0,
                  object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
              },
              hasData: function(n) {
                  return n = n.nodeType ? i.cache[n[i.expando]] : n[i.expando],
                  !!n && !kt(n)
              },
              data: function(n, t, i) {
                  return bi(n, t, i)
              },
              removeData: function(n, t) {
                  return ki(n, t)
              },
              _data: function(n, t, i) {
                  return bi(n, t, i, !0)
              },
              _removeData: function(n, t) {
                  return ki(n, t, !0)
              },
              acceptData: function(n) {
                  if (n.nodeType && 1 !== n.nodeType && 9 !== n.nodeType)
                      return !1;
                  var t = n.nodeName && i.noData[n.nodeName.toLowerCase()];
                  return !t || t !== !0 && n.getAttribute("classid") === t
              }
          });
          i.fn.extend({
              data: function(n, r) {
                  var e, f, o = null , s = 0, u = this[0];
                  if (n === t) {
                      if (this.length && (o = i.data(u),
                      1 === u.nodeType && !i._data(u, "parsedAttrs"))) {
                          for (e = u.attributes; e.length > s; s++)
                              f = e[s].name,
                              0 === f.indexOf("data-") && (f = i.camelCase(f.slice(5)),
                              di(u, f, o[f]));
                          i._data(u, "parsedAttrs", !0)
                      }
                      return o
                  }
                  return "object" == typeof n ? this.each(function() {
                      i.data(this, n)
                  }) : arguments.length > 1 ? this.each(function() {
                      i.data(this, n, r)
                  }) : u ? di(u, n, i.data(u, n)) : null
              },
              removeData: function(n) {
                  return this.each(function() {
                      i.removeData(this, n)
                  })
              }
          });
          i.extend({
              queue: function(n, r, u) {
                  var f;
                  return n ? (r = (r || "fx") + "queue",
                  f = i._data(n, r),
                  u && (!f || i.isArray(u) ? f = i._data(n, r, i.makeArray(u)) : f.push(u)),
                  f || []) : t
              },
              dequeue: function(n, t) {
                  t = t || "fx";
                  var r = i.queue(n, t)
                    , e = r.length
                    , u = r.shift()
                    , f = i._queueHooks(n, t)
                    , o = function() {
                      i.dequeue(n, t)
                  };
                  "inprogress" === u && (u = r.shift(),
                  e--);
                  u && ("fx" === t && r.unshift("inprogress"),
                  delete f.stop,
                  u.call(n, o, f));
                  !e && f && f.empty.fire()
              },
              _queueHooks: function(n, t) {
                  var r = t + "queueHooks";
                  return i._data(n, r) || i._data(n, r, {
                      empty: i.Callbacks("once memory").add(function() {
                          i._removeData(n, t + "queue");
                          i._removeData(n, r)
                      })
                  })
              }
          });
          i.fn.extend({
              queue: function(n, r) {
                  var u = 2;
                  return "string" != typeof n && (r = n,
                  n = "fx",
                  u--),
                  u > arguments.length ? i.queue(this[0], n) : r === t ? this : this.each(function() {
                      var t = i.queue(this, n, r);
                      i._queueHooks(this, n);
                      "fx" === n && "inprogress" !== t[0] && i.dequeue(this, n)
                  })
              },
              dequeue: function(n) {
                  return this.each(function() {
                      i.dequeue(this, n)
                  })
              },
              delay: function(n, t) {
                  return n = i.fx ? i.fx.speeds[n] || n : n,
                  t = t || "fx",
                  this.queue(t, function(t, i) {
                      var r = setTimeout(t, n);
                      i.stop = function() {
                          clearTimeout(r)
                      }
                  })
              },
              clearQueue: function(n) {
                  return this.queue(n || "fx", [])
              },
              promise: function(n, r) {
                  var u, e = 1, o = i.Deferred(), f = this, s = this.length, h = function() {
                      --e || o.resolveWith(f, [f])
                  };
                  for ("string" != typeof n && (r = n,
                  n = t),
                  n = n || "fx"; s--; )
                      u = i._data(f[s], n + "queueHooks"),
                      u && u.empty && (e++,
                      u.empty.add(h));
                  return h(),
                  o.promise(r)
              }
          });
          var tt, su, oi = /[\\t\\r\\n\\f]/g, he = /\\r/g, ce = /^(?:input|select|textarea|button|object)$/i, le = /^(?:a|area)$/i, si = /^(?:checked|selected)$/i, a = i.support.getSetAttribute, vt = i.support.input;
          i.fn.extend({
              attr: function(n, t) {
                  return i.access(this, i.attr, n, t, arguments.length > 1)
              },
              removeAttr: function(n) {
                  return this.each(function() {
                      i.removeAttr(this, n)
                  })
              },
              prop: function(n, t) {
                  return i.access(this, i.prop, n, t, arguments.length > 1)
              },
              removeProp: function(n) {
                  return n = i.propFix[n] || n,
                  this.each(function() {
                      try {
                          this[n] = t;
                          delete this[n]
                      } catch (i) {}
                  })
              },
              addClass: function(n) {
                  var e, t, r, u, o, f = 0, h = this.length, c = "string" == typeof n && n;
                  if (i.isFunction(n))
                      return this.each(function(t) {
                          i(this).addClass(n.call(this, t, this.className))
                      });
                  if (c)
                      for (e = (n || "").match(s) || []; h > f; f++)
                          if (t = this[f],
                          r = 1 === t.nodeType && (t.className ? (" " + t.className + " ").replace(oi, " ") : " ")) {
                              for (o = 0; u = e[o++]; )
                                  0 > r.indexOf(" " + u + " ") && (r += u + " ");
                              t.className = i.trim(r)
                          }
                  return this
              },
              removeClass: function(n) {
                  var e, t, r, u, o, f = 0, h = this.length, c = 0 === arguments.length || "string" == typeof n && n;
                  if (i.isFunction(n))
                      return this.each(function(t) {
                          i(this).removeClass(n.call(this, t, this.className))
                      });
                  if (c)
                      for (e = (n || "").match(s) || []; h > f; f++)
                          if (t = this[f],
                          r = 1 === t.nodeType && (t.className ? (" " + t.className + " ").replace(oi, " ") : "")) {
                              for (o = 0; u = e[o++]; )
                                  while (r.indexOf(" " + u + " ") >= 0)
                                      r = r.replace(" " + u + " ", " ");
                              t.className = n ? i.trim(r) : ""
                          }
                  return this
              },
              toggleClass: function(n, t) {
                  var r = typeof n;
                  return "boolean" == typeof t && "string" === r ? t ? this.addClass(n) : this.removeClass(n) : i.isFunction(n) ? this.each(function(r) {
                      i(this).toggleClass(n.call(this, r, this.className, t), t)
                  }) : this.each(function() {
                      if ("string" === r)
                          for (var t, f = 0, u = i(this), e = n.match(s) || []; t = e[f++]; )
                              u.hasClass(t) ? u.removeClass(t) : u.addClass(t);
                      else
                          (r === o || "boolean" === r) && (this.className && i._data(this, "__className__", this.className),
                          this.className = this.className || n === !1 ? "" : i._data(this, "__className__") || "")
                  })
              },
              hasClass: function(n) {
                  for (var i = " " + n + " ", t = 0, r = this.length; r > t; t++)
                      if (1 === this[t].nodeType && (" " + this[t].className + " ").replace(oi, " ").indexOf(i) >= 0)
                          return !0;
                  return !1
              },
              val: function(n) {
                  var u, r, e, f = this[0];
                  return arguments.length ? (e = i.isFunction(n),
                  this.each(function(u) {
                      var f;
                      1 === this.nodeType && (f = e ? n.call(this, u, i(this).val()) : n,
                      null == f ? f = "" : "number" == typeof f ? f += "" : i.isArray(f) && (f = i.map(f, function(n) {
                          return null == n ? "" : n + ""
                      })),
                      r = i.valHooks[this.type] || i.valHooks[this.nodeName.toLowerCase()],
                      r && "set"in r && r.set(this, f, "value") !== t || (this.value = f))
                  })) : f ? (r = i.valHooks[f.type] || i.valHooks[f.nodeName.toLowerCase()],
                  r && "get"in r && (u = r.get(f, "value")) !== t ? u : (u = f.value,
                  "string" == typeof u ? u.replace(he, "") : null == u ? "" : u)) : void 0
              }
          });
          i.extend({
              valHooks: {
                  option: {
                      get: function(n) {
                          var t = i.find.attr(n, "value");
                          return null != t ? t : n.text
                      }
                  },
                  select: {
                      get: function(n) {
                          for (var e, t, o = n.options, r = n.selectedIndex, u = "select-one" === n.type || 0 > r, s = u ? null : [], h = u ? r + 1 : o.length, f = 0 > r ? h : u ? r : 0; h > f; f++)
                              if (t = o[f],
                              !(!t.selected && f !== r || (i.support.optDisabled ? t.disabled : null !== t.getAttribute("disabled")) || t.parentNode.disabled && i.nodeName(t.parentNode, "optgroup"))) {
                                  if (e = i(t).val(),
                                  u)
                                      return e;
                                  s.push(e)
                              }
                          return s
                      },
                      set: function(n, t) {
                          for (var u, r, f = n.options, e = i.makeArray(t), o = f.length; o--; )
                              r = f[o],
                              (r.selected = i.inArray(i(r).val(), e) >= 0) && (u = !0);
                          return u || (n.selectedIndex = -1),
                          e
                      }
                  }
              },
              attr: function(n, r, u) {
                  var f, e, s = n.nodeType;
                  if (n && 3 !== s && 8 !== s && 2 !== s)
                      return typeof n.getAttribute === o ? i.prop(n, r, u) : (1 === s && i.isXMLDoc(n) || (r = r.toLowerCase(),
                      f = i.attrHooks[r] || (i.expr.match.bool.test(r) ? su : tt)),
                      u === t ? f && "get"in f && null !== (e = f.get(n, r)) ? e : (e = i.find.attr(n, r),
                      null == e ? t : e) : null !== u ? f && "set"in f && (e = f.set(n, u, r)) !== t ? e : (n.setAttribute(r, u + ""),
                      u) : (i.removeAttr(n, r),
                      t))
              },
              removeAttr: function(n, t) {
                  var r, u, e = 0, f = t && t.match(s);
                  if (f && 1 === n.nodeType)
                      while (r = f[e++])
                          u = i.propFix[r] || r,
                          i.expr.match.bool.test(r) ? vt && a || !si.test(r) ? n[u] = !1 : n[i.camelCase("default-" + r)] = n[u] = !1 : i.attr(n, r, ""),
                          n.removeAttribute(a ? r : u)
              },
              attrHooks: {
                  type: {
                      set: function(n, t) {
                          if (!i.support.radioValue && "radio" === t && i.nodeName(n, "input")) {
                              var r = n.value;
                              return n.setAttribute("type", t),
                              r && (n.value = r),
                              t
                          }
                      }
                  }
              },
              propFix: {
                  "for": "htmlFor",
                  "class": "className"
              },
              prop: function(n, r, u) {
                  var e, f, s, o = n.nodeType;
                  if (n && 3 !== o && 8 !== o && 2 !== o)
                      return s = 1 !== o || !i.isXMLDoc(n),
                      s && (r = i.propFix[r] || r,
                      f = i.propHooks[r]),
                      u !== t ? f && "set"in f && (e = f.set(n, u, r)) !== t ? e : n[r] = u : f && "get"in f && null !== (e = f.get(n, r)) ? e : n[r]
              },
              propHooks: {
                  tabIndex: {
                      get: function(n) {
                          var t = i.find.attr(n, "tabindex");
                          return t ? parseInt(t, 10) : ce.test(n.nodeName) || le.test(n.nodeName) && n.href ? 0 : -1
                      }
                  }
              }
          });
          su = {
              set: function(n, t, r) {
                  return t === !1 ? i.removeAttr(n, r) : vt && a || !si.test(r) ? n.setAttribute(!a && i.propFix[r] || r, r) : n[i.camelCase("default-" + r)] = n[r] = !0,
                  r
              }
          };
          i.each(i.expr.match.bool.source.match(/\\w+/g), function(n, r) {
              var u = i.expr.attrHandle[r] || i.find.attr;
              i.expr.attrHandle[r] = vt && a || !si.test(r) ? function(n, r, f) {
                  var e = i.expr.attrHandle[r]
                    , o = f ? t : (i.expr.attrHandle[r] = t) != u(n, r, f) ? r.toLowerCase() : null ;
                  return i.expr.attrHandle[r] = e,
                  o
              }
              : function(n, r, u) {
                  return u ? t : n[i.camelCase("default-" + r)] ? r.toLowerCase() : null
              }
          });
          vt && a || (i.attrHooks.value = {
              set: function(n, r, u) {
                  return i.nodeName(n, "input") ? (n.defaultValue = r,
                  t) : tt && tt.set(n, r, u)
              }
          });
          a || (tt = {
              set: function(n, i, r) {
                  var u = n.getAttributeNode(r);
                  return u || n.setAttributeNode(u = n.ownerDocument.createAttribute(r)),
                  u.value = i += "",
                  "value" === r || i === n.getAttribute(r) ? i : t
              }
          },
          i.expr.attrHandle.id = i.expr.attrHandle.name = i.expr.attrHandle.coords = function(n, i, r) {
              var u;
              return r ? t : (u = n.getAttributeNode(i)) && "" !== u.value ? u.value : null
          }
          ,
          i.valHooks.button = {
              get: function(n, i) {
                  var r = n.getAttributeNode(i);
                  return r && r.specified ? r.value : t
              },
              set: tt.set
          },
          i.attrHooks.contenteditable = {
              set: function(n, t, i) {
                  tt.set(n, "" === t ? !1 : t, i)
              }
          },
          i.each(["width", "height"], function(n, r) {
              i.attrHooks[r] = {
                  set: function(n, i) {
                      return "" === i ? (n.setAttribute(r, "auto"),
                      i) : t
                  }
              }
          }));
          i.support.hrefNormalized || i.each(["href", "src"], function(n, t) {
              i.propHooks[t] = {
                  get: function(n) {
                      return n.getAttribute(t, 4)
                  }
              }
          });
          i.support.style || (i.attrHooks.style = {
              get: function(n) {
                  return n.style.cssText || t
              },
              set: function(n, t) {
                  return n.style.cssText = t + ""
              }
          });
          i.support.optSelected || (i.propHooks.selected = {
              get: function(n) {
                  var t = n.parentNode;
                  return t && (t.selectedIndex,
                  t.parentNode && t.parentNode.selectedIndex),
                  null
              }
          });
          i.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
              i.propFix[this.toLowerCase()] = this
          });
          i.support.enctype || (i.propFix.enctype = "encoding");
          i.each(["radio", "checkbox"], function() {
              i.valHooks[this] = {
                  set: function(n, r) {
                      return i.isArray(r) ? n.checked = i.inArray(i(n).val(), r) >= 0 : t
                  }
              };
              i.support.checkOn || (i.valHooks[this].get = function(n) {
                  return null === n.getAttribute("value") ? "on" : n.value
              }
              )
          });
          var hi = /^(?:input|select|textarea)$/i
            , ae = /^key/
            , ve = /^(?:mouse|contextmenu)|click/
            , hu = /^(?:focusinfocus|focusoutblur)$/
            , cu = /^([^.]*)(?:\\.(.+)|)$/;
          i.event = {
              global: {},
              add: function(n, r, u, f, e) {
                  var b, p, k, w, c, l, a, v, h, d, g, y = i._data(n);
                  if (y) {
                      for (u.handler && (w = u,
                      u = w.handler,
                      e = w.selector),
                      u.guid || (u.guid = i.guid++),
                      (p = y.events) || (p = y.events = {}),
                      (l = y.handle) || (l = y.handle = function(n) {
                          return typeof i === o || n && i.event.triggered === n.type ? t : i.event.dispatch.apply(l.elem, arguments)
                      }
                      ,
                      l.elem = n),
                      r = (r || "").match(s) || [""],
                      k = r.length; k--; )
                          b = cu.exec(r[k]) || [],
                          h = g = b[1],
                          d = (b[2] || "").split(".").sort(),
                          h && (c = i.event.special[h] || {},
                          h = (e ? c.delegateType : c.bindType) || h,
                          c = i.event.special[h] || {},
                          a = i.extend({
                              type: h,
                              origType: g,
                              data: f,
                              handler: u,
                              guid: u.guid,
                              selector: e,
                              needsContext: e && i.expr.match.needsContext.test(e),
                              namespace: d.join(".")
                          }, w),
                          (v = p[h]) || (v = p[h] = [],
                          v.delegateCount = 0,
                          c.setup && c.setup.call(n, f, d, l) !== !1 || (n.addEventListener ? n.addEventListener(h, l, !1) : n.attachEvent && n.attachEvent("on" + h, l))),
                          c.add && (c.add.call(n, a),
                          a.handler.guid || (a.handler.guid = u.guid)),
                          e ? v.splice(v.delegateCount++, 0, a) : v.push(a),
                          i.event.global[h] = !0);
                      n = null
                  }
              },
              remove: function(n, t, r, u, f) {
                  var y, o, h, b, p, a, c, l, e, w, k, v = i.hasData(n) && i._data(n);
                  if (v && (a = v.events)) {
                      for (t = (t || "").match(s) || [""],
                      p = t.length; p--; )
                          if (h = cu.exec(t[p]) || [],
                          e = k = h[1],
                          w = (h[2] || "").split(".").sort(),
                          e) {
                              for (c = i.event.special[e] || {},
                              e = (u ? c.delegateType : c.bindType) || e,
                              l = a[e] || [],
                              h = h[2] && RegExp("(^|\\\\.)" + w.join("\\\\.(?:.*\\\\.|)") + "(\\\\.|$)"),
                              b = y = l.length; y--; )
                                  o = l[y],
                                  !f && k !== o.origType || r && r.guid !== o.guid || h && !h.test(o.namespace) || u && u !== o.selector && ("**" !== u || !o.selector) || (l.splice(y, 1),
                                  o.selector && l.delegateCount--,
                                  c.remove && c.remove.call(n, o));
                              b && !l.length && (c.teardown && c.teardown.call(n, w, v.handle) !== !1 || i.removeEvent(n, e, v.handle),
                              delete a[e])
                          } else
                              for (e in a)
                                  i.event.remove(n, e + t[p], r, u, !0);
                      i.isEmptyObject(a) && (delete v.handle,
                      i._removeData(n, "events"))
                  }
              },
              trigger: function(u, f, e, o) {
                  var a, v, s, w, l, c, b, p = [e || r], h = d.call(u, "type") ? u.type : u, y = d.call(u, "namespace") ? u.namespace.split(".") : [];
                  if (s = c = e = e || r,
                  3 !== e.nodeType && 8 !== e.nodeType && !hu.test(h + i.event.triggered) && (h.indexOf(".") >= 0 && (y = h.split("."),
                  h = y.shift(),
                  y.sort()),
                  v = 0 > h.indexOf(":") && "on" + h,
                  u = u[i.expando] ? u : new i.Event(h,"object" == typeof u && u),
                  u.isTrigger = o ? 2 : 3,
                  u.namespace = y.join("."),
                  u.namespace_re = u.namespace ? RegExp("(^|\\\\.)" + y.join("\\\\.(?:.*\\\\.|)") + "(\\\\.|$)") : null ,
                  u.result = t,
                  u.target || (u.target = e),
                  f = null == f ? [u] : i.makeArray(f, [u]),
                  l = i.event.special[h] || {},
                  o || !l.trigger || l.trigger.apply(e, f) !== !1)) {
                      if (!o && !l.noBubble && !i.isWindow(e)) {
                          for (w = l.delegateType || h,
                          hu.test(w + h) || (s = s.parentNode); s; s = s.parentNode)
                              p.push(s),
                              c = s;
                          c === (e.ownerDocument || r) && p.push(c.defaultView || c.parentWindow || n)
                      }
                      for (b = 0; (s = p[b++]) && !u.isPropagationStopped(); )
                          u.type = b > 1 ? w : l.bindType || h,
                          a = (i._data(s, "events") || {})[u.type] && i._data(s, "handle"),
                          a && a.apply(s, f),
                          a = v && s[v],
                          a && i.acceptData(s) && a.apply && a.apply(s, f) === !1 && u.preventDefault();
                      if (u.type = h,
                      !o && !u.isDefaultPrevented() && (!l._default || l._default.apply(p.pop(), f) === !1) && i.acceptData(e) && v && e[h] && !i.isWindow(e)) {
                          c = e[v];
                          c && (e[v] = null );
                          i.event.triggered = h;
                          try {
                              e[h]()
                          } catch (k) {}
                          i.event.triggered = t;
                          c && (e[v] = c)
                      }
                      return u.result
                  }
              },
              dispatch: function(n) {
                  n = i.event.fix(n);
                  var o, e, r, u, s, h = [], c = l.call(arguments), a = (i._data(this, "events") || {})[n.type] || [], f = i.event.special[n.type] || {};
                  if (c[0] = n,
                  n.delegateTarget = this,
                  !f.preDispatch || f.preDispatch.call(this, n) !== !1) {
                      for (h = i.event.handlers.call(this, n, a),
                      o = 0; (u = h[o++]) && !n.isPropagationStopped(); )
                          for (n.currentTarget = u.elem,
                          s = 0; (r = u.handlers[s++]) && !n.isImmediatePropagationStopped(); )
                              (!n.namespace_re || n.namespace_re.test(r.namespace)) && (n.handleObj = r,
                              n.data = r.data,
                              e = ((i.event.special[r.origType] || {}).handle || r.handler).apply(u.elem, c),
                              e !== t && (n.result = e) === !1 && (n.preventDefault(),
                              n.stopPropagation()));
                      return f.postDispatch && f.postDispatch.call(this, n),
                      n.result
                  }
              },
              handlers: function(n, r) {
                  var e, o, f, s, c = [], h = r.delegateCount, u = n.target;
                  if (h && u.nodeType && (!n.button || "click" !== n.type))
                      for (; u != this; u = u.parentNode || this)
                          if (1 === u.nodeType && (u.disabled !== !0 || "click" !== n.type)) {
                              for (f = [],
                              s = 0; h > s; s++)
                                  o = r[s],
                                  e = o.selector + " ",
                                  f[e] === t && (f[e] = o.needsContext ? i(e, this).index(u) >= 0 : i.find(e, this, null , [u]).length),
                                  f[e] && f.push(o);
                              f.length && c.push({
                                  elem: u,
                                  handlers: f
                              })
                          }
                  return r.length > h && c.push({
                      elem: this,
                      handlers: r.slice(h)
                  }),
                  c
              },
              fix: function(n) {
                  if (n[i.expando])
                      return n;
                  var e, o, s, u = n.type, f = n, t = this.fixHooks[u];
                  for (t || (this.fixHooks[u] = t = ve.test(u) ? this.mouseHooks : ae.test(u) ? this.keyHooks : {}),
                  s = t.props ? this.props.concat(t.props) : this.props,
                  n = new i.Event(f),
                  e = s.length; e--; )
                      o = s[e],
                      n[o] = f[o];
                  return n.target || (n.target = f.srcElement || r),
                  3 === n.target.nodeType && (n.target = n.target.parentNode),
                  n.metaKey = !!n.metaKey,
                  t.filter ? t.filter(n, f) : n
              },
              props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
              fixHooks: {},
              keyHooks: {
                  props: "char charCode key keyCode".split(" "),
                  filter: function(n, t) {
                      return null == n.which && (n.which = null != t.charCode ? t.charCode : t.keyCode),
                      n
                  }
              },
              mouseHooks: {
                  props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                  filter: function(n, i) {
                      var u, o, f, e = i.button, s = i.fromElement;
                      return null == n.pageX && null != i.clientX && (o = n.target.ownerDocument || r,
                      f = o.documentElement,
                      u = o.body,
                      n.pageX = i.clientX + (f && f.scrollLeft || u && u.scrollLeft || 0) - (f && f.clientLeft || u && u.clientLeft || 0),
                      n.pageY = i.clientY + (f && f.scrollTop || u && u.scrollTop || 0) - (f && f.clientTop || u && u.clientTop || 0)),
                      !n.relatedTarget && s && (n.relatedTarget = s === n.target ? i.toElement : s),
                      n.which || e === t || (n.which = 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0),
                      n
                  }
              },
              special: {
                  load: {
                      noBubble: !0
                  },
                  focus: {
                      trigger: function() {
                          if (this !== gi() && this.focus)
                              try {
                                  return this.focus(),
                                  !1
                              } catch (n) {}
                      },
                      delegateType: "focusin"
                  },
                  blur: {
                      trigger: function() {
                          return this === gi() && this.blur ? (this.blur(),
                          !1) : t
                      },
                      delegateType: "focusout"
                  },
                  click: {
                      trigger: function() {
                          return i.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(),
                          !1) : t
                      },
                      _default: function(n) {
                          return i.nodeName(n.target, "a")
                      }
                  },
                  beforeunload: {
                      postDispatch: function(n) {
                          n.result !== t && (n.originalEvent.returnValue = n.result)
                      }
                  }
              },
              simulate: function(n, t, r, u) {
                  var f = i.extend(new i.Event, r, {
                      type: n,
                      isSimulated: !0,
                      originalEvent: {}
                  });
                  u ? i.event.trigger(f, null , t) : i.event.dispatch.call(t, f);
                  f.isDefaultPrevented() && r.preventDefault()
              }
          };
          i.removeEvent = r.removeEventListener ? function(n, t, i) {
              n.removeEventListener && n.removeEventListener(t, i, !1)
          }
          : function(n, t, i) {
              var r = "on" + t;
              n.detachEvent && (typeof n[r] === o && (n[r] = null ),
              n.detachEvent(r, i))
          }
          ;
          i.Event = function(n, r) {
              return this instanceof i.Event ? (n && n.type ? (this.originalEvent = n,
              this.type = n.type,
              this.isDefaultPrevented = n.defaultPrevented || n.returnValue === !1 || n.getPreventDefault && n.getPreventDefault() ? et : b) : this.type = n,
              r && i.extend(this, r),
              this.timeStamp = n && n.timeStamp || i.now(),
              this[i.expando] = !0,
              t) : new i.Event(n,r)
          }
          ;
          i.Event.prototype = {
              isDefaultPrevented: b,
              isPropagationStopped: b,
              isImmediatePropagationStopped: b,
              preventDefault: function() {
                  var n = this.originalEvent;
                  this.isDefaultPrevented = et;
                  n && (n.preventDefault ? n.preventDefault() : n.returnValue = !1)
              },
              stopPropagation: function() {
                  var n = this.originalEvent;
                  this.isPropagationStopped = et;
                  n && (n.stopPropagation && n.stopPropagation(),
                  n.cancelBubble = !0)
              },
              stopImmediatePropagation: function() {
                  this.isImmediatePropagationStopped = et;
                  this.stopPropagation()
              }
          };
          i.each({
              mouseenter: "mouseover",
              mouseleave: "mouseout"
          }, function(n, t) {
              i.event.special[n] = {
                  delegateType: t,
                  bindType: t,
                  handle: function(n) {
                      var u, f = this, r = n.relatedTarget, e = n.handleObj;
                      return (!r || r !== f && !i.contains(f, r)) && (n.type = e.origType,
                      u = e.handler.apply(this, arguments),
                      n.type = t),
                      u
                  }
              }
          });
          i.support.submitBubbles || (i.event.special.submit = {
              setup: function() {
                  return i.nodeName(this, "form") ? !1 : (i.event.add(this, "click._submit keypress._submit", function(n) {
                      var u = n.target
                        , r = i.nodeName(u, "input") || i.nodeName(u, "button") ? u.form : t;
                      r && !i._data(r, "submitBubbles") && (i.event.add(r, "submit._submit", function(n) {
                          n._submit_bubble = !0
                      }),
                      i._data(r, "submitBubbles", !0))
                  }),
                  t)
              },
              postDispatch: function(n) {
                  n._submit_bubble && (delete n._submit_bubble,
                  this.parentNode && !n.isTrigger && i.event.simulate("submit", this.parentNode, n, !0))
              },
              teardown: function() {
                  return i.nodeName(this, "form") ? !1 : (i.event.remove(this, "._submit"),
                  t)
              }
          });
          i.support.changeBubbles || (i.event.special.change = {
              setup: function() {
                  return hi.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (i.event.add(this, "propertychange._change", function(n) {
                      "checked" === n.originalEvent.propertyName && (this._just_changed = !0)
                  }),
                  i.event.add(this, "click._change", function(n) {
                      this._just_changed && !n.isTrigger && (this._just_changed = !1);
                      i.event.simulate("change", this, n, !0)
                  })),
                  !1) : (i.event.add(this, "beforeactivate._change", function(n) {
                      var t = n.target;
                      hi.test(t.nodeName) && !i._data(t, "changeBubbles") && (i.event.add(t, "change._change", function(n) {
                          !this.parentNode || n.isSimulated || n.isTrigger || i.event.simulate("change", this.parentNode, n, !0)
                      }),
                      i._data(t, "changeBubbles", !0))
                  }),
                  t)
              },
              handle: function(n) {
                  var i = n.target;
                  return this !== i || n.isSimulated || n.isTrigger || "radio" !== i.type && "checkbox" !== i.type ? n.handleObj.handler.apply(this, arguments) : t
              },
              teardown: function() {
                  return i.event.remove(this, "._change"),
                  !hi.test(this.nodeName)
              }
          });
          i.support.focusinBubbles || i.each({
              focus: "focusin",
              blur: "focusout"
          }, function(n, t) {
              var u = 0
                , f = function(n) {
                  i.event.simulate(t, n.target, i.event.fix(n), !0)
              };
              i.event.special[t] = {
                  setup: function() {
                      0 == u++ && r.addEventListener(n, f, !0)
                  },
                  teardown: function() {
                      0 == --u && r.removeEventListener(n, f, !0)
                  }
              }
          });
          i.fn.extend({
              on: function(n, r, u, f, e) {
                  var s, o;
                  if ("object" == typeof n) {
                      "string" != typeof r && (u = u || r,
                      r = t);
                      for (s in n)
                          this.on(s, r, u, n[s], e);
                      return this
                  }
                  if (null == u && null == f ? (f = r,
                  u = r = t) : null == f && ("string" == typeof r ? (f = u,
                  u = t) : (f = u,
                  u = r,
                  r = t)),
                  f === !1)
                      f = b;
                  else if (!f)
                      return this;
                  return 1 === e && (o = f,
                  f = function(n) {
                      return i().off(n),
                      o.apply(this, arguments)
                  }
                  ,
                  f.guid = o.guid || (o.guid = i.guid++)),
                  this.each(function() {
                      i.event.add(this, n, f, u, r)
                  })
              },
              one: function(n, t, i, r) {
                  return this.on(n, t, i, r, 1)
              },
              off: function(n, r, u) {
                  var f, e;
                  if (n && n.preventDefault && n.handleObj)
                      return f = n.handleObj,
                      i(n.delegateTarget).off(f.namespace ? f.origType + "." + f.namespace : f.origType, f.selector, f.handler),
                      this;
                  if ("object" == typeof n) {
                      for (e in n)
                          this.off(e, r, n[e]);
                      return this
                  }
                  return (r === !1 || "function" == typeof r) && (u = r,
                  r = t),
                  u === !1 && (u = b),
                  this.each(function() {
                      i.event.remove(this, n, u, r)
                  })
              },
              trigger: function(n, t) {
                  return this.each(function() {
                      i.event.trigger(n, t, this)
                  })
              },
              triggerHandler: function(n, r) {
                  var u = this[0];
                  return u ? i.event.trigger(n, r, u, !0) : t
              }
          });
          var ye = /^.[^:#\\[\\.,]*$/
            , pe = /^(?:parents|prev(?:Until|All))/
            , lu = i.expr.match.needsContext
            , we = {
              children: !0,
              contents: !0,
              next: !0,
              prev: !0
          };
          i.fn.extend({
              find: function(n) {
                  var t, r = [], u = this, f = u.length;
                  if ("string" != typeof n)
                      return this.pushStack(i(n).filter(function() {
                          for (t = 0; f > t; t++)
                              if (i.contains(u[t], this))
                                  return !0
                      }));
                  for (t = 0; f > t; t++)
                      i.find(n, u[t], r);
                  return r = this.pushStack(f > 1 ? i.unique(r) : r),
                  r.selector = this.selector ? this.selector + " " + n : n,
                  r
              },
              has: function(n) {
                  var t, r = i(n, this), u = r.length;
                  return this.filter(function() {
                      for (t = 0; u > t; t++)
                          if (i.contains(this, r[t]))
                              return !0
                  })
              },
              not: function(n) {
                  return this.pushStack(dt(this, n || [], !0))
              },
              filter: function(n) {
                  return this.pushStack(dt(this, n || [], !1))
              },
              is: function(n) {
                  return !!dt(this, "string" == typeof n && lu.test(n) ? i(n) : n || [], !1).length
              },
              closest: function(n, t) {
                  for (var r, f = 0, o = this.length, u = [], e = lu.test(n) || "string" != typeof n ? i(n, t || this.context) : 0; o > f; f++)
                      for (r = this[f]; r && r !== t; r = r.parentNode)
                          if (11 > r.nodeType && (e ? e.index(r) > -1 : 1 === r.nodeType && i.find.matchesSelector(r, n))) {
                              r = u.push(r);
                              break
                          }
                  return this.pushStack(u.length > 1 ? i.unique(u) : u)
              },
              index: function(n) {
                  return n ? "string" == typeof n ? i.inArray(this[0], i(n)) : i.inArray(n.jquery ? n[0] : n, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
              },
              add: function(n, t) {
                  var r = "string" == typeof n ? i(n, t) : i.makeArray(n && n.nodeType ? [n] : n)
                    , u = i.merge(this.get(), r);
                  return this.pushStack(i.unique(u))
              },
              addBack: function(n) {
                  return this.add(null == n ? this.prevObject : this.prevObject.filter(n))
              }
          });
          i.each({
              parent: function(n) {
                  var t = n.parentNode;
                  return t && 11 !== t.nodeType ? t : null
              },
              parents: function(n) {
                  return i.dir(n, "parentNode")
              },
              parentsUntil: function(n, t, r) {
                  return i.dir(n, "parentNode", r)
              },
              next: function(n) {
                  return nr(n, "nextSibling")
              },
              prev: function(n) {
                  return nr(n, "previousSibling")
              },
              nextAll: function(n) {
                  return i.dir(n, "nextSibling")
              },
              prevAll: function(n) {
                  return i.dir(n, "previousSibling")
              },
              nextUntil: function(n, t, r) {
                  return i.dir(n, "nextSibling", r)
              },
              prevUntil: function(n, t, r) {
                  return i.dir(n, "previousSibling", r)
              },
              siblings: function(n) {
                  return i.sibling((n.parentNode || {}).firstChild, n)
              },
              children: function(n) {
                  return i.sibling(n.firstChild)
              },
              contents: function(n) {
                  return i.nodeName(n, "iframe") ? n.contentDocument || n.contentWindow.document : i.merge([], n.childNodes)
              }
          }, function(n, t) {
              i.fn[n] = function(r, u) {
                  var f = i.map(this, t, r);
                  return "Until" !== n.slice(-5) && (u = r),
                  u && "string" == typeof u && (f = i.filter(u, f)),
                  this.length > 1 && (we[n] || (f = i.unique(f)),
                  pe.test(n) && (f = f.reverse())),
                  this.pushStack(f)
              }
          });
          i.extend({
              filter: function(n, t, r) {
                  var u = t[0];
                  return r && (n = ":not(" + n + ")"),
                  1 === t.length && 1 === u.nodeType ? i.find.matchesSelector(u, n) ? [u] : [] : i.find.matches(n, i.grep(t, function(n) {
                      return 1 === n.nodeType
                  }))
              },
              dir: function(n, r, u) {
                  for (var e = [], f = n[r]; f && 9 !== f.nodeType && (u === t || 1 !== f.nodeType || !i(f).is(u)); )
                      1 === f.nodeType && e.push(f),
                      f = f[r];
                  return e
              },
              sibling: function(n, t) {
                  for (var i = []; n; n = n.nextSibling)
                      1 === n.nodeType && n !== t && i.push(n);
                  return i
              }
          });
          var au = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
            , be = / jQuery\\d+="(?:null|\\d+)"/g
            , vu = RegExp("<(?:" + au + ")[\\\\s/>]", "i")
            , ci = /^\\s+/
            , yu = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi
            , pu = /<([\\w:]+)/
            , wu = /<tbody/i
            , ke = /<|&#?\\w+;/
            , de = /<(?:script|style|link)/i
            , li = /^(?:checkbox|radio)$/i
            , ge = /checked\\s*(?:[^=]|=\\s*.checked.)/i
            , bu = /^$|\\/(?:java|ecma)script/i
            , no = /^true\\/(.*)/
            , to = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g
            , e = {
              option: [1, "<select multiple='multiple'>", "<\\/select>"],
              legend: [1, "<fieldset>", "<\\/fieldset>"],
              area: [1, "<map>", "<\\/map>"],
              param: [1, "<object>", "<\\/object>"],
              thead: [1, "<table>", "<\\/table>"],
              tr: [2, "<table><tbody>", "<\\/tbody><\\/table>"],
              col: [2, "<table><tbody><\\/tbody><colgroup>", "<\\/colgroup><\\/table>"],
              td: [3, "<table><tbody><tr>", "<\\/tr><\\/tbody><\\/table>"],
              _default: i.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "<\\/div>"]
          }
            , io = tr(r)
            , ai = io.appendChild(r.createElement("div"));
          e.optgroup = e.option;
          e.tbody = e.tfoot = e.colgroup = e.caption = e.thead;
          e.th = e.td;
          i.fn.extend({
              text: function(n) {
                  return i.access(this, function(n) {
                      return n === t ? i.text(this) : this.empty().append((this[0] && this[0].ownerDocument || r).createTextNode(n))
                  }, null , n, arguments.length)
              },
              append: function() {
                  return this.domManip(arguments, function(n) {
                      if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                          var t = ir(this, n);
                          t.appendChild(n)
                      }
                  })
              },
              prepend: function() {
                  return this.domManip(arguments, function(n) {
                      if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                          var t = ir(this, n);
                          t.insertBefore(n, t.firstChild)
                      }
                  })
              },
              before: function() {
                  return this.domManip(arguments, function(n) {
                      this.parentNode && this.parentNode.insertBefore(n, this)
                  })
              },
              after: function() {
                  return this.domManip(arguments, function(n) {
                      this.parentNode && this.parentNode.insertBefore(n, this.nextSibling)
                  })
              },
              remove: function(n, t) {
                  for (var r, e = n ? i.filter(n, this) : this, f = 0; null != (r = e[f]); f++)
                      t || 1 !== r.nodeType || i.cleanData(u(r)),
                      r.parentNode && (t && i.contains(r.ownerDocument, r) && gt(u(r, "script")),
                      r.parentNode.removeChild(r));
                  return this
              },
              empty: function() {
                  for (var n, t = 0; null != (n = this[t]); t++) {
                      for (1 === n.nodeType && i.cleanData(u(n, !1)); n.firstChild; )
                          n.removeChild(n.firstChild);
                      n.options && i.nodeName(n, "select") && (n.options.length = 0)
                  }
                  return this
              },
              clone: function(n, t) {
                  return n = null == n ? !1 : n,
                  t = null == t ? n : t,
                  this.map(function() {
                      return i.clone(this, n, t)
                  })
              },
              html: function(n) {
                  return i.access(this, function(n) {
                      var r = this[0] || {}
                        , f = 0
                        , o = this.length;
                      if (n === t)
                          return 1 === r.nodeType ? r.innerHTML.replace(be, "") : t;
                      if (!("string" != typeof n || de.test(n) || !i.support.htmlSerialize && vu.test(n) || !i.support.leadingWhitespace && ci.test(n) || e[(pu.exec(n) || ["", ""])[1].toLowerCase()])) {
                          n = n.replace(yu, "<$1><\\/$2>");
                          try {
                              for (; o > f; f++)
                                  r = this[f] || {},
                                  1 === r.nodeType && (i.cleanData(u(r, !1)),
                                  r.innerHTML = n);
                              r = 0
                          } catch (s) {}
                      }
                      r && this.empty().append(n)
                  }, null , n, arguments.length)
              },
              replaceWith: function() {
                  var t = i.map(this, function(n) {
                      return [n.nextSibling, n.parentNode]
                  })
                    , n = 0;
                  return this.domManip(arguments, function(r) {
                      var u = t[n++]
                        , f = t[n++];
                      f && (u && u.parentNode !== f && (u = this.nextSibling),
                      i(this).remove(),
                      f.insertBefore(r, u))
                  }, !0),
                  n ? this : this.remove()
              },
              detach: function(n) {
                  return this.remove(n, !0)
              },
              domManip: function(n, t, r) {
                  n = tu.apply([], n);
                  var h, f, c, o, v, s, e = 0, l = this.length, p = this, w = l - 1, a = n[0], y = i.isFunction(a);
                  if (y || !(1 >= l || "string" != typeof a || i.support.checkClone) && ge.test(a))
                      return this.each(function(i) {
                          var u = p.eq(i);
                          y && (n[0] = a.call(this, i, u.html()));
                          u.domManip(n, t, r)
                      });
                  if (l && (s = i.buildFragment(n, this[0].ownerDocument, !1, !r && this),
                  h = s.firstChild,
                  1 === s.childNodes.length && (s = h),
                  h)) {
                      for (o = i.map(u(s, "script"), rr),
                      c = o.length; l > e; e++)
                          f = s,
                          e !== w && (f = i.clone(f, !0, !0),
                          c && i.merge(o, u(f, "script"))),
                          t.call(this[e], f, e);
                      if (c)
                          for (v = o[o.length - 1].ownerDocument,
                          i.map(o, ur),
                          e = 0; c > e; e++)
                              f = o[e],
                              bu.test(f.type || "") && !i._data(f, "globalEval") && i.contains(v, f) && (f.src ? i._evalUrl(f.src) : i.globalEval((f.text || f.textContent || f.innerHTML || "").replace(to, "")));
                      s = h = null
                  }
                  return this
              }
          });
          i.each({
              appendTo: "append",
              prependTo: "prepend",
              insertBefore: "before",
              insertAfter: "after",
              replaceAll: "replaceWith"
          }, function(n, t) {
              i.fn[n] = function(n) {
                  for (var u, r = 0, f = [], e = i(n), o = e.length - 1; o >= r; r++)
                      u = r === o ? this : this.clone(!0),
                      i(e[r])[t](u),
                      ri.apply(f, u.get());
                  return this.pushStack(f)
              }
          });
          i.extend({
              clone: function(n, t, r) {
                  var f, h, o, e, s, c = i.contains(n.ownerDocument, n);
                  if (i.support.html5Clone || i.isXMLDoc(n) || !vu.test("<" + n.nodeName + ">") ? o = n.cloneNode(!0) : (ai.innerHTML = n.outerHTML,
                  ai.removeChild(o = ai.firstChild)),
                  !(i.support.noCloneEvent && i.support.noCloneChecked || 1 !== n.nodeType && 11 !== n.nodeType || i.isXMLDoc(n)))
                      for (f = u(o),
                      s = u(n),
                      e = 0; null != (h = s[e]); ++e)
                          f[e] && cf(h, f[e]);
                  if (t)
                      if (r)
                          for (s = s || u(n),
                          f = f || u(o),
                          e = 0; null != (h = s[e]); e++)
                              fr(h, f[e]);
                      else
                          fr(n, o);
                  return f = u(o, "script"),
                  f.length > 0 && gt(f, !c && u(n, "script")),
                  f = s = h = null ,
                  o
              },
              buildFragment: function(n, t, r, f) {
                  for (var h, o, w, s, y, p, l, b = n.length, a = tr(t), c = [], v = 0; b > v; v++)
                      if (o = n[v],
                      o || 0 === o)
                          if ("object" === i.type(o))
                              i.merge(c, o.nodeType ? [o] : o);
                          else if (ke.test(o)) {
                              for (s = s || a.appendChild(t.createElement("div")),
                              y = (pu.exec(o) || ["", ""])[1].toLowerCase(),
                              l = e[y] || e._default,
                              s.innerHTML = l[1] + o.replace(yu, "<$1><\\/$2>") + l[2],
                              h = l[0]; h--; )
                                  s = s.lastChild;
                              if (!i.support.leadingWhitespace && ci.test(o) && c.push(t.createTextNode(ci.exec(o)[0])),
                              !i.support.tbody)
                                  for (o = "table" !== y || wu.test(o) ? "<table>" !== l[1] || wu.test(o) ? 0 : s : s.firstChild,
                                  h = o && o.childNodes.length; h--; )
                                      i.nodeName(p = o.childNodes[h], "tbody") && !p.childNodes.length && o.removeChild(p);
                              for (i.merge(c, s.childNodes),
                              s.textContent = ""; s.firstChild; )
                                  s.removeChild(s.firstChild);
                              s = a.lastChild
                          } else
                              c.push(t.createTextNode(o));
                  for (s && a.removeChild(s),
                  i.support.appendChecked || i.grep(u(c, "input"), lf),
                  v = 0; o = c[v++]; )
                      if ((!f || -1 === i.inArray(o, f)) && (w = i.contains(o.ownerDocument, o),
                      s = u(a.appendChild(o), "script"),
                      w && gt(s),
                      r))
                          for (h = 0; o = s[h++]; )
                              bu.test(o.type || "") && r.push(o);
                  return s = null ,
                  a
              },
              cleanData: function(n, t) {
                  for (var r, f, u, e, c = 0, s = i.expando, h = i.cache, l = i.support.deleteExpando, a = i.event.special; null != (r = n[c]); c++)
                      if ((t || i.acceptData(r)) && (u = r[s],
                      e = u && h[u])) {
                          if (e.events)
                              for (f in e.events)
                                  a[f] ? i.event.remove(r, f) : i.removeEvent(r, f, e.handle);
                          h[u] && (delete h[u],
                          l ? delete r[s] : typeof r.removeAttribute !== o ? r.removeAttribute(s) : r[s] = null ,
                          k.push(u))
                      }
              },
              _evalUrl: function(n) {
                  return i.ajax({
                      url: n,
                      type: "GET",
                      dataType: "script",
                      async: !1,
                      global: !1,
                      throws: !0
                  })
              }
          });
          i.fn.extend({
              wrapAll: function(n) {
                  if (i.isFunction(n))
                      return this.each(function(t) {
                          i(this).wrapAll(n.call(this, t))
                      });
                  if (this[0]) {
                      var t = i(n, this[0].ownerDocument).eq(0).clone(!0);
                      this[0].parentNode && t.insertBefore(this[0]);
                      t.map(function() {
                          for (var n = this; n.firstChild && 1 === n.firstChild.nodeType; )
                              n = n.firstChild;
                          return n
                      }).append(this)
                  }
                  return this
              },
              wrapInner: function(n) {
                  return i.isFunction(n) ? this.each(function(t) {
                      i(this).wrapInner(n.call(this, t))
                  }) : this.each(function() {
                      var t = i(this)
                        , r = t.contents();
                      r.length ? r.wrapAll(n) : t.append(n)
                  })
              },
              wrap: function(n) {
                  var t = i.isFunction(n);
                  return this.each(function(r) {
                      i(this).wrapAll(t ? n.call(this, r) : n)
                  })
              },
              unwrap: function() {
                  return this.parent().each(function() {
                      i.nodeName(this, "body") || i(this).replaceWith(this.childNodes)
                  }).end()
              }
          });
          var ut, v, y, vi = /alpha\\([^)]*\\)/i, ro = /opacity\\s*=\\s*([^)]*)/, uo = /^(top|right|bottom|left)$/, fo = /^(none|table(?!-c[ea]).+)/, ku = /^margin/, eo = RegExp("^(" + ct + ")(.*)$", "i"), yt = RegExp("^(" + ct + ")(?!px)[a-z%]+$", "i"), oo = RegExp("^([+-])=(" + ct + ")", "i"), du = {
              BODY: "block"
          }, so = {
              position: "absolute",
              visibility: "hidden",
              display: "block"
          }, gu = {
              letterSpacing: 0,
              fontWeight: 400
          }, p = ["Top", "Right", "Bottom", "Left"], nf = ["Webkit", "O", "Moz", "ms"];
          i.fn.extend({
              css: function(n, r) {
                  return i.access(this, function(n, r, u) {
                      var e, o, s = {}, f = 0;
                      if (i.isArray(r)) {
                          for (o = v(n),
                          e = r.length; e > f; f++)
                              s[r[f]] = i.css(n, r[f], !1, o);
                          return s
                      }
                      return u !== t ? i.style(n, r, u) : i.css(n, r)
                  }, n, r, arguments.length > 1)
              },
              show: function() {
                  return or(this, !0)
              },
              hide: function() {
                  return or(this)
              },
              toggle: function(n) {
                  return "boolean" == typeof n ? n ? this.show() : this.hide() : this.each(function() {
                      rt(this) ? i(this).show() : i(this).hide()
                  })
              }
          });
          i.extend({
              cssHooks: {
                  opacity: {
                      get: function(n, t) {
                          if (t) {
                              var i = y(n, "opacity");
                              return "" === i ? "1" : i
                          }
                      }
                  }
              },
              cssNumber: {
                  columnCount: !0,
                  fillOpacity: !0,
                  fontWeight: !0,
                  lineHeight: !0,
                  opacity: !0,
                  order: !0,
                  orphans: !0,
                  widows: !0,
                  zIndex: !0,
                  zoom: !0
              },
              cssProps: {
                  float: i.support.cssFloat ? "cssFloat" : "styleFloat"
              },
              style: function(n, r, u, f) {
                  if (n && 3 !== n.nodeType && 8 !== n.nodeType && n.style) {
                      var o, s, e, h = i.camelCase(r), c = n.style;
                      if (r = i.cssProps[h] || (i.cssProps[h] = er(c, h)),
                      e = i.cssHooks[r] || i.cssHooks[h],
                      u === t)
                          return e && "get"in e && (o = e.get(n, !1, f)) !== t ? o : c[r];
                      if (s = typeof u,
                      "string" === s && (o = oo.exec(u)) && (u = (o[1] + 1) * o[2] + parseFloat(i.css(n, r)),
                      s = "number"),
                      !(null == u || "number" === s && isNaN(u) || ("number" !== s || i.cssNumber[h] || (u += "px"),
                      i.support.clearCloneStyle || "" !== u || 0 !== r.indexOf("background") || (c[r] = "inherit"),
                      e && "set"in e && (u = e.set(n, u, f)) === t)))
                          try {
                              c[r] = u
                          } catch (l) {}
                  }
              },
              css: function(n, r, u, f) {
                  var h, e, o, s = i.camelCase(r);
                  return r = i.cssProps[s] || (i.cssProps[s] = er(n.style, s)),
                  o = i.cssHooks[r] || i.cssHooks[s],
                  o && "get"in o && (e = o.get(n, !0, u)),
                  e === t && (e = y(n, r, f)),
                  "normal" === e && r in gu && (e = gu[r]),
                  "" === u || u ? (h = parseFloat(e),
                  u === !0 || i.isNumeric(h) ? h || 0 : e) : e
              }
          });
          n.getComputedStyle ? (v = function(t) {
              return n.getComputedStyle(t, null )
          }
          ,
          y = function(n, r, u) {
              var s, h, c, o = u || v(n), e = o ? o.getPropertyValue(r) || o[r] : t, f = n.style;
              return o && ("" !== e || i.contains(n.ownerDocument, n) || (e = i.style(n, r)),
              yt.test(e) && ku.test(r) && (s = f.width,
              h = f.minWidth,
              c = f.maxWidth,
              f.minWidth = f.maxWidth = f.width = e,
              e = o.width,
              f.width = s,
              f.minWidth = h,
              f.maxWidth = c)),
              e
          }
          ) : r.documentElement.currentStyle && (v = function(n) {
              return n.currentStyle
          }
          ,
          y = function(n, i, r) {
              var s, e, o, h = r || v(n), u = h ? h[i] : t, f = n.style;
              return null == u && f && f[i] && (u = f[i]),
              yt.test(u) && !uo.test(i) && (s = f.left,
              e = n.runtimeStyle,
              o = e && e.left,
              o && (e.left = n.currentStyle.left),
              f.left = "fontSize" === i ? "1em" : u,
              u = f.pixelLeft + "px",
              f.left = s,
              o && (e.left = o)),
              "" === u ? "auto" : u
          }
          );
          i.each(["height", "width"], function(n, r) {
              i.cssHooks[r] = {
                  get: function(n, u, f) {
                      return u ? 0 === n.offsetWidth && fo.test(i.css(n, "display")) ? i.swap(n, so, function() {
                          return cr(n, r, f)
                      }) : cr(n, r, f) : t
                  },
                  set: function(n, t, u) {
                      var f = u && v(n);
                      return sr(n, t, u ? hr(n, r, u, i.support.boxSizing && "border-box" === i.css(n, "boxSizing", !1, f), f) : 0)
                  }
              }
          });
          i.support.opacity || (i.cssHooks.opacity = {
              get: function(n, t) {
                  return ro.test((t && n.currentStyle ? n.currentStyle.filter : n.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
              },
              set: function(n, t) {
                  var r = n.style
                    , u = n.currentStyle
                    , e = i.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : ""
                    , f = u && u.filter || r.filter || "";
                  r.zoom = 1;
                  (t >= 1 || "" === t) && "" === i.trim(f.replace(vi, "")) && r.removeAttribute && (r.removeAttribute("filter"),
                  "" === t || u && !u.filter) || (r.filter = vi.test(f) ? f.replace(vi, e) : f + " " + e)
              }
          });
          i(function() {
              i.support.reliableMarginRight || (i.cssHooks.marginRight = {
                  get: function(n, r) {
                      return r ? i.swap(n, {
                          display: "inline-block"
                      }, y, [n, "marginRight"]) : t
                  }
              });
              !i.support.pixelPosition && i.fn.position && i.each(["top", "left"], function(n, r) {
                  i.cssHooks[r] = {
                      get: function(n, u) {
                          return u ? (u = y(n, r),
                          yt.test(u) ? i(n).position()[r] + "px" : u) : t
                      }
                  }
              })
          });
          i.expr && i.expr.filters && (i.expr.filters.hidden = function(n) {
              return 0 >= n.offsetWidth && 0 >= n.offsetHeight || !i.support.reliableHiddenOffsets && "none" === (n.style && n.style.display || i.css(n, "display"))
          }
          ,
          i.expr.filters.visible = function(n) {
              return !i.expr.filters.hidden(n)
          }
          );
          i.each({
              margin: "",
              padding: "",
              border: "Width"
          }, function(n, t) {
              i.cssHooks[n + t] = {
                  expand: function(i) {
                      for (var r = 0, f = {}, u = "string" == typeof i ? i.split(" ") : [i]; 4 > r; r++)
                          f[n + p[r] + t] = u[r] || u[r - 2] || u[0];
                      return f
                  }
              };
              ku.test(n) || (i.cssHooks[n + t].set = sr)
          });
          var ho = /%20/g
            , co = /\\[\\]$/
            , tf = /\\r?\\n/g
            , lo = /^(?:submit|button|image|reset|file)$/i
            , ao = /^(?:input|select|textarea|keygen)/i;
          i.fn.extend({
              serialize: function() {
                  return i.param(this.serializeArray())
              },
              serializeArray: function() {
                  return this.map(function() {
                      var n = i.prop(this, "elements");
                      return n ? i.makeArray(n) : this
                  }).filter(function() {
                      var n = this.type;
                      return this.name && !i(this).is(":disabled") && ao.test(this.nodeName) && !lo.test(n) && (this.checked || !li.test(n))
                  }).map(function(n, t) {
                      var r = i(this).val();
                      return null == r ? null : i.isArray(r) ? i.map(r, function(n) {
                          return {
                              name: t.name,
                              value: n.replace(tf, "\\r\\n")
                          }
                      }) : {
                          name: t.name,
                          value: r.replace(tf, "\\r\\n")
                      }
                  }).get()
              }
          });
          i.param = function(n, r) {
              var u, f = [], e = function(n, t) {
                  t = i.isFunction(t) ? t() : null == t ? "" : t;
                  f[f.length] = encodeURIComponent(n) + "=" + encodeURIComponent(t)
              };
              if (r === t && (r = i.ajaxSettings && i.ajaxSettings.traditional),
              i.isArray(n) || n.jquery && !i.isPlainObject(n))
                  i.each(n, function() {
                      e(this.name, this.value)
                  });
              else
                  for (u in n)
                      ni(u, n[u], r, e);
              return f.join("&").replace(ho, "+")
          }
          ;
          i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(n, t) {
              i.fn[t] = function(n, i) {
                  return arguments.length > 0 ? this.on(t, null , n, i) : this.trigger(t)
              }
          });
          i.fn.extend({
              hover: function(n, t) {
                  return this.mouseenter(n).mouseleave(t || n)
              },
              bind: function(n, t, i) {
                  return this.on(n, null , t, i)
              },
              unbind: function(n, t) {
                  return this.off(n, null , t)
              },
              delegate: function(n, t, i, r) {
                  return this.on(t, n, i, r)
              },
              undelegate: function(n, t, i) {
                  return 1 === arguments.length ? this.off(n, "**") : this.off(t, n || "**", i)
              }
          });
          var w, c, yi = i.now(), pi = /\\?/, vo = /#.*$/, rf = /([?&])_=[^&]*/, yo = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm, po = /^(?:GET|HEAD)$/, wo = /^\\/\\//, uf = /^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/, ff = i.fn.load, ef = {}, wi = {}, of = "*/".concat("*");
          try {
              c = bf.href
          } catch (go) {
              c = r.createElement("a");
              c.href = "";
              c = c.href
          }
          w = uf.exec(c.toLowerCase()) || [];
          i.fn.load = function(n, r, u) {
              if ("string" != typeof n && ff)
                  return ff.apply(this, arguments);
              var f, s, h, e = this, o = n.indexOf(" ");
              return o >= 0 && (f = n.slice(o, n.length),
              n = n.slice(0, o)),
              i.isFunction(r) ? (u = r,
              r = t) : r && "object" == typeof r && (h = "POST"),
              e.length > 0 && i.ajax({
                  url: n,
                  type: h,
                  dataType: "html",
                  data: r
              }).done(function(n) {
                  s = arguments;
                  e.html(f ? i("<div>").append(i.parseHTML(n)).find(f) : n)
              }).complete(u && function(n, t) {
                  e.each(u, s || [n.responseText, t, n])
              }
              ),
              this
          }
          ;
          i.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(n, t) {
              i.fn[t] = function(n) {
                  return this.on(t, n)
              }
          });
          i.extend({
              active: 0,
              lastModified: {},
              etag: {},
              ajaxSettings: {
                  url: c,
                  type: "GET",
                  isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(w[1]),
                  global: !0,
                  processData: !0,
                  async: !0,
                  contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                  accepts: {
                      "*": of,
                      text: "text/plain",
                      html: "text/html",
                      xml: "application/xml, text/xml",
                      json: "application/json, text/javascript"
                  },
                  contents: {
                      xml: /xml/,
                      html: /html/,
                      json: /json/
                  },
                  responseFields: {
                      xml: "responseXML",
                      text: "responseText",
                      json: "responseJSON"
                  },
                  converters: {
                      "* text": String,
                      "text html": !0,
                      "text json": i.parseJSON,
                      "text xml": i.parseXML
                  },
                  flatOptions: {
                      url: !0,
                      context: !0
                  }
              },
              ajaxSetup: function(n, t) {
                  return t ? ti(ti(n, i.ajaxSettings), t) : ti(i.ajaxSettings, n)
              },
              ajaxPrefilter: vr(ef),
              ajaxTransport: vr(wi),
              ajax: function(n, r) {
                  function p(n, r, s, c) {
                      var a, rt, b, p, w, l = r;
                      2 !== o && (o = 2,
                      g && clearTimeout(g),
                      y = t,
                      d = c || "",
                      f.readyState = n > 0 ? 4 : 0,
                      a = n >= 200 && 300 > n || 304 === n,
                      s && (p = af(u, f, s)),
                      p = vf(u, p, f, a),
                      a ? (u.ifModified && (w = f.getResponseHeader("Last-Modified"),
                      w && (i.lastModified[e] = w),
                      w = f.getResponseHeader("etag"),
                      w && (i.etag[e] = w)),
                      204 === n || "HEAD" === u.type ? l = "nocontent" : 304 === n ? l = "notmodified" : (l = p.state,
                      rt = p.data,
                      b = p.error,
                      a = !b)) : (b = l,
                      (n || !l) && (l = "error",
                      0 > n && (n = 0))),
                      f.status = n,
                      f.statusText = (r || l) + "",
                      a ? tt.resolveWith(h, [rt, l, f]) : tt.rejectWith(h, [f, l, b]),
                      f.statusCode(k),
                      k = t,
                      v && nt.trigger(a ? "ajaxSuccess" : "ajaxError", [f, u, a ? rt : b]),
                      it.fireWith(h, [f, l]),
                      v && (nt.trigger("ajaxComplete", [f, u]),
                      --i.active || i.event.trigger("ajaxStop")))
                  }
                  "object" == typeof n && (r = n,
                  n = t);
                  r = r || {};
                  var l, a, e, d, g, v, y, b, u = i.ajaxSetup({}, r), h = u.context || u, nt = u.context && (h.nodeType || h.jquery) ? i(h) : i.event, tt = i.Deferred(), it = i.Callbacks("once memory"), k = u.statusCode || {}, rt = {}, ut = {}, o = 0, ft = "canceled", f = {
                      readyState: 0,
                      getResponseHeader: function(n) {
                          var t;
                          if (2 === o) {
                              if (!b)
                                  for (b = {}; t = yo.exec(d); )
                                      b[t[1].toLowerCase()] = t[2];
                              t = b[n.toLowerCase()]
                          }
                          return null == t ? null : t
                      },
                      getAllResponseHeaders: function() {
                          return 2 === o ? d : null
                      },
                      setRequestHeader: function(n, t) {
                          var i = n.toLowerCase();
                          return o || (n = ut[i] = ut[i] || n,
                          rt[n] = t),
                          this
                      },
                      overrideMimeType: function(n) {
                          return o || (u.mimeType = n),
                          this
                      },
                      statusCode: function(n) {
                          var t;
                          if (n)
                              if (2 > o)
                                  for (t in n)
                                      k[t] = [k[t], n[t]];
                              else
                                  f.always(n[f.status]);
                          return this
                      },
                      abort: function(n) {
                          var t = n || ft;
                          return y && y.abort(t),
                          p(0, t),
                          this
                      }
                  };
                  if (tt.promise(f).complete = it.add,
                  f.success = f.done,
                  f.error = f.fail,
                  u.url = ((n || u.url || c) + "").replace(vo, "").replace(wo, w[1] + "//"),
                  u.type = r.method || r.type || u.method || u.type,
                  u.dataTypes = i.trim(u.dataType || "*").toLowerCase().match(s) || [""],
                  null == u.crossDomain && (l = uf.exec(u.url.toLowerCase()),
                  u.crossDomain = !(!l || l[1] === w[1] && l[2] === w[2] && (l[3] || ("http:" === l[1] ? "80" : "443")) === (w[3] || ("http:" === w[1] ? "80" : "443")))),
                  u.data && u.processData && "string" != typeof u.data && (u.data = i.param(u.data, u.traditional)),
                  yr(ef, u, r, f),
                  2 === o)
                      return f;
                  v = u.global;
                  v && 0 == i.active++ && i.event.trigger("ajaxStart");
                  u.type = u.type.toUpperCase();
                  u.hasContent = !po.test(u.type);
                  e = u.url;
                  u.hasContent || (u.data && (e = u.url += (pi.test(e) ? "&" : "?") + u.data,
                  delete u.data),
                  u.cache === !1 && (u.url = rf.test(e) ? e.replace(rf, "$1_=" + yi++) : e + (pi.test(e) ? "&" : "?") + "_=" + yi++));
                  u.ifModified && (i.lastModified[e] && f.setRequestHeader("If-Modified-Since", i.lastModified[e]),
                  i.etag[e] && f.setRequestHeader("If-None-Match", i.etag[e]));
                  (u.data && u.hasContent && u.contentType !== !1 || r.contentType) && f.setRequestHeader("Content-Type", u.contentType);
                  f.setRequestHeader("Accept", u.dataTypes[0] && u.accepts[u.dataTypes[0]] ? u.accepts[u.dataTypes[0]] + ("*" !== u.dataTypes[0] ? ", " + of + "; q=0.01" : "") : u.accepts["*"]);
                  for (a in u.headers)
                      f.setRequestHeader(a, u.headers[a]);
                  if (u.beforeSend && (u.beforeSend.call(h, f, u) === !1 || 2 === o))
                      return f.abort();
                  ft = "abort";
                  for (a in {
                      success: 1,
                      error: 1,
                      complete: 1
                  })
                      f[a](u[a]);
                  if (y = yr(wi, u, r, f)) {
                      f.readyState = 1;
                      v && nt.trigger("ajaxSend", [f, u]);
                      u.async && u.timeout > 0 && (g = setTimeout(function() {
                          f.abort("timeout")
                      }, u.timeout));
                      try {
                          o = 1;
                          y.send(rt, p)
                      } catch (et) {
                          if (!(2 > o))
                              throw et;
                          p(-1, et)
                      }
                  } else
                      p(-1, "No Transport");
                  return f
              },
              getJSON: function(n, t, r) {
                  return i.get(n, t, r, "json")
              },
              getScript: function(n, r) {
                  return i.get(n, t, r, "script")
              }
          });
          i.each(["get", "post"], function(n, r) {
              i[r] = function(n, u, f, e) {
                  return i.isFunction(u) && (e = e || f,
                  f = u,
                  u = t),
                  i.ajax({
                      url: n,
                      type: r,
                      dataType: e,
                      data: u,
                      success: f
                  })
              }
          });
          i.ajaxSetup({
              accepts: {
                  script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
              },
              contents: {
                  script: /(?:java|ecma)script/
              },
              converters: {
                  "text script": function(n) {
                      return i.globalEval(n),
                      n
                  }
              }
          });
          i.ajaxPrefilter("script", function(n) {
              n.cache === t && (n.cache = !1);
              n.crossDomain && (n.type = "GET",
              n.global = !1)
          });
          i.ajaxTransport("script", function(n) {
              if (n.crossDomain) {
                  var u, f = r.head || i("head")[0] || r.documentElement;
                  return {
                      send: function(t, i) {
                          u = r.createElement("script");
                          u.async = !0;
                          n.scriptCharset && (u.charset = n.scriptCharset);
                          u.src = n.url;
                          u.onload = u.onreadystatechange = function(n, t) {
                              (t || !u.readyState || /loaded|complete/.test(u.readyState)) && (u.onload = u.onreadystatechange = null ,
                              u.parentNode && u.parentNode.removeChild(u),
                              u = null ,
                              t || i(200, "success"))
                          }
                          ;
                          f.insertBefore(u, f.firstChild)
                      },
                      abort: function() {
                          u && u.onload(t, !0)
                      }
                  }
              }
          });
          ei = [];
          lt = /(=)\\?(?=&|$)|\\?\\?/;
          i.ajaxSetup({
              jsonp: "callback",
              jsonpCallback: function() {
                  var n = ei.pop() || i.expando + "_" + yi++;
                  return this[n] = !0,
                  n
              }
          });
          i.ajaxPrefilter("json jsonp", function(r, u, f) {
              var e, s, o, h = r.jsonp !== !1 && (lt.test(r.url) ? "url" : "string" == typeof r.data && !(r.contentType || "").indexOf("application/x-www-form-urlencoded") && lt.test(r.data) && "data");
              return h || "jsonp" === r.dataTypes[0] ? (e = r.jsonpCallback = i.isFunction(r.jsonpCallback) ? r.jsonpCallback() : r.jsonpCallback,
              h ? r[h] = r[h].replace(lt, "$1" + e) : r.jsonp !== !1 && (r.url += (pi.test(r.url) ? "&" : "?") + r.jsonp + "=" + e),
              r.converters["script json"] = function() {
                  return o || i.error(e + " was not called"),
                  o[0]
              }
              ,
              r.dataTypes[0] = "json",
              s = n[e],
              n[e] = function() {
                  o = arguments
              }
              ,
              f.always(function() {
                  n[e] = s;
                  r[e] && (r.jsonpCallback = u.jsonpCallback,
                  ei.push(e));
                  o && i.isFunction(s) && s(o[0]);
                  o = s = t
              }),
              "script") : t
          });
          ou = 0;
          at = n.ActiveXObject && function() {
              for (var n in g)
                  g[n](t, !0)
          }
          ;
          i.ajaxSettings.xhr = n.ActiveXObject ? function() {
              return !this.isLocal && pr() || yf()
          }
          : pr;
          nt = i.ajaxSettings.xhr();
          i.support.cors = !!nt && "withCredentials"in nt;
          nt = i.support.ajax = !!nt;
          nt && i.ajaxTransport(function(r) {
              if (!r.crossDomain || i.support.cors) {
                  var u;
                  return {
                      send: function(f, e) {
                          var h, s, o = r.xhr();
                          if (r.username ? o.open(r.type, r.url, r.async, r.username, r.password) : o.open(r.type, r.url, r.async),
                          r.xhrFields)
                              for (s in r.xhrFields)
                                  o[s] = r.xhrFields[s];
                          r.mimeType && o.overrideMimeType && o.overrideMimeType(r.mimeType);
                          r.crossDomain || f["X-Requested-With"] || (f["X-Requested-With"] = "XMLHttpRequest");
                          try {
                              for (s in f)
                                  o.setRequestHeader(s, f[s])
                          } catch (c) {}
                          o.send(r.hasContent && r.data || null );
                          u = function(n, f) {
                              var s, a, l, c;
                              try {
                                  if (u && (f || 4 === o.readyState))
                                      if (u = t,
                                      h && (o.onreadystatechange = i.noop,
                                      at && delete g[h]),
                                      f)
                                          4 !== o.readyState && o.abort();
                                      else {
                                          c = {};
                                          s = o.status;
                                          a = o.getAllResponseHeaders();
                                          "string" == typeof o.responseText && (c.text = o.responseText);
                                          try {
                                              l = o.statusText
                                          } catch (y) {
                                              l = ""
                                          }
                                          s || !r.isLocal || r.crossDomain ? 1223 === s && (s = 204) : s = c.text ? 200 : 404
                                      }
                              } catch (v) {
                                  f || e(-1, v)
                              }
                              c && e(s, l, c, a)
                          }
                          ;
                          r.async ? 4 === o.readyState ? setTimeout(u) : (h = ++ou,
                          at && (g || (g = {},
                          i(n).unload(at)),
                          g[h] = u),
                          o.onreadystatechange = u) : u()
                      },
                      abort: function() {
                          u && u(t, !0)
                      }
                  }
              }
          });
          var it, pt, bo = /^(?:toggle|show|hide)$/, sf = RegExp("^(?:([+-])=|)(" + ct + ")([a-z%]*)$", "i"), ko = /queueHooks$/, wt = [wf], ft = {
              "*": [function(n, t) {
                  var f = this.createTween(n, t)
                    , s = f.cur()
                    , r = sf.exec(t)
                    , e = r && r[3] || (i.cssNumber[n] ? "" : "px")
                    , u = (i.cssNumber[n] || "px" !== e && +s) && sf.exec(i.css(f.elem, n))
                    , o = 1
                    , h = 20;
                  if (u && u[3] !== e) {
                      e = e || u[3];
                      r = r || [];
                      u = +s || 1;
                      do
                          o = o || ".5",
                          u /= o,
                          i.style(f.elem, n, u + e);
                      while (o !== (o = f.cur() / s) && 1 !== o && --h)
                  }
                  return r && (u = f.start = +u || +s || 0,
                  f.unit = e,
                  f.end = r[1] ? u + (r[1] + 1) * r[2] : +r[2]),
                  f
              }
              ]
          };
          i.Animation = i.extend(kr, {
              tweener: function(n, t) {
                  i.isFunction(n) ? (t = n,
                  n = ["*"]) : n = n.split(" ");
                  for (var r, u = 0, f = n.length; f > u; u++)
                      r = n[u],
                      ft[r] = ft[r] || [],
                      ft[r].unshift(t)
              },
              prefilter: function(n, t) {
                  t ? wt.unshift(n) : wt.push(n)
              }
          });
          i.Tween = f;
          f.prototype = {
              constructor: f,
              init: function(n, t, r, u, f, e) {
                  this.elem = n;
                  this.prop = r;
                  this.easing = f || "swing";
                  this.options = t;
                  this.start = this.now = this.cur();
                  this.end = u;
                  this.unit = e || (i.cssNumber[r] ? "" : "px")
              },
              cur: function() {
                  var n = f.propHooks[this.prop];
                  return n && n.get ? n.get(this) : f.propHooks._default.get(this)
              },
              run: function(n) {
                  var r, t = f.propHooks[this.prop];
                  return this.pos = r = this.options.duration ? i.easing[this.easing](n, this.options.duration * n, 0, 1, this.options.duration) : n,
                  this.now = (this.end - this.start) * r + this.start,
                  this.options.step && this.options.step.call(this.elem, this.now, this),
                  t && t.set ? t.set(this) : f.propHooks._default.set(this),
                  this
              }
          };
          f.prototype.init.prototype = f.prototype;
          f.propHooks = {
              _default: {
                  get: function(n) {
                      var t;
                      return null == n.elem[n.prop] || n.elem.style && null != n.elem.style[n.prop] ? (t = i.css(n.elem, n.prop, ""),
                      t && "auto" !== t ? t : 0) : n.elem[n.prop]
                  },
                  set: function(n) {
                      i.fx.step[n.prop] ? i.fx.step[n.prop](n) : n.elem.style && (null != n.elem.style[i.cssProps[n.prop]] || i.cssHooks[n.prop]) ? i.style(n.elem, n.prop, n.now + n.unit) : n.elem[n.prop] = n.now
                  }
              }
          };
          f.propHooks.scrollTop = f.propHooks.scrollLeft = {
              set: function(n) {
                  n.elem.nodeType && n.elem.parentNode && (n.elem[n.prop] = n.now)
              }
          };
          i.each(["toggle", "show", "hide"], function(n, t) {
              var r = i.fn[t];
              i.fn[t] = function(n, i, u) {
                  return null == n || "boolean" == typeof n ? r.apply(this, arguments) : this.animate(ot(t, !0), n, i, u)
              }
          });
          i.fn.extend({
              fadeTo: function(n, t, i, r) {
                  return this.filter(rt).css("opacity", 0).show().end().animate({
                      opacity: t
                  }, n, i, r)
              },
              animate: function(n, t, r, u) {
                  var o = i.isEmptyObject(n)
                    , e = i.speed(t, r, u)
                    , f = function() {
                      var t = kr(this, i.extend({}, n), e);
                      (o || i._data(this, "finish")) && t.stop(!0)
                  };
                  return f.finish = f,
                  o || e.queue === !1 ? this.each(f) : this.queue(e.queue, f)
              },
              stop: function(n, r, u) {
                  var f = function(n) {
                      var t = n.stop;
                      delete n.stop;
                      t(u)
                  };
                  return "string" != typeof n && (u = r,
                  r = n,
                  n = t),
                  r && n !== !1 && this.queue(n || "fx", []),
                  this.each(function() {
                      var o = !0
                        , t = null != n && n + "queueHooks"
                        , e = i.timers
                        , r = i._data(this);
                      if (t)
                          r[t] && r[t].stop && f(r[t]);
                      else
                          for (t in r)
                              r[t] && r[t].stop && ko.test(t) && f(r[t]);
                      for (t = e.length; t--; )
                          e[t].elem !== this || null != n && e[t].queue !== n || (e[t].anim.stop(u),
                          o = !1,
                          e.splice(t, 1));
                      (o || !u) && i.dequeue(this, n)
                  })
              },
              finish: function(n) {
                  return n !== !1 && (n = n || "fx"),
                  this.each(function() {
                      var t, f = i._data(this), r = f[n + "queue"], e = f[n + "queueHooks"], u = i.timers, o = r ? r.length : 0;
                      for (f.finish = !0,
                      i.queue(this, n, []),
                      e && e.stop && e.stop.call(this, !0),
                      t = u.length; t--; )
                          u[t].elem === this && u[t].queue === n && (u[t].anim.stop(!0),
                          u.splice(t, 1));
                      for (t = 0; o > t; t++)
                          r[t] && r[t].finish && r[t].finish.call(this);
                      delete f.finish
                  })
              }
          });
          i.each({
              slideDown: ot("show"),
              slideUp: ot("hide"),
              slideToggle: ot("toggle"),
              fadeIn: {
                  opacity: "show"
              },
              fadeOut: {
                  opacity: "hide"
              },
              fadeToggle: {
                  opacity: "toggle"
              }
          }, function(n, t) {
              i.fn[n] = function(n, i, r) {
                  return this.animate(t, n, i, r)
              }
          });
          i.speed = function(n, t, r) {
              var u = n && "object" == typeof n ? i.extend({}, n) : {
                  complete: r || !r && t || i.isFunction(n) && n,
                  duration: n,
                  easing: r && t || t && !i.isFunction(t) && t
              };
              return u.duration = i.fx.off ? 0 : "number" == typeof u.duration ? u.duration : u.duration in i.fx.speeds ? i.fx.speeds[u.duration] : i.fx.speeds._default,
              (null == u.queue || u.queue === !0) && (u.queue = "fx"),
              u.old = u.complete,
              u.complete = function() {
                  i.isFunction(u.old) && u.old.call(this);
                  u.queue && i.dequeue(this, u.queue)
              }
              ,
              u
          }
          ;
          i.easing = {
              linear: function(n) {
                  return n
              },
              swing: function(n) {
                  return .5 - Math.cos(n * Math.PI) / 2
              }
          };
          i.timers = [];
          i.fx = f.prototype.init;
          i.fx.tick = function() {
              var u, n = i.timers, r = 0;
              for (it = i.now(); n.length > r; r++)
                  u = n[r],
                  u() || n[r] !== u || n.splice(r--, 1);
              n.length || i.fx.stop();
              it = t
          }
          ;
          i.fx.timer = function(n) {
              n() && i.timers.push(n) && i.fx.start()
          }
          ;
          i.fx.interval = 13;
          i.fx.start = function() {
              pt || (pt = setInterval(i.fx.tick, i.fx.interval))
          }
          ;
          i.fx.stop = function() {
              clearInterval(pt);
              pt = null
          }
          ;
          i.fx.speeds = {
              slow: 600,
              fast: 200,
              _default: 400
          };
          i.fx.step = {};
          i.expr && i.expr.filters && (i.expr.filters.animated = function(n) {
              return i.grep(i.timers, function(t) {
                  return n === t.elem
              }).length
          }
          );
          i.fn.offset = function(n) {
              if (arguments.length)
                  return n === t ? this : this.each(function(t) {
                      i.offset.setOffset(this, n, t)
                  });
              var r, e, f = {
                  top: 0,
                  left: 0
              }, u = this[0], s = u && u.ownerDocument;
              if (s)
                  return r = s.documentElement,
                  i.contains(r, u) ? (typeof u.getBoundingClientRect !== o && (f = u.getBoundingClientRect()),
                  e = dr(s),
                  {
                      top: f.top + (e.pageYOffset || r.scrollTop) - (r.clientTop || 0),
                      left: f.left + (e.pageXOffset || r.scrollLeft) - (r.clientLeft || 0)
                  }) : f
          }
          ;
          i.offset = {
              setOffset: function(n, t, r) {
                  var f = i.css(n, "position");
                  "static" === f && (n.style.position = "relative");
                  var e = i(n), o = e.offset(), l = i.css(n, "top"), a = i.css(n, "left"), v = ("absolute" === f || "fixed" === f) && i.inArray("auto", [l, a]) > -1, u = {}, s = {}, h, c;
                  v ? (s = e.position(),
                  h = s.top,
                  c = s.left) : (h = parseFloat(l) || 0,
                  c = parseFloat(a) || 0);
                  i.isFunction(t) && (t = t.call(n, r, o));
                  null != t.top && (u.top = t.top - o.top + h);
                  null != t.left && (u.left = t.left - o.left + c);
                  "using"in t ? t.using.call(n, u) : e.css(u)
              }
          };
          i.fn.extend({
              position: function() {
                  if (this[0]) {
                      var n, r, t = {
                          top: 0,
                          left: 0
                      }, u = this[0];
                      return "fixed" === i.css(u, "position") ? r = u.getBoundingClientRect() : (n = this.offsetParent(),
                      r = this.offset(),
                      i.nodeName(n[0], "html") || (t = n.offset()),
                      t.top += i.css(n[0], "borderTopWidth", !0),
                      t.left += i.css(n[0], "borderLeftWidth", !0)),
                      {
                          top: r.top - t.top - i.css(u, "marginTop", !0),
                          left: r.left - t.left - i.css(u, "marginLeft", !0)
                      }
                  }
              },
              offsetParent: function() {
                  return this.map(function() {
                      for (var n = this.offsetParent || nu; n && !i.nodeName(n, "html") && "static" === i.css(n, "position"); )
                          n = n.offsetParent;
                      return n || nu
                  })
              }
          });
          i.each({
              scrollLeft: "pageXOffset",
              scrollTop: "pageYOffset"
          }, function(n, r) {
              var u = /Y/.test(r);
              i.fn[n] = function(f) {
                  return i.access(this, function(n, f, e) {
                      var o = dr(n);
                      return e === t ? o ? r in o ? o[r] : o.document.documentElement[f] : n[f] : (o ? o.scrollTo(u ? i(o).scrollLeft() : e, u ? e : i(o).scrollTop()) : n[f] = e,
                      t)
                  }, n, f, arguments.length, null )
              }
          });
          i.each({
              Height: "height",
              Width: "width"
          }, function(n, r) {
              i.each({
                  padding: "inner" + n,
                  content: r,
                  "": "outer" + n
              }, function(u, f) {
                  i.fn[f] = function(f, e) {
                      var o = arguments.length && (u || "boolean" != typeof f)
                        , s = u || (f === !0 || e === !0 ? "margin" : "border");
                      return i.access(this, function(r, u, f) {
                          var e;
                          return i.isWindow(r) ? r.document.documentElement["client" + n] : 9 === r.nodeType ? (e = r.documentElement,
                          Math.max(r.body["scroll" + n], e["scroll" + n], r.body["offset" + n], e["offset" + n], e["client" + n])) : f === t ? i.css(r, u, s) : i.style(r, u, f, s)
                      }, r, o ? f : t, o, null )
                  }
              })
          });
          i.fn.size = function() {
              return this.length
          }
          ;
          i.fn.andSelf = i.fn.addBack;
          "object" == typeof module && module && "object" == typeof module.exports ? module.exports = i : (n.jQuery = n.$ = i,
          "function" == typeof define && define.amd && define("jquery", [], function() {
              return i
          }))
      }(window),
      typeof jQuery == "undefined")
          throw new Error("Bootstrap's JavaScript requires jQuery");
      +function(n) {
          "use strict";
          function t() {
              var i = document.createElement("bootstrap"), t = {
                  WebkitTransition: "webkitTransitionEnd",
                  MozTransition: "transitionend",
                  OTransition: "oTransitionEnd otransitionend",
                  transition: "transitionend"
              }, n;
              for (n in t)
                  if (i.style[n] !== undefined)
                      return {
                          end: t[n]
                      };
              return !1
          }
          n.fn.emulateTransitionEnd = function(t) {
              var i = !1, u = this, r;
              n(this).one("bsTransitionEnd", function() {
                  i = !0
              });
              return r = function() {
                  i || n(u).trigger(n.support.transition.end)
              }
              ,
              setTimeout(r, t),
              this
          }
          ;
          n(function() {
              (n.support.transition = t(),
              n.support.transition) && (n.event.special.bsTransitionEnd = {
                  bindType: n.support.transition.end,
                  delegateType: n.support.transition.end,
                  handle: function(t) {
                      if (n(t.target).is(this))
                          return t.handleObj.handler.apply(this, arguments)
                  }
              })
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function u(i) {
              return this.each(function() {
                  var r = n(this)
                    , u = r.data("bs.alert");
                  u || r.data("bs.alert", u = new t(this));
                  typeof i == "string" && u[i].call(r)
              })
          }
          var i = '[data-dismiss="alert"]', t = function(t) {
              n(t).on("click", i, this.close)
          }, r;
          t.VERSION = "3.2.0";
          t.prototype.close = function(t) {
              function f() {
                  i.detach().trigger("closed.bs.alert").remove()
              }
              var u = n(this), r = u.attr("data-target"), i;
              (r || (r = u.attr("href"),
              r = r && r.replace(/.*(?=#[^\\s]*$)/, "")),
              i = n(r),
              t && t.preventDefault(),
              i.length || (i = u.hasClass("alert") ? u : u.parent()),
              i.trigger(t = n.Event("close.bs.alert")),
              t.isDefaultPrevented()) || (i.removeClass("in"),
              n.support.transition && i.hasClass("fade") ? i.one("bsTransitionEnd", f).emulateTransitionEnd(150) : f())
          }
          ;
          r = n.fn.alert;
          n.fn.alert = u;
          n.fn.alert.Constructor = t;
          n.fn.alert.noConflict = function() {
              return n.fn.alert = r,
              this
          }
          ;
          n(document).on("click.bs.alert.data-api", i, t.prototype.close)
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.button")
                    , f = typeof i == "object" && i;
                  r || u.data("bs.button", r = new t(this,f));
                  i == "toggle" ? r.toggle() : i && r.setState(i)
              })
          }
          var t = function(i, r) {
              this.$element = n(i);
              this.options = n.extend({}, t.DEFAULTS, r);
              this.isLoading = !1
          }, r;
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              loadingText: "loading..."
          };
          t.prototype.setState = function(t) {
              var r = "disabled"
                , i = this.$element
                , f = i.is("input") ? "val" : "html"
                , u = i.data();
              t = t + "Text";
              u.resetText == null && i.data("resetText", i[f]());
              i[f](u[t] == null ? this.options[t] : u[t]);
              setTimeout(n.proxy(function() {
                  t == "loadingText" ? (this.isLoading = !0,
                  i.addClass(r).attr(r, r)) : this.isLoading && (this.isLoading = !1,
                  i.removeClass(r).removeAttr(r))
              }, this), 0)
          }
          ;
          t.prototype.toggle = function() {
              var t = !0, i = this.$element.closest('[data-toggle="buttons"]'), n;
              i.length && (n = this.$element.find("input"),
              n.prop("type") == "radio" && (n.prop("checked") && this.$element.hasClass("active") ? t = !1 : i.find(".active").removeClass("active")),
              t && n.prop("checked", !this.$element.hasClass("active")).trigger("change"));
              t && this.$element.toggleClass("active")
          }
          ;
          r = n.fn.button;
          n.fn.button = i;
          n.fn.button.Constructor = t;
          n.fn.button.noConflict = function() {
              return n.fn.button = r,
              this
          }
          ;
          n(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(t) {
              var r = n(t.target);
              r.hasClass("btn") || (r = r.closest(".btn"));
              i.call(r, "toggle");
              t.preventDefault()
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.carousel")
                    , f = n.extend({}, t.DEFAULTS, u.data(), typeof i == "object" && i)
                    , e = typeof i == "string" ? i : f.slide;
                  r || u.data("bs.carousel", r = new t(this,f));
                  typeof i == "number" ? r.to(i) : e ? r[e]() : f.interval && r.pause().cycle()
              })
          }
          var t = function(t, i) {
              this.$element = n(t).on("keydown.bs.carousel", n.proxy(this.keydown, this));
              this.$indicators = this.$element.find(".carousel-indicators");
              this.options = i;
              this.paused = this.sliding = this.interval = this.$active = this.$items = null ;
              this.options.pause == "hover" && this.$element.on("mouseenter.bs.carousel", n.proxy(this.pause, this)).on("mouseleave.bs.carousel", n.proxy(this.cycle, this))
          }, r;
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              interval: 5e3,
              pause: "hover",
              wrap: !0
          };
          t.prototype.keydown = function(n) {
              switch (n.which) {
              case 37:
                  this.prev();
                  break;
              case 39:
                  this.next();
                  break;
              default:
                  return
              }
              n.preventDefault()
          }
          ;
          t.prototype.cycle = function(t) {
              return t || (this.paused = !1),
              this.interval && clearInterval(this.interval),
              this.options.interval && !this.paused && (this.interval = setInterval(n.proxy(this.next, this), this.options.interval)),
              this
          }
          ;
          t.prototype.getItemIndex = function(n) {
              return this.$items = n.parent().children(".item"),
              this.$items.index(n || this.$active)
          }
          ;
          t.prototype.to = function(t) {
              var r = this
                , i = this.getItemIndex(this.$active = this.$element.find(".item.active"));
              if (!(t > this.$items.length - 1) && !(t < 0))
                  return this.sliding ? this.$element.one("slid.bs.carousel", function() {
                      r.to(t)
                  }) : i == t ? this.pause().cycle() : this.slide(t > i ? "next" : "prev", n(this.$items[t]))
          }
          ;
          t.prototype.pause = function(t) {
              return t || (this.paused = !0),
              this.$element.find(".next, .prev").length && n.support.transition && (this.$element.trigger(n.support.transition.end),
              this.cycle(!0)),
              this.interval = clearInterval(this.interval),
              this
          }
          ;
          t.prototype.next = function() {
              if (!this.sliding)
                  return this.slide("next")
          }
          ;
          t.prototype.prev = function() {
              if (!this.sliding)
                  return this.slide("prev")
          }
          ;
          t.prototype.slide = function(t, i) {
              var u = this.$element.find(".item.active"), r = i || u[t](), c = this.interval, f = t == "next" ? "left" : "right", a = t == "next" ? "first" : "last", l = this, e, o, s, h;
              if (!r.length) {
                  if (!this.options.wrap)
                      return;
                  r = this.$element.find(".item")[a]()
              }
              return r.hasClass("active") ? this.sliding = !1 : (e = r[0],
              o = n.Event("slide.bs.carousel", {
                  relatedTarget: e,
                  direction: f
              }),
              this.$element.trigger(o),
              o.isDefaultPrevented()) ? void 0 : (this.sliding = !0,
              c && this.pause(),
              this.$indicators.length && (this.$indicators.find(".active").removeClass("active"),
              s = n(this.$indicators.children()[this.getItemIndex(r)]),
              s && s.addClass("active")),
              h = n.Event("slid.bs.carousel", {
                  relatedTarget: e,
                  direction: f
              }),
              n.support.transition && this.$element.hasClass("slide") ? (r.addClass(t),
              r[0].offsetWidth,
              u.addClass(f),
              r.addClass(f),
              u.one("bsTransitionEnd", function() {
                  r.removeClass([t, f].join(" ")).addClass("active");
                  u.removeClass(["active", f].join(" "));
                  l.sliding = !1;
                  setTimeout(function() {
                      l.$element.trigger(h)
                  }, 0)
              }).emulateTransitionEnd(u.css("transition-duration").slice(0, -1) * 1e3)) : (u.removeClass("active"),
              r.addClass("active"),
              this.sliding = !1,
              this.$element.trigger(h)),
              c && this.cycle(),
              this)
          }
          ;
          r = n.fn.carousel;
          n.fn.carousel = i;
          n.fn.carousel.Constructor = t;
          n.fn.carousel.noConflict = function() {
              return n.fn.carousel = r,
              this
          }
          ;
          n(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function(t) {
              var o, r = n(this), u = n(r.attr("data-target") || (o = r.attr("href")) && o.replace(/.*(?=#[^\\s]+$)/, "")), e, f;
              u.hasClass("carousel") && (e = n.extend({}, u.data(), r.data()),
              f = r.attr("data-slide-to"),
              f && (e.interval = !1),
              i.call(u, e),
              f && u.data("bs.carousel").to(f),
              t.preventDefault())
          });
          n(window).on("load", function() {
              n('[data-ride="carousel"]').each(function() {
                  var t = n(this);
                  i.call(t, t.data())
              })
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.collapse")
                    , f = n.extend({}, t.DEFAULTS, u.data(), typeof i == "object" && i);
                  !r && f.toggle && i == "show" && (i = !i);
                  r || u.data("bs.collapse", r = new t(this,f));
                  typeof i == "string" && r[i]()
              })
          }
          var t = function(i, r) {
              this.$element = n(i);
              this.options = n.extend({}, t.DEFAULTS, r);
              this.transitioning = null ;
              this.options.parent && (this.$parent = n(this.options.parent));
              this.options.toggle && this.toggle()
          }, r;
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              toggle: !0
          };
          t.prototype.dimension = function() {
              var n = this.$element.hasClass("width");
              return n ? "width" : "height"
          }
          ;
          t.prototype.show = function() {
              var f, t, u, r, e, o;
              if (!this.transitioning && !this.$element.hasClass("in") && (f = n.Event("show.bs.collapse"),
              this.$element.trigger(f),
              !f.isDefaultPrevented())) {
                  if (t = this.$parent && this.$parent.find("> .panel > .in"),
                  t && t.length) {
                      if (u = t.data("bs.collapse"),
                      u && u.transitioning)
                          return;
                      i.call(t, "hide");
                      u || t.data("bs.collapse", null )
                  }
                  if (r = this.dimension(),
                  this.$element.removeClass("collapse").addClass("collapsing")[r](0),
                  this.transitioning = 1,
                  e = function() {
                      this.$element.removeClass("collapsing").addClass("collapse in")[r]("");
                      this.transitioning = 0;
                      this.$element.trigger("shown.bs.collapse")
                  }
                  ,
                  !n.support.transition)
                      return e.call(this);
                  o = n.camelCase(["scroll", r].join("-"));
                  this.$element.one("bsTransitionEnd", n.proxy(e, this)).emulateTransitionEnd(350)[r](this.$element[0][o])
              }
          }
          ;
          t.prototype.hide = function() {
              var i, t, r;
              if (!this.transitioning && this.$element.hasClass("in") && (i = n.Event("hide.bs.collapse"),
              this.$element.trigger(i),
              !i.isDefaultPrevented())) {
                  if (t = this.dimension(),
                  this.$element[t](this.$element[t]())[0].offsetHeight,
                  this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),
                  this.transitioning = 1,
                  r = function() {
                      this.transitioning = 0;
                      this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
                  }
                  ,
                  !n.support.transition)
                      return r.call(this);
                  this.$element[t](0).one("bsTransitionEnd", n.proxy(r, this)).emulateTransitionEnd(350)
              }
          }
          ;
          t.prototype.toggle = function() {
              this[this.$element.hasClass("in") ? "hide" : "show"]()
          }
          ;
          r = n.fn.collapse;
          n.fn.collapse = i;
          n.fn.collapse.Constructor = t;
          n.fn.collapse.noConflict = function() {
              return n.fn.collapse = r,
              this
          }
          ;
          n(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(t) {
              var o, r = n(this), h = r.attr("data-target") || t.preventDefault() || (o = r.attr("href")) && o.replace(/.*(?=#[^\\s]+$)/, ""), u = n(h), f = u.data("bs.collapse"), c = f ? "toggle" : r.data(), e = r.attr("data-parent"), s = e && n(e);
              f && f.transitioning || (s && s.find('[data-toggle="collapse"][data-parent="' + e + '"]').not(r).addClass("collapsed"),
              r[u.hasClass("in") ? "addClass" : "removeClass"]("collapsed"));
              i.call(u, c)
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function r(t) {
              t && t.which === 3 || (n(o).remove(),
              n(i).each(function() {
                  var i = u(n(this))
                    , r = {
                      relatedTarget: this
                  };
                  i.hasClass("open") && ((i.trigger(t = n.Event("hide.bs.dropdown", r)),
                  t.isDefaultPrevented()) || i.removeClass("open").trigger("hidden.bs.dropdown", r))
              }))
          }
          function u(t) {
              var i = t.attr("data-target"), r;
              return i || (i = t.attr("href"),
              i = i && /#[A-Za-z]/.test(i) && i.replace(/.*(?=#[^\\s]*$)/, "")),
              r = i && n(i),
              r && r.length ? r : t.parent()
          }
          function e(i) {
              return this.each(function() {
                  var r = n(this)
                    , u = r.data("bs.dropdown");
                  u || r.data("bs.dropdown", u = new t(this));
                  typeof i == "string" && u[i].call(r)
              })
          }
          var o = ".dropdown-backdrop", i = '[data-toggle="dropdown"]', t = function(t) {
              n(t).on("click.bs.dropdown", this.toggle)
          }, f;
          t.VERSION = "3.2.0";
          t.prototype.toggle = function(t) {
              var f = n(this), i, o, e;
              if (!f.is(".disabled, :disabled")) {
                  if (i = u(f),
                  o = i.hasClass("open"),
                  r(),
                  !o) {
                      if ("ontouchstart"in document.documentElement && !i.closest(".navbar-nav").length)
                          n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click", r);
                      if (e = {
                          relatedTarget: this
                      },
                      i.trigger(t = n.Event("show.bs.dropdown", e)),
                      t.isDefaultPrevented())
                          return;
                      f.trigger("focus");
                      i.toggleClass("open").trigger("shown.bs.dropdown", e)
                  }
                  return !1
              }
          }
          ;
          t.prototype.keydown = function(t) {
              var e, o, s, h, f, r;
              if (/(38|40|27)/.test(t.keyCode) && (e = n(this),
              t.preventDefault(),
              t.stopPropagation(),
              !e.is(".disabled, :disabled"))) {
                  if (o = u(e),
                  s = o.hasClass("open"),
                  !s || s && t.keyCode == 27)
                      return t.which == 27 && o.find(i).trigger("focus"),
                      e.trigger("click");
                  (h = " li:not(.divider):visible a",
                  f = o.find('[role="menu"]' + h + ', [role="listbox"]' + h),
                  f.length) && (r = f.index(f.filter(":focus")),
                  t.keyCode == 38 && r > 0 && r--,
                  t.keyCode == 40 && r < f.length - 1 && r++,
                  ~r || (r = 0),
                  f.eq(r).trigger("focus"))
              }
          }
          ;
          f = n.fn.dropdown;
          n.fn.dropdown = e;
          n.fn.dropdown.Constructor = t;
          n.fn.dropdown.noConflict = function() {
              return n.fn.dropdown = f,
              this
          }
          ;
          n(document).on("click.bs.dropdown.data-api", r).on("click.bs.dropdown.data-api", ".dropdown form", function(n) {
              n.stopPropagation()
          }).on("click.bs.dropdown.data-api", i, t.prototype.toggle).on("keydown.bs.dropdown.data-api", i + ', [role="menu"], [role="listbox"]', t.prototype.keydown)
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i, r) {
              return this.each(function() {
                  var f = n(this)
                    , u = f.data("bs.modal")
                    , e = n.extend({}, t.DEFAULTS, f.data(), typeof i == "object" && i);
                  u || f.data("bs.modal", u = new t(this,e));
                  typeof i == "string" ? u[i](r) : e.show && u.show(r)
              })
          }
          var t = function(t, i) {
              this.options = i;
              this.$body = n(document.body);
              this.$element = n(t);
              this.$backdrop = this.isShown = null ;
              this.scrollbarWidth = 0;
              this.options.remote && this.$element.find(".modal-content").load(this.options.remote, n.proxy(function() {
                  this.$element.trigger("loaded.bs.modal")
              }, this))
          }, r;
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              backdrop: !0,
              keyboard: !0,
              show: !0
          };
          t.prototype.toggle = function(n) {
              return this.isShown ? this.hide() : this.show(n)
          }
          ;
          t.prototype.show = function(t) {
              var i = this
                , r = n.Event("show.bs.modal", {
                  relatedTarget: t
              });
              if (this.$element.trigger(r),
              !this.isShown && !r.isDefaultPrevented()) {
                  this.isShown = !0;
                  this.checkScrollbar();
                  this.$body.addClass("modal-open");
                  this.setScrollbar();
                  this.escape();
                  this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', n.proxy(this.hide, this));
                  this.backdrop(function() {
                      var u = n.support.transition && i.$element.hasClass("fade"), r;
                      i.$element.parent().length || i.$element.appendTo(i.$body);
                      i.$element.show().scrollTop(0);
                      u && i.$element[0].offsetWidth;
                      i.$element.addClass("in").attr("aria-hidden", !1);
                      i.enforceFocus();
                      r = n.Event("shown.bs.modal", {
                          relatedTarget: t
                      });
                      u ? i.$element.find(".modal-dialog").one("bsTransitionEnd", function() {
                          i.$element.trigger("focus").trigger(r)
                      }).emulateTransitionEnd(300) : i.$element.trigger("focus").trigger(r)
                  })
              }
          }
          ;
          t.prototype.hide = function(t) {
              (t && t.preventDefault(),
              t = n.Event("hide.bs.modal"),
              this.$element.trigger(t),
              this.isShown && !t.isDefaultPrevented()) && (this.isShown = !1,
              this.$body.removeClass("modal-open"),
              this.resetScrollbar(),
              this.escape(),
              n(document).off("focusin.bs.modal"),
              this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"),
              n.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", n.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal())
          }
          ;
          t.prototype.enforceFocus = function() {
              n(document).off("focusin.bs.modal").on("focusin.bs.modal", n.proxy(function(n) {
                  this.$element[0] === n.target || this.$element.has(n.target).length || this.$element.trigger("focus")
              }, this))
          }
          ;
          t.prototype.escape = function() {
              if (this.isShown && this.options.keyboard)
                  this.$element.on("keyup.dismiss.bs.modal", n.proxy(function(n) {
                      n.which == 27 && this.hide()
                  }, this));
              else
                  this.isShown || this.$element.off("keyup.dismiss.bs.modal")
          }
          ;
          t.prototype.hideModal = function() {
              var n = this;
              this.$element.hide();
              this.backdrop(function() {
                  n.$element.trigger("hidden.bs.modal")
              })
          }
          ;
          t.prototype.removeBackdrop = function() {
              this.$backdrop && this.$backdrop.remove();
              this.$backdrop = null
          }
          ;
          t.prototype.backdrop = function(t) {
              var f = this, u = this.$element.hasClass("fade") ? "fade" : "", i, r;
              if (this.isShown && this.options.backdrop) {
                  i = n.support.transition && u;
                  this.$backdrop = n('<div class="modal-backdrop ' + u + '" />').appendTo(this.$body);
                  this.$element.on("click.dismiss.bs.modal", n.proxy(function(n) {
                      n.target === n.currentTarget && (this.options.backdrop == "static" ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
                  }, this));
                  if (i && this.$backdrop[0].offsetWidth,
                  this.$backdrop.addClass("in"),
                  !t)
                      return;
                  i ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(150) : t()
              } else
                  !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"),
                  r = function() {
                      f.removeBackdrop();
                      t && t()
                  }
                  ,
                  n.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", r).emulateTransitionEnd(150) : r()) : t && t()
          }
          ;
          t.prototype.checkScrollbar = function() {
              document.body.clientWidth >= window.innerWidth || (this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar())
          }
          ;
          t.prototype.setScrollbar = function() {
              var n = parseInt(this.$body.css("padding-right") || 0, 10);
              this.scrollbarWidth && this.$body.css("padding-right", n + this.scrollbarWidth)
          }
          ;
          t.prototype.resetScrollbar = function() {
              this.$body.css("padding-right", "")
          }
          ;
          t.prototype.measureScrollbar = function() {
              var n = document.createElement("div"), t;
              return n.className = "modal-scrollbar-measure",
              this.$body.append(n),
              t = n.offsetWidth - n.clientWidth,
              this.$body[0].removeChild(n),
              t
          }
          ;
          r = n.fn.modal;
          n.fn.modal = i;
          n.fn.modal.Constructor = t;
          n.fn.modal.noConflict = function() {
              return n.fn.modal = r,
              this
          }
          ;
          n(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(t) {
              var r = n(this)
                , f = r.attr("href")
                , u = n(r.attr("data-target") || f && f.replace(/.*(?=#[^\\s]+$)/, ""))
                , e = u.data("bs.modal") ? "toggle" : n.extend({
                  remote: !/#/.test(f) && f
              }, u.data(), r.data());
              r.is("a") && t.preventDefault();
              u.one("show.bs.modal", function(n) {
                  if (!n.isDefaultPrevented())
                      u.one("hidden.bs.modal", function() {
                          r.is(":visible") && r.trigger("focus")
                      })
              });
              i.call(u, e, this)
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function r(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.tooltip")
                    , f = typeof i == "object" && i;
                  (r || i != "destroy") && (r || u.data("bs.tooltip", r = new t(this,f)),
                  typeof i == "string" && r[i]())
              })
          }
          var t = function(n, t) {
              this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null ;
              this.init("tooltip", n, t)
          }, i;
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              animation: !0,
              placement: "top",
              selector: !1,
              template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\\/div><div class="tooltip-inner"><\\/div><\\/div>',
              trigger: "hover focus",
              title: "",
              delay: 0,
              html: !1,
              container: !1,
              viewport: {
                  selector: "body",
                  padding: 0
              }
          };
          t.prototype.init = function(t, i, r) {
              var f, e, u, o, s;
              for (this.enabled = !0,
              this.type = t,
              this.$element = n(i),
              this.options = this.getOptions(r),
              this.$viewport = this.options.viewport && n(this.options.viewport.selector || this.options.viewport),
              f = this.options.trigger.split(" "),
              e = f.length; e--; )
                  if (u = f[e],
                  u == "click")
                      this.$element.on("click." + this.type, this.options.selector, n.proxy(this.toggle, this));
                  else if (u != "manual") {
                      o = u == "hover" ? "mouseenter" : "focusin";
                      s = u == "hover" ? "mouseleave" : "focusout";
                      this.$element.on(o + "." + this.type, this.options.selector, n.proxy(this.enter, this));
                      this.$element.on(s + "." + this.type, this.options.selector, n.proxy(this.leave, this))
                  }
              this.options.selector ? this._options = n.extend({}, this.options, {
                  trigger: "manual",
                  selector: ""
              }) : this.fixTitle()
          }
          ;
          t.prototype.getDefaults = function() {
              return t.DEFAULTS
          }
          ;
          t.prototype.getOptions = function(t) {
              return t = n.extend({}, this.getDefaults(), this.$element.data(), t),
              t.delay && typeof t.delay == "number" && (t.delay = {
                  show: t.delay,
                  hide: t.delay
              }),
              t
          }
          ;
          t.prototype.getDelegateOptions = function() {
              var t = {}
                , i = this.getDefaults();
              return this._options && n.each(this._options, function(n, r) {
                  i[n] != r && (t[n] = r)
              }),
              t
          }
          ;
          t.prototype.enter = function(t) {
              var i = t instanceof this.constructor ? t : n(t.currentTarget).data("bs." + this.type);
              if (i || (i = new this.constructor(t.currentTarget,this.getDelegateOptions()),
              n(t.currentTarget).data("bs." + this.type, i)),
              clearTimeout(i.timeout),
              i.hoverState = "in",
              !i.options.delay || !i.options.delay.show)
                  return i.show();
              i.timeout = setTimeout(function() {
                  i.hoverState == "in" && i.show()
              }, i.options.delay.show)
          }
          ;
          t.prototype.leave = function(t) {
              var i = t instanceof this.constructor ? t : n(t.currentTarget).data("bs." + this.type);
              if (i || (i = new this.constructor(t.currentTarget,this.getDelegateOptions()),
              n(t.currentTarget).data("bs." + this.type, i)),
              clearTimeout(i.timeout),
              i.hoverState = "out",
              !i.options.delay || !i.options.delay.hide)
                  return i.hide();
              i.timeout = setTimeout(function() {
                  i.hoverState == "out" && i.hide()
              }, i.options.delay.hide)
          }
          ;
          t.prototype.show = function() {
              var h = n.Event("show.bs." + this.type), c, l, f;
              if (this.hasContent() && this.enabled) {
                  if (this.$element.trigger(h),
                  c = n.contains(document.documentElement, this.$element[0]),
                  h.isDefaultPrevented() || !c)
                      return;
                  var e = this
                    , i = this.tip()
                    , a = this.getUID(this.type);
                  this.setContent();
                  i.attr("id", a);
                  this.$element.attr("aria-describedby", a);
                  this.options.animation && i.addClass("fade");
                  var t = typeof this.options.placement == "function" ? this.options.placement.call(this, i[0], this.$element[0]) : this.options.placement
                    , v = /\\s?auto?\\s?/i
                    , y = v.test(t);
                  y && (t = t.replace(v, "") || "top");
                  i.detach().css({
                      top: 0,
                      left: 0,
                      display: "block"
                  }).addClass(t).data("bs." + this.type, this);
                  this.options.container ? i.appendTo(this.options.container) : i.insertAfter(this.$element);
                  var r = this.getPosition()
                    , o = i[0].offsetWidth
                    , s = i[0].offsetHeight;
                  if (y) {
                      var p = t
                        , w = this.$element.parent()
                        , u = this.getPosition(w);
                      t = t == "bottom" && r.top + r.height + s - u.scroll > u.height ? "top" : t == "top" && r.top - u.scroll - s < 0 ? "bottom" : t == "right" && r.right + o > u.width ? "left" : t == "left" && r.left - o < u.left ? "right" : t;
                      i.removeClass(p).addClass(t)
                  }
                  l = this.getCalculatedOffset(t, r, o, s);
                  this.applyPlacement(l, t);
                  f = function() {
                      e.$element.trigger("shown.bs." + e.type);
                      e.hoverState = null
                  }
                  ;
                  n.support.transition && this.$tip.hasClass("fade") ? i.one("bsTransitionEnd", f).emulateTransitionEnd(150) : f()
              }
          }
          ;
          t.prototype.applyPlacement = function(t, i) {
              var r = this.tip(), c = r[0].offsetWidth, e = r[0].offsetHeight, o = parseInt(r.css("margin-top"), 10), s = parseInt(r.css("margin-left"), 10), h, f, u;
              isNaN(o) && (o = 0);
              isNaN(s) && (s = 0);
              t.top = t.top + o;
              t.left = t.left + s;
              n.offset.setOffset(r[0], n.extend({
                  using: function(n) {
                      r.css({
                          top: Math.round(n.top),
                          left: Math.round(n.left)
                      })
                  }
              }, t), 0);
              r.addClass("in");
              h = r[0].offsetWidth;
              f = r[0].offsetHeight;
              i == "top" && f != e && (t.top = t.top + e - f);
              u = this.getViewportAdjustedDelta(i, t, h, f);
              u.left ? t.left += u.left : t.top += u.top;
              var l = u.left ? u.left * 2 - c + h : u.top * 2 - e + f
                , a = u.left ? "left" : "top"
                , v = u.left ? "offsetWidth" : "offsetHeight";
              r.offset(t);
              this.replaceArrow(l, r[0][v], a)
          }
          ;
          t.prototype.replaceArrow = function(n, t, i) {
              this.arrow().css(i, n ? 50 * (1 - n / t) + "%" : "")
          }
          ;
          t.prototype.setContent = function() {
              var n = this.tip()
                , t = this.getTitle();
              n.find(".tooltip-inner")[this.options.html ? "html" : "text"](t);
              n.removeClass("fade in top bottom left right")
          }
          ;
          t.prototype.hide = function() {
              function r() {
                  t.hoverState != "in" && i.detach();
                  t.$element.trigger("hidden.bs." + t.type)
              }
              var t = this
                , i = this.tip()
                , u = n.Event("hide.bs." + this.type);
              if (this.$element.removeAttr("aria-describedby"),
              this.$element.trigger(u),
              !u.isDefaultPrevented())
                  return i.removeClass("in"),
                  n.support.transition && this.$tip.hasClass("fade") ? i.one("bsTransitionEnd", r).emulateTransitionEnd(150) : r(),
                  this.hoverState = null ,
                  this
          }
          ;
          t.prototype.fixTitle = function() {
              var n = this.$element;
              (n.attr("title") || typeof n.attr("data-original-title") != "string") && n.attr("data-original-title", n.attr("title") || "").attr("title", "")
          }
          ;
          t.prototype.hasContent = function() {
              return this.getTitle()
          }
          ;
          t.prototype.getPosition = function(t) {
              t = t || this.$element;
              var r = t[0]
                , i = r.tagName == "BODY";
              return n.extend({}, typeof r.getBoundingClientRect == "function" ? r.getBoundingClientRect() : null , {
                  scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop(),
                  width: i ? n(window).width() : t.outerWidth(),
                  height: i ? n(window).height() : t.outerHeight()
              }, i ? {
                  top: 0,
                  left: 0
              } : t.offset())
          }
          ;
          t.prototype.getCalculatedOffset = function(n, t, i, r) {
              return n == "bottom" ? {
                  top: t.top + t.height,
                  left: t.left + t.width / 2 - i / 2
              } : n == "top" ? {
                  top: t.top - r,
                  left: t.left + t.width / 2 - i / 2
              } : n == "left" ? {
                  top: t.top + t.height / 2 - r / 2,
                  left: t.left - i
              } : {
                  top: t.top + t.height / 2 - r / 2,
                  left: t.left + t.width
              }
          }
          ;
          t.prototype.getViewportAdjustedDelta = function(n, t, i, r) {
              var f = {
                  top: 0,
                  left: 0
              }, e, u, o, s, h, c;
              return this.$viewport ? (e = this.options.viewport && this.options.viewport.padding || 0,
              u = this.getPosition(this.$viewport),
              /right|left/.test(n) ? (o = t.top - e - u.scroll,
              s = t.top + e - u.scroll + r,
              o < u.top ? f.top = u.top - o : s > u.top + u.height && (f.top = u.top + u.height - s)) : (h = t.left - e,
              c = t.left + e + i,
              h < u.left ? f.left = u.left - h : c > u.width && (f.left = u.left + u.width - c)),
              f) : f
          }
          ;
          t.prototype.getTitle = function() {
              var t = this.$element
                , n = this.options;
              return t.attr("data-original-title") || (typeof n.title == "function" ? n.title.call(t[0]) : n.title)
          }
          ;
          t.prototype.getUID = function(n) {
              do
                  n += ~~(Math.random() * 1e6);
              while (document.getElementById(n));return n
          }
          ;
          t.prototype.tip = function() {
              return this.$tip = this.$tip || n(this.options.template)
          }
          ;
          t.prototype.arrow = function() {
              return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
          }
          ;
          t.prototype.validate = function() {
              this.$element[0].parentNode || (this.hide(),
              this.$element = null ,
              this.options = null )
          }
          ;
          t.prototype.enable = function() {
              this.enabled = !0
          }
          ;
          t.prototype.disable = function() {
              this.enabled = !1
          }
          ;
          t.prototype.toggleEnabled = function() {
              this.enabled = !this.enabled
          }
          ;
          t.prototype.toggle = function(t) {
              var i = this;
              t && (i = n(t.currentTarget).data("bs." + this.type),
              i || (i = new this.constructor(t.currentTarget,this.getDelegateOptions()),
              n(t.currentTarget).data("bs." + this.type, i)));
              i.tip().hasClass("in") ? i.leave(i) : i.enter(i)
          }
          ;
          t.prototype.destroy = function() {
              clearTimeout(this.timeout);
              this.hide().$element.off("." + this.type).removeData("bs." + this.type)
          }
          ;
          i = n.fn.tooltip;
          n.fn.tooltip = r;
          n.fn.tooltip.Constructor = t;
          n.fn.tooltip.noConflict = function() {
              return n.fn.tooltip = i,
              this
          }
      }(jQuery);
      +function(n) {
          "use strict";
          function r(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.popover")
                    , f = typeof i == "object" && i;
                  (r || i != "destroy") && (r || u.data("bs.popover", r = new t(this,f)),
                  typeof i == "string" && r[i]())
              })
          }
          var t = function(n, t) {
              this.init("popover", n, t)
          }, i;
          if (!n.fn.tooltip)
              throw new Error("Popover requires tooltip.js");
          t.VERSION = "3.2.0";
          t.DEFAULTS = n.extend({}, n.fn.tooltip.Constructor.DEFAULTS, {
              placement: "right",
              trigger: "click",
              content: "",
              template: '<div class="popover" role="tooltip"><div class="arrow"><\\/div><h3 class="popover-title"><\\/h3><div class="popover-content"><\\/div><\\/div>'
          });
          t.prototype = n.extend({}, n.fn.tooltip.Constructor.prototype);
          t.prototype.constructor = t;
          t.prototype.getDefaults = function() {
              return t.DEFAULTS
          }
          ;
          t.prototype.setContent = function() {
              var n = this.tip()
                , i = this.getTitle()
                , t = this.getContent();
              n.find(".popover-title")[this.options.html ? "html" : "text"](i);
              n.find(".popover-content").empty()[this.options.html ? typeof t == "string" ? "html" : "append" : "text"](t);
              n.removeClass("fade top bottom left right in");
              n.find(".popover-title").html() || n.find(".popover-title").hide()
          }
          ;
          t.prototype.hasContent = function() {
              return this.getTitle() || this.getContent()
          }
          ;
          t.prototype.getContent = function() {
              var t = this.$element
                , n = this.options;
              return t.attr("data-content") || (typeof n.content == "function" ? n.content.call(t[0]) : n.content)
          }
          ;
          t.prototype.arrow = function() {
              return this.$arrow = this.$arrow || this.tip().find(".arrow")
          }
          ;
          t.prototype.tip = function() {
              return this.$tip || (this.$tip = n(this.options.template)),
              this.$tip
          }
          ;
          i = n.fn.popover;
          n.fn.popover = r;
          n.fn.popover.Constructor = t;
          n.fn.popover.noConflict = function() {
              return n.fn.popover = i,
              this
          }
      }(jQuery);
      +function(n) {
          "use strict";
          function t(i, r) {
              var u = n.proxy(this.process, this);
              this.$body = n("body");
              this.$scrollElement = n(i).is("body") ? n(window) : n(i);
              this.options = n.extend({}, t.DEFAULTS, r);
              this.selector = (this.options.target || "") + " .nav li > a";
              this.offsets = [];
              this.targets = [];
              this.activeTarget = null ;
              this.scrollHeight = 0;
              this.$scrollElement.on("scroll.bs.scrollspy", u);
              this.refresh();
              this.process()
          }
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.scrollspy")
                    , f = typeof i == "object" && i;
                  r || u.data("bs.scrollspy", r = new t(this,f));
                  typeof i == "string" && r[i]()
              })
          }
          t.VERSION = "3.2.0";
          t.DEFAULTS = {
              offset: 10
          };
          t.prototype.getScrollHeight = function() {
              return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
          }
          ;
          t.prototype.refresh = function() {
              var i = "offset", r = 0, t;
              n.isWindow(this.$scrollElement[0]) || (i = "position",
              r = this.$scrollElement.scrollTop());
              this.offsets = [];
              this.targets = [];
              this.scrollHeight = this.getScrollHeight();
              t = this;
              this.$body.find(this.selector).map(function() {
                  var f = n(this)
                    , u = f.data("target") || f.attr("href")
                    , t = /^#./.test(u) && n(u);
                  return t && t.length && t.is(":visible") && [[t[i]().top + r, u]] || null
              }).sort(function(n, t) {
                  return n[0] - t[0]
              }).each(function() {
                  t.offsets.push(this[0]);
                  t.targets.push(this[1])
              })
          }
          ;
          t.prototype.process = function() {
              var r = this.$scrollElement.scrollTop() + this.options.offset, f = this.getScrollHeight(), e = this.options.offset + f - this.$scrollElement.height(), t = this.offsets, i = this.targets, u = this.activeTarget, n;
              if (this.scrollHeight != f && this.refresh(),
              r >= e)
                  return u != (n = i[i.length - 1]) && this.activate(n);
              if (u && r <= t[0])
                  return u != (n = i[0]) && this.activate(n);
              for (n = t.length; n--; )
                  u != i[n] && r >= t[n] && (!t[n + 1] || r <= t[n + 1]) && this.activate(i[n])
          }
          ;
          t.prototype.activate = function(t) {
              this.activeTarget = t;
              n(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
              var r = this.selector + '[data-target="' + t + '"],' + this.selector + '[href="' + t + '"]'
                , i = n(r).parents("li").addClass("active");
              i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active"));
              i.trigger("activate.bs.scrollspy")
          }
          ;
          var r = n.fn.scrollspy;
          n.fn.scrollspy = i;
          n.fn.scrollspy.Constructor = t;
          n.fn.scrollspy.noConflict = function() {
              return n.fn.scrollspy = r,
              this
          }
          ;
          n(window).on("load.bs.scrollspy.data-api", function() {
              n('[data-spy="scroll"]').each(function() {
                  var t = n(this);
                  i.call(t, t.data())
              })
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.tab");
                  r || u.data("bs.tab", r = new t(this));
                  typeof i == "string" && r[i]()
              })
          }
          var t = function(t) {
              this.element = n(t)
          }, r;
          t.VERSION = "3.2.0";
          t.prototype.show = function() {
              var t = this.element, e = t.closest("ul:not(.dropdown-menu)"), i = t.data("target"), r, u, f;
              (i || (i = t.attr("href"),
              i = i && i.replace(/.*(?=#[^\\s]*$)/, "")),
              t.parent("li").hasClass("active")) || (r = e.find(".active:last a")[0],
              u = n.Event("show.bs.tab", {
                  relatedTarget: r
              }),
              t.trigger(u),
              u.isDefaultPrevented()) || (f = n(i),
              this.activate(t.closest("li"), e),
              this.activate(f, f.parent(), function() {
                  t.trigger({
                      type: "shown.bs.tab",
                      relatedTarget: r
                  })
              }))
          }
          ;
          t.prototype.activate = function(t, i, r) {
              function f() {
                  u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");
                  t.addClass("active");
                  e ? (t[0].offsetWidth,
                  t.addClass("in")) : t.removeClass("fade");
                  t.parent(".dropdown-menu") && t.closest("li.dropdown").addClass("active");
                  r && r()
              }
              var u = i.find("> .active")
                , e = r && n.support.transition && u.hasClass("fade");
              e ? u.one("bsTransitionEnd", f).emulateTransitionEnd(150) : f();
              u.removeClass("in")
          }
          ;
          r = n.fn.tab;
          n.fn.tab = i;
          n.fn.tab.Constructor = t;
          n.fn.tab.noConflict = function() {
              return n.fn.tab = r,
              this
          }
          ;
          n(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function(t) {
              t.preventDefault();
              i.call(n(this), "show")
          })
      }(jQuery);
      +function(n) {
          "use strict";
          function i(i) {
              return this.each(function() {
                  var u = n(this)
                    , r = u.data("bs.affix")
                    , f = typeof i == "object" && i;
                  r || u.data("bs.affix", r = new t(this,f));
                  typeof i == "string" && r[i]()
              })
          }
          var t = function(i, r) {
              this.options = n.extend({}, t.DEFAULTS, r);
              this.$target = n(this.options.target).on("scroll.bs.affix.data-api", n.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", n.proxy(this.checkPositionWithEventLoop, this));
              this.$element = n(i);
              this.affixed = this.unpin = this.pinnedOffset = null ;
              this.checkPosition()
          }, r;
          t.VERSION = "3.2.0";
          t.RESET = "affix affix-top affix-bottom";
          t.DEFAULTS = {
              offset: 0,
              target: window
          };
          t.prototype.getPinnedOffset = function() {
              if (this.pinnedOffset)
                  return this.pinnedOffset;
              this.$element.removeClass(t.RESET).addClass("affix");
              var n = this.$target.scrollTop()
                , i = this.$element.offset();
              return this.pinnedOffset = i.top - n
          }
          ;
          t.prototype.checkPositionWithEventLoop = function() {
              setTimeout(n.proxy(this.checkPosition, this), 1)
          }
          ;
          t.prototype.checkPosition = function() {
              var i, e, o;
              if (this.$element.is(":visible")) {
                  var s = n(document).height()
                    , h = this.$target.scrollTop()
                    , c = this.$element.offset()
                    , r = this.options.offset
                    , f = r.top
                    , u = r.bottom;
                  (typeof r != "object" && (u = f = r),
                  typeof f == "function" && (f = r.top(this.$element)),
                  typeof u == "function" && (u = r.bottom(this.$element)),
                  i = this.unpin != null && h + this.unpin <= c.top ? !1 : u != null && c.top + this.$element.height() >= s - u ? "bottom" : f != null && h <= f ? "top" : !1,
                  this.affixed !== i) && ((this.unpin != null && this.$element.css("top", ""),
                  e = "affix" + (i ? "-" + i : ""),
                  o = n.Event(e + ".bs.affix"),
                  this.$element.trigger(o),
                  o.isDefaultPrevented()) || (this.affixed = i,
                  this.unpin = i == "bottom" ? this.getPinnedOffset() : null ,
                  this.$element.removeClass(t.RESET).addClass(e).trigger(n.Event(e.replace("affix", "affixed"))),
                  i == "bottom" && this.$element.offset({
                      top: s - this.$element.height() - u
                  })))
              }
          }
          ;
          r = n.fn.affix;
          n.fn.affix = i;
          n.fn.affix.Constructor = t;
          n.fn.affix.noConflict = function() {
              return n.fn.affix = r,
              this
          }
          ;
          n(window).on("load", function() {
              n('[data-spy="affix"]').each(function() {
                  var r = n(this)
                    , t = r.data();
                  t.offset = t.offset || {};
                  t.offsetBottom && (t.offset.bottom = t.offsetBottom);
                  t.offsetTop && (t.offset.top = t.offsetTop);
                  i.call(r, t)
              })
          })
      }(jQuery);
      !function(n, t) {
          "use strict";
          "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? module.exports = t(require("jquery")) : n.bootbox = t(n.jQuery)
      }(this, function a(n, t) {
          "use strict";
          function a(n) {
              var t = o[e.locale];
              return t ? t[n] : o.en[n]
          }
          function f(t, i, r) {
              t.stopPropagation();
              t.preventDefault();
              var u = n.isFunction(r) && r(t) === !1;
              u || i.modal("hide")
          }
          function v(n) {
              var i, t = 0;
              for (i in n)
                  t++;
              return t
          }
          function r(t, i) {
              var r = 0;
              n.each(t, function(n, t) {
                  i(n, t, r++)
              })
          }
          function y(t) {
              var i, u;
              if ("object" != typeof t)
                  throw new Error("Please supply an object of options");
              if (!t.message)
                  throw new Error("Please specify a message");
              return t = n.extend({}, e, t),
              t.buttons || (t.buttons = {}),
              t.backdrop = t.backdrop ? "static" : !1,
              i = t.buttons,
              u = v(i),
              r(i, function(t, r, f) {
                  if (n.isFunction(r) && (r = i[t] = {
                      callback: r
                  }),
                  "object" !== n.type(r))
                      throw new Error("button with key " + t + " must be an object");
                  r.label || (r.label = t);
                  r.className || (r.className = 2 >= u && f === u - 1 ? "btn-primary" : "btn-default")
              }),
              t
          }
          function p(n, t) {
              var r = n.length
                , i = {};
              if (1 > r || r > 2)
                  throw new Error("Invalid argument length");
              return 2 === r || "string" == typeof n[0] ? (i[t[0]] = n[0],
              i[t[1]] = n[1]) : i = n[0],
              i
          }
          function s(t, i, r) {
              return n.extend(!0, {}, t, p(i, r))
          }
          function h(n, t, i, r) {
              var u = {
                  className: "bootbox-" + n,
                  buttons: c.apply(null , t)
              };
              return l(s(u, r, i), t)
          }
          function c() {
              for (var t = {}, n = 0, r = arguments.length; r > n; n++) {
                  var i = arguments[n]
                    , u = i.toLowerCase()
                    , f = i.toUpperCase();
                  t[u] = {
                      label: a(f)
                  }
              }
              return t
          }
          function l(n, i) {
              var u = {};
              return r(i, function(n, t) {
                  u[t] = !0
              }),
              r(n.buttons, function(n) {
                  if (u[n] === t)
                      throw new Error("button key " + n + " is not allowed (options are " + i.join("\\n") + ")");
              }),
              n
          }
          var u = {
              dialog: "<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'><\\/div><\\/div><\\/div><\\/div><\\/div>",
              header: "<div class='modal-header'><h4 class='modal-title'><\\/h4><\\/div>",
              footer: "<div class='modal-footer displaynone'><\\/div>",
              closeButton: "<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;<\\/button>",
              form: "<form class='bootbox-form'><\\/form>",
              inputs: {
                  text: "<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",
                  textarea: "<textarea class='bootbox-input bootbox-input-textarea form-control'><\\/textarea>",
                  email: "<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",
                  select: "<select class='bootbox-input bootbox-input-select form-control'><\\/select>",
                  checkbox: "<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /><\\/label><\\/div>",
                  date: "<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",
                  time: "<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",
                  number: "<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",
                  password: "<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"
              }
          }, e = {
              locale: "en",
              backdrop: !0,
              animate: !0,
              className: null ,
              closeButton: !0,
              show: !0,
              container: "body"
          }, i = {}, o;
          return i.alert = function() {
              var t;
              if (t = h("alert", ["ok"], ["message", "callback"], arguments),
              t.callback && !n.isFunction(t.callback))
                  throw new Error("alert requires callback property to be a function when provided");
              return t.buttons.ok.callback = t.onEscape = function() {
                  return n.isFunction(t.callback) ? t.callback() : !0
              }
              ,
              i.dialog(t)
          }
          ,
          i.confirm = function() {
              var t;
              if (t = h("confirm", ["cancel", "confirm"], ["message", "callback"], arguments),
              t.buttons.cancel.callback = t.onEscape = function() {
                  return t.callback(!1)
              }
              ,
              t.buttons.confirm.callback = function() {
                  return t.callback(!0)
              }
              ,
              !n.isFunction(t.callback))
                  throw new Error("confirm requires a callback");
              return i.dialog(t)
          }
          ,
          i.prompt = function() {
              var f, y, h, v, e, p, o, a, w;
              if (v = n(u.form),
              y = {
                  className: "bootbox-prompt",
                  buttons: c("cancel", "confirm"),
                  value: "",
                  inputType: "text"
              },
              f = l(s(y, arguments, ["title", "callback"]), ["cancel", "confirm"]),
              p = f.show === t ? !0 : f.show,
              f.message = v,
              f.buttons.cancel.callback = f.onEscape = function() {
                  return f.callback(null )
              }
              ,
              f.buttons.confirm.callback = function() {
                  var t, i;
                  switch (f.inputType) {
                  case "text":
                  case "textarea":
                  case "email":
                  case "select":
                  case "date":
                  case "time":
                  case "number":
                  case "password":
                      t = e.val();
                      break;
                  case "checkbox":
                      i = e.find("input:checked");
                      t = [];
                      r(i, function(i, r) {
                          t.push(n(r).val())
                      })
                  }
                  return f.callback(t)
              }
              ,
              f.show = !1,
              !f.title)
                  throw new Error("prompt requires a title");
              if (!n.isFunction(f.callback))
                  throw new Error("prompt requires a callback");
              if (!u.inputs[f.inputType])
                  throw new Error("invalid prompt type");
              switch (e = n(u.inputs[f.inputType]),
              f.inputType) {
              case "text":
              case "textarea":
              case "email":
              case "date":
              case "time":
              case "number":
              case "password":
                  e.val(f.value);
                  break;
              case "select":
                  if (a = {},
                  o = f.inputOptions || [],
                  !o.length)
                      throw new Error("prompt with select requires options");
                  r(o, function(i, r) {
                      var u = e;
                      if (r.value === t || r.text === t)
                          throw new Error("given options in wrong format");
                      r.group && (a[r.group] || (a[r.group] = n("<optgroup/>").attr("label", r.group)),
                      u = a[r.group]);
                      u.append("<option value='" + r.value + "'>" + r.text + "<\\/option>")
                  });
                  r(a, function(n, t) {
                      e.append(t)
                  });
                  e.val(f.value);
                  break;
              case "checkbox":
                  if (w = n.isArray(f.value) ? f.value : [f.value],
                  o = f.inputOptions || [],
                  !o.length)
                      throw new Error("prompt with checkbox requires options");
                  if (!o[0].value || !o[0].text)
                      throw new Error("given options in wrong format");
                  e = n("<div/>");
                  r(o, function(t, i) {
                      var o = n(u.inputs[f.inputType]);
                      o.find("input").attr("value", i.value);
                      o.find("label").append(i.text);
                      r(w, function(n, t) {
                          t === i.value && o.find("input").prop("checked", !0)
                      });
                      e.append(o)
                  })
              }
              return f.placeholder && e.attr("placeholder", f.placeholder),
              f.pattern && e.attr("pattern", f.pattern),
              v.append(e),
              v.on("submit", function(n) {
                  n.preventDefault();
                  n.stopPropagation();
                  h.find(".btn-primary").click()
              }),
              h = i.dialog(f),
              h.off("shown.bs.modal"),
              h.on("shown.bs.modal", function() {
                  e.focus()
              }),
              p === !0 && h.modal("show"),
              h
          }
          ,
          i.dialog = function(t) {
              var h;
              t = y(t);
              var i = n(u.dialog)
                , c = i.find(".modal-dialog")
                , o = i.find(".modal-body")
                , l = t.buttons
                , s = ""
                , e = {
                  onEscape: t.onEscape
              };
              return (r(l, function(n, t) {
                  s += "<button data-bb-handler='" + n + "' type='button' class='btn " + t.className + "'>" + t.label + "<\\/button>";
                  e[n] = t.callback
              }),
              o.find(".bootbox-body").html(t.message),
              t.animate === !0 && i.addClass("fade"),
              t.className && i.addClass(t.className),
              "large" === t.size && c.addClass("modal-lg"),
              "small" === t.size && c.addClass("modal-sm"),
              t.title && o.before(u.header),
              t.closeButton) && (h = n(u.closeButton),
              t.title ? i.find(".modal-header").prepend(h) : h.css("margin-top", "-10px").prependTo(o)),
              t.title && i.find(".modal-title").html(t.title),
              s.length && (o.after(u.footer),
              i.find(".modal-footer").html(s)),
              i.on("hidden.bs.modal", function(n) {
                  n.target === this && i.remove()
              }),
              i.on("shown.bs.modal", function() {
                  i.find(".btn-primary:first").focus()
              }),
              i.on("escape.close.bb", function(n) {
                  e.onEscape && f(n, i, e.onEscape)
              }),
              i.on("click", ".modal-footer button", function(t) {
                  var r = n(this).data("bb-handler");
                  f(t, i, e[r])
              }),
              i.on("click", ".bootbox-close-button", function(n) {
                  f(n, i, e.onEscape)
              }),
              i.on("keyup", function(n) {
                  27 === n.which && i.trigger("escape.close.bb")
              }),
              n(t.container).append(i),
              i.modal({
                  backdrop: t.backdrop,
                  keyboard: !1,
                  show: !1
              }),
              t.show && i.modal("show"),
              i
          }
          ,
          i.setDefaults = function() {
              var t = {};
              2 === arguments.length ? t[arguments[0]] = arguments[1] : t = arguments[0];
              n.extend(e, t)
          }
          ,
          i.hideAll = function() {
              return n(".bootbox").modal("hide"),
              i
          }
          ,
          o = {
              br: {
                  OK: "OK",
                  CANCEL: "Cancelar",
                  CONFIRM: "Sim"
              },
              cs: {
                  OK: "OK",
                  CANCEL: "Zrušit",
                  CONFIRM: "Potvrdit"
              },
              da: {
                  OK: "OK",
                  CANCEL: "Annuller",
                  CONFIRM: "Accepter"
              },
              de: {
                  OK: "OK",
                  CANCEL: "Abbrechen",
                  CONFIRM: "Akzeptieren"
              },
              el: {
                  OK: "Εντάξει",
                  CANCEL: "Ακύρωση",
                  CONFIRM: "Επιβεβαίωση"
              },
              en: {
                  OK: "OK",
                  CANCEL: "Cancel",
                  CONFIRM: "OK"
              },
              es: {
                  OK: "OK",
                  CANCEL: "Cancelar",
                  CONFIRM: "Aceptar"
              },
              et: {
                  OK: "OK",
                  CANCEL: "Katkesta",
                  CONFIRM: "OK"
              },
              fi: {
                  OK: "OK",
                  CANCEL: "Peruuta",
                  CONFIRM: "OK"
              },
              fr: {
                  OK: "OK",
                  CANCEL: "Annuler",
                  CONFIRM: "D'accord"
              },
              he: {
                  OK: "אישור",
                  CANCEL: "ביטול",
                  CONFIRM: "אישור"
              },
              id: {
                  OK: "OK",
                  CANCEL: "Batal",
                  CONFIRM: "OK"
              },
              it: {
                  OK: "OK",
                  CANCEL: "Annulla",
                  CONFIRM: "Conferma"
              },
              ja: {
                  OK: "OK",
                  CANCEL: "キャンセル",
                  CONFIRM: "確認"
              },
              lt: {
                  OK: "Gerai",
                  CANCEL: "Atšaukti",
                  CONFIRM: "Patvirtinti"
              },
              lv: {
                  OK: "Labi",
                  CANCEL: "Atcelt",
                  CONFIRM: "Apstiprināt"
              },
              nl: {
                  OK: "OK",
                  CANCEL: "Annuleren",
                  CONFIRM: "Accepteren"
              },
              no: {
                  OK: "OK",
                  CANCEL: "Avbryt",
                  CONFIRM: "OK"
              },
              pl: {
                  OK: "OK",
                  CANCEL: "Anuluj",
                  CONFIRM: "Potwierdź"
              },
              pt: {
                  OK: "OK",
                  CANCEL: "Cancelar",
                  CONFIRM: "Confirmar"
              },
              ru: {
                  OK: "OK",
                  CANCEL: "Отмена",
                  CONFIRM: "Применить"
              },
              sv: {
                  OK: "OK",
                  CANCEL: "Avbryt",
                  CONFIRM: "OK"
              },
              tr: {
                  OK: "Tamam",
                  CANCEL: "İptal",
                  CONFIRM: "Onayla"
              },
              zh_CN: {
                  OK: "OK",
                  CANCEL: "取消",
                  CONFIRM: "确认"
              },
              zh_TW: {
                  OK: "OK",
                  CANCEL: "取消",
                  CONFIRM: "確認"
              }
          },
          i.init = function(t) {
              return a(t || n)
          }
          ,
          i
      }),
      function() {
          function i(n) {
              var t = Array.isArray(n) ? {
                  label: n[0],
                  value: n[1]
              } : typeof n == "object" && "label"in n && "value"in n ? n : {
                  label: n,
                  value: n
              };
              this.label = t.label || t.value;
              this.value = t.value
          }
          function e(n, t, i) {
              var r, u, f;
              for (r in t)
                  u = t[r],
                  f = n.input.getAttribute("data-" + r.toLowerCase()),
                  n[r] = typeof u == "number" ? parseInt(f) : u === !1 ? f !== null : u instanceof Function ? null : f,
                  n[r] || n[r] === 0 || (n[r] = r in i ? i[r] : u)
          }
          function n(n, t) {
              return typeof n == "string" ? (t || document).querySelector(n) : n || null
          }
          function u(n, t) {
              return r.call((t || document).querySelectorAll(n))
          }
          function f() {
              u("input.awesomplete").forEach(function(n) {
                  new t(n)
              })
          }
          var t = function(i, r) {
              var u = this;
              this.isOpened = !1;
              this.input = n(i);
              this.input.setAttribute("autocomplete", "off");
              this.input.setAttribute("aria-autocomplete", "list");
              r = r || {};
              e(this, {
                  minChars: 2,
                  maxItems: 10,
                  autoFirst: !1,
                  data: t.DATA,
                  filter: t.FILTER_CONTAINS,
                  sort: r.sort === !1 ? !1 : t.SORT_BYLENGTH,
                  item: t.ITEM,
                  replace: t.REPLACE
              }, r);
              this.index = -1;
              this.container = n.create("div", {
                  className: "awesomplete",
                  around: i
              });
              this.ul = n.create("ul", {
                  hidden: "hidden",
                  inside: this.container
              });
              this.status = n.create("span", {
                  className: "visually-hidden",
                  role: "status",
                  "aria-live": "assertive",
                  "aria-relevant": "additions",
                  inside: this.container
              });
              this._events = {
                  input: {
                      input: this.evaluate.bind(this),
                      blur: this.close.bind(this, {
                          reason: "blur"
                      }),
                      keydown: function(n) {
                          var t = n.keyCode;
                          u.opened && (t === 13 && u.selected ? (n.preventDefault(),
                          u.select()) : t === 27 ? u.close({
                              reason: "esc"
                          }) : (t === 38 || t === 40) && (n.preventDefault(),
                          u[t === 38 ? "previous" : "next"]()))
                      }
                  },
                  form: {
                      submit: this.close.bind(this, {
                          reason: "submit"
                      })
                  },
                  ul: {
                      mousedown: function(n) {
                          var t = n.target;
                          if (t !== this) {
                              while (t && !/li/i.test(t.nodeName))
                                  t = t.parentNode;
                              t && n.button === 0 && (n.preventDefault(),
                              u.select(t, n.target))
                          }
                      }
                  }
              };
              n.bind(this.input, this._events.input);
              n.bind(this.input.form, this._events.form);
              n.bind(this.ul, this._events.ul);
              this.input.hasAttribute("list") ? (this.list = "#" + this.input.getAttribute("list"),
              this.input.removeAttribute("list")) : this.list = this.input.getAttribute("data-list") || r.list || [];
              t.all.push(this)
          }, r;
          return t.prototype = {
              set list(t) {
                  if (Array.isArray(t))
                      this._list = t;
                  else if (typeof t == "string" && t.indexOf(",") > -1)
                      this._list = t.split(/\\s*,\\s*/);
                  else if (t = n(t),
                  t && t.children) {
                      var i = [];
                      r.apply(t.children).forEach(function(n) {
                          if (!n.disabled) {
                              var t = n.textContent.trim()
                                , r = n.value || t
                                , u = n.label || t;
                              r !== "" && i.push({
                                  label: u,
                                  value: r
                              })
                          }
                      });
                      this._list = i
                  }
                  document.activeElement === this.input && this.evaluate()
              },
              get selected() {
                  return this.index > -1
              },
              get opened() {
                  return this.isOpened
              },
              close: function(t) {
                  this.opened && (this.ul.setAttribute("hidden", ""),
                  this.isOpened = !1,
                  this.index = -1,
                  n.fire(this.input, "awesomplete-close", t || {}))
              },
              open: function() {
                  this.ul.removeAttribute("hidden");
                  this.isOpened = !0;
                  this.autoFirst && this.index === -1 && this.goto(0);
                  n.fire(this.input, "awesomplete-open")
              },
              destroy: function() {
                  var i, r;
                  n.unbind(this.input, this._events.input);
                  n.unbind(this.input.form, this._events.form);
                  i = this.container.parentNode;
                  i.insertBefore(this.input, this.container);
                  i.removeChild(this.container);
                  this.input.removeAttribute("autocomplete");
                  this.input.removeAttribute("aria-autocomplete");
                  r = t.all.indexOf(this);
                  r !== -1 && t.all.splice(r, 1)
              },
              next: function() {
                  var n = this.ul.children.length;
                  this.goto(this.index < n - 1 ? this.index + 1 : n ? 0 : -1)
              },
              previous: function() {
                  var t = this.ul.children.length
                    , n = this.index - 1;
                  this.goto(this.selected && n !== -1 ? n : t - 1)
              },
              goto: function(t) {
                  var i = this.ul.children;
                  this.selected && i[this.index].setAttribute("aria-selected", "false");
                  this.index = t;
                  t > -1 && i.length > 0 && (i[t].setAttribute("aria-selected", "true"),
                  this.status.textContent = i[t].textContent,
                  this.ul.scrollTop = i[t].offsetTop - this.ul.clientHeight + i[t].clientHeight,
                  n.fire(this.input, "awesomplete-highlight", {
                      text: this.suggestions[this.index]
                  }))
              },
              select: function(t, i) {
                  if (t ? this.index = n.siblingIndex(t) : t = this.ul.children[this.index],
                  t) {
                      var r = this.suggestions[this.index]
                        , u = n.fire(this.input, "awesomplete-select", {
                          text: r,
                          origin: i || t
                      });
                      u && (this.replace(r),
                      this.close({
                          reason: "select"
                      }),
                      n.fire(this.input, "awesomplete-selectcomplete", {
                          text: r
                      }))
                  }
              },
              evaluate: function() {
                  var n = this
                    , t = this.input.value;
                  t.length >= this.minChars && this._list.length > 0 ? (this.index = -1,
                  this.ul.innerHTML = "",
                  this.suggestions = this._list.map(function(r) {
                      return new i(n.data(r, t))
                  }).filter(function(i) {
                      return n.filter(i, t)
                  }),
                  this.sort !== !1 && (this.suggestions = this.suggestions.sort(this.sort)),
                  this.suggestions = this.suggestions.slice(0, this.maxItems),
                  this.suggestions.forEach(function(i) {
                      n.ul.appendChild(n.item(i, t))
                  }),
                  this.ul.children.length === 0 ? this.close({
                      reason: "nomatches"
                  }) : this.open()) : this.close({
                      reason: "nomatches"
                  })
              }
          },
          t.all = [],
          t.FILTER_CONTAINS = function(t, i) {
              return RegExp(n.regExpEscape(i.trim()), "i").test(t)
          }
          ,
          t.FILTER_STARTSWITH = function(t, i) {
              return RegExp("^" + n.regExpEscape(i.trim()), "i").test(t)
          }
          ,
          t.SORT_BYLENGTH = function(n, t) {
              return n.length !== t.length ? n.length - t.length : n < t ? -1 : 1
          }
          ,
          t.ITEM = function(t, i) {
              var r = i.trim() === "" ? t : t.replace(RegExp(n.regExpEscape(i.trim()), "gi"), "<mark>$&<\\/mark>");
              return n.create("li", {
                  innerHTML: r,
                  "aria-selected": "false"
              })
          }
          ,
          t.REPLACE = function(n) {
              this.input.value = n.value
          }
          ,
          t.DATA = function(n) {
              return n
          }
          ,
          Object.defineProperty(i.prototype = Object.create(String.prototype), "length", {
              get: function() {
                  return this.label.length
              }
          }),
          i.prototype.toString = i.prototype.valueOf = function() {
              return "" + this.label
          }
          ,
          r = Array.prototype.slice,
          n.create = function(t, i) {
              var r = document.createElement(t), u, f, e;
              for (u in i)
                  f = i[u],
                  u === "inside" ? n(f).appendChild(r) : u === "around" ? (e = n(f),
                  e.parentNode.insertBefore(r, e),
                  r.appendChild(e)) : u in r ? r[u] = f : r.setAttribute(u, f);
              return r
          }
          ,
          n.bind = function(n, t) {
              var i, r;
              if (n)
                  for (i in t)
                      r = t[i],
                      i.split(/\\s+/).forEach(function(t) {
                          n.addEventListener(t, r)
                      })
          }
          ,
          n.unbind = function(n, t) {
              var i, r;
              if (n)
                  for (i in t)
                      r = t[i],
                      i.split(/\\s+/).forEach(function(t) {
                          n.removeEventListener(t, r)
                      })
          }
          ,
          n.fire = function(n, t, i) {
              var r = document.createEvent("HTMLEvents"), u;
              r.initEvent(t, !0, !0);
              for (u in i)
                  r[u] = i[u];
              return n.dispatchEvent(r)
          }
          ,
          n.regExpEscape = function(n) {
              return n.replace(/[-\\\\^$*+?.()|[\\]{}]/g, "\\\\$&")
          }
          ,
          n.siblingIndex = function(n) {
              for (var t = 0; n = n.previousElementSibling; t++)
                  ;
              return t
          }
          ,
          typeof Document != "undefined" && (document.readyState !== "loading" ? f() : document.addEventListener("DOMContentLoaded", f)),
          t.$ = n,
          t.$$ = u,
          typeof self != "undefined" && (self.Awesomplete = t),
          typeof module == "object" && module.exports && (module.exports = t),
          t
      }();
      var dataResponse, flgEnject = !0, fillParamSearch = "", tourApi = "https://tourservice.alibaba.ir/", tourTestApi = "http://tourservice.test.alibaba.ir/";
      (function(n, t) {
          function i(t, i) {
              var u, f, e, o = t.nodeName.toLowerCase();
              return "area" === o ? (u = t.parentNode,
              f = u.name,
              !t.href || !f || u.nodeName.toLowerCase() !== "map") ? !1 : (e = n("img[usemap=#" + f + "]")[0],
              !!e && r(e)) : (/input|select|textarea|button|object/.test(o) ? !t.disabled : "a" === o ? t.href || i : i) && r(t)
          }
          function r(t) {
              return n.expr.filters.visible(t) && !n(t).parents().andSelf().filter(function() {
                  return n.css(this, "visibility") === "hidden"
              }).length
          }
          var u = 0
            , f = /^ui-id-\\d+$/;
          (n.ui = n.ui || {},
          n.ui.version) || (n.extend(n.ui, {
              version: "1.9.1",
              keyCode: {
                  BACKSPACE: 8,
                  COMMA: 188,
                  DELETE: 46,
                  DOWN: 40,
                  END: 35,
                  ENTER: 13,
                  ESCAPE: 27,
                  HOME: 36,
                  LEFT: 37,
                  NUMPAD_ADD: 107,
                  NUMPAD_DECIMAL: 110,
                  NUMPAD_DIVIDE: 111,
                  NUMPAD_ENTER: 108,
                  NUMPAD_MULTIPLY: 106,
                  NUMPAD_SUBTRACT: 109,
                  PAGE_DOWN: 34,
                  PAGE_UP: 33,
                  PERIOD: 190,
                  RIGHT: 39,
                  SPACE: 32,
                  TAB: 9,
                  UP: 38
              }
          }),
          n.fn.extend({
              _focus: n.fn.focus,
              focus: function(t, i) {
                  return typeof t == "number" ? this.each(function() {
                      var r = this;
                      setTimeout(function() {
                          n(r).focus();
                          i && i.call(r)
                      }, t)
                  }) : this._focus.apply(this, arguments)
              },
              scrollParent: function() {
                  var t;
                  return t = n.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                      return /(relative|absolute|fixed)/.test(n.css(this, "position")) && /(auto|scroll)/.test(n.css(this, "overflow") + n.css(this, "overflow-y") + n.css(this, "overflow-x"))
                  }).eq(0) : this.parents().filter(function() {
                      return /(auto|scroll)/.test(n.css(this, "overflow") + n.css(this, "overflow-y") + n.css(this, "overflow-x"))
                  }).eq(0),
                  /fixed/.test(this.css("position")) || !t.length ? n(document) : t
              },
              zIndex: function(i) {
                  if (i !== t)
                      return this.css("zIndex", i);
                  if (this.length)
                      for (var r = n(this[0]), u, f; r.length && r[0] !== document; ) {
                          if (u = r.css("position"),
                          (u === "absolute" || u === "relative" || u === "fixed") && (f = parseInt(r.css("zIndex"), 10),
                          !isNaN(f) && f !== 0))
                              return f;
                          r = r.parent()
                      }
                  return 0
              },
              uniqueId: function() {
                  return this.each(function() {
                      this.id || (this.id = "ui-id-" + ++u)
                  })
              },
              removeUniqueId: function() {
                  return this.each(function() {
                      f.test(this.id) && n(this).removeAttr("id")
                  })
              }
          }),
          n("<a>").outerWidth(1).jquery || n.each(["Width", "Height"], function(i, r) {
              function u(t, i, r, u) {
                  return n.each(o, function() {
                      i -= parseFloat(n.css(t, "padding" + this)) || 0;
                      r && (i -= parseFloat(n.css(t, "border" + this + "Width")) || 0);
                      u && (i -= parseFloat(n.css(t, "margin" + this)) || 0)
                  }),
                  i
              }
              var o = r === "Width" ? ["Left", "Right"] : ["Top", "Bottom"]
                , f = r.toLowerCase()
                , e = {
                  innerWidth: n.fn.innerWidth,
                  innerHeight: n.fn.innerHeight,
                  outerWidth: n.fn.outerWidth,
                  outerHeight: n.fn.outerHeight
              };
              n.fn["inner" + r] = function(i) {
                  return i === t ? e["inner" + r].call(this) : this.each(function() {
                      n(this).css(f, u(this, i) + "px")
                  })
              }
              ;
              n.fn["outer" + r] = function(t, i) {
                  return typeof t != "number" ? e["outer" + r].call(this, t) : this.each(function() {
                      n(this).css(f, u(this, t, !0, i) + "px")
                  })
              }
          }),
          n.extend(n.expr[":"], {
              data: n.expr.createPseudo ? n.expr.createPseudo(function(t) {
                  return function(i) {
                      return !!n.data(i, t)
                  }
              }) : function(t, i, r) {
                  return !!n.data(t, r[3])
              }
              ,
              focusable: function(t) {
                  return i(t, !isNaN(n.attr(t, "tabindex")))
              },
              tabbable: function(t) {
                  var r = n.attr(t, "tabindex")
                    , u = isNaN(r);
                  return (u || r >= 0) && i(t, !u)
              }
          }),
          n(function() {
              var i = document.body
                , t = i.appendChild(t = document.createElement("div"));
              t.offsetHeight;
              n.extend(t.style, {
                  minHeight: "100px",
                  height: "auto",
                  padding: 0,
                  borderWidth: 0
              });
              n.support.minHeight = t.offsetHeight === 100;
              n.support.selectstart = "onselectstart"in t;
              i.removeChild(t).style.display = "none"
          }),
          function() {
              var t = /msie ([\\w.]+)/.exec(navigator.userAgent.toLowerCase()) || [];
              n.ui.ie = t.length ? !0 : !1;
              n.ui.ie6 = parseFloat(t[1], 10) === 6
          }(),
          n.fn.extend({
              disableSelection: function() {
                  return this.bind((n.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(n) {
                      n.preventDefault()
                  })
              },
              enableSelection: function() {
                  return this.unbind(".ui-disableSelection")
              }
          }),
          n.extend(n.ui, {
              plugin: {
                  add: function(t, i, r) {
                      var u, f = n.ui[t].prototype;
                      for (u in r)
                          f.plugins[u] = f.plugins[u] || [],
                          f.plugins[u].push([i, r[u]])
                  },
                  call: function(n, t, i) {
                      var r, u = n.plugins[t];
                      if (u && n.element[0].parentNode && n.element[0].parentNode.nodeType !== 11)
                          for (r = 0; r < u.length; r++)
                              n.options[u[r][0]] && u[r][1].apply(n.element, i)
                  }
              },
              contains: n.contains,
              hasScroll: function(t, i) {
                  if (n(t).css("overflow") === "hidden")
                      return !1;
                  var r = i && i === "left" ? "scrollLeft" : "scrollTop"
                    , u = !1;
                  return t[r] > 0 ? !0 : (t[r] = 1,
                  u = t[r] > 0,
                  t[r] = 0,
                  u)
              },
              isOverAxis: function(n, t, i) {
                  return n > t && n < t + i
              },
              isOver: function(t, i, r, u, f, e) {
                  return n.ui.isOverAxis(t, r, f) && n.ui.isOverAxis(i, u, e)
              }
          }))
      })(jQuery),
      function(n, t) {
          function e() {
              this.debug = !1;
              this._curInst = null ;
              this._keyEvent = !1;
              this._disabledInputs = [];
              this._datepickerShowing = !1;
              this._inDialog = !1;
              this._mainDivId = "ui-datepicker-div";
              this._inlineClass = "ui-datepicker-inline";
              this._appendClass = "ui-datepicker-append";
              this._triggerClass = "ui-datepicker-trigger";
              this._dialogClass = "ui-datepicker-dialog";
              this._disableClass = "ui-datepicker-disabled";
              this._unselectableClass = "ui-datepicker-unselectable";
              this._currentClass = "ui-datepicker-current-day";
              this._dayOverClass = "ui-datepicker-days-cell-over";
              this.regional = [];
              this.regional[""] = {
                  calendar: Date,
                  closeText: "Done",
                  prevText: "Prev",
                  nextText: "Next",
                  currentText: "Today",
                  monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                  monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                  dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                  dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                  dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                  weekHeader: "Wk",
                  dateFormat: "mm/dd/yy",
                  firstDay: 0,
                  isRTL: !1,
                  showMonthAfterYear: !1,
                  yearSuffix: ""
              };
              this._defaults = {
                  showOn: "focus",
                  showAnim: "fadeIn",
                  showOptions: {},
                  defaultDate: null ,
                  appendText: "",
                  buttonText: "...",
                  buttonImage: "",
                  buttonImageOnly: !1,
                  hideIfNoPrevNext: !1,
                  navigationAsDateFormat: !1,
                  gotoCurrent: !1,
                  changeMonth: !1,
                  changeYear: !1,
                  yearRange: "c-10:c+10",
                  showOtherMonths: !1,
                  selectOtherMonths: !1,
                  showWeek: !1,
                  calculateWeek: this.iso8601Week,
                  shortYearCutoff: "+10",
                  minDate: null ,
                  maxDate: null ,
                  duration: "fast",
                  beforeShowDay: null ,
                  beforeShow: null ,
                  onSelect: null ,
                  onChangeMonthYear: null ,
                  onClose: null ,
                  numberOfMonths: 1,
                  showCurrentAtPos: 0,
                  stepMonths: 1,
                  stepBigMonths: 12,
                  altField: "",
                  altFormat: "",
                  constrainInput: !0,
                  showButtonPanel: !1,
                  autoSize: !1,
                  disabled: !1
              };
              n.extend(this._defaults, this.regional[""]);
              this.dpDiv = o(n('<div id="' + this._mainDivId + '" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\\/div>'))
          }
          function o(t) {
              var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
              return t.delegate(i, "mouseout", function() {
                  n(this).removeClass("ui-state-hover");
                  this.className.indexOf("ui-datepicker-prev") != -1 && n(this).removeClass("ui-datepicker-prev-hover");
                  this.className.indexOf("ui-datepicker-next") != -1 && n(this).removeClass("ui-datepicker-next-hover")
              }).delegate(i, "mouseover", function() {
                  n.datepicker._isDisabledDatepicker(f.inline ? t.parent()[0] : f.input[0]) || (n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
                  n(this).addClass("ui-state-hover"),
                  this.className.indexOf("ui-datepicker-prev") != -1 && n(this).addClass("ui-datepicker-prev-hover"),
                  this.className.indexOf("ui-datepicker-next") != -1 && n(this).addClass("ui-datepicker-next-hover"))
              })
          }
          function u(i, r) {
              n.extend(i, r);
              for (var u in r)
                  (r[u] == null || r[u] == t) && (i[u] = r[u]);
              return i
          }
          n.extend(n.ui, {
              datepicker: {
                  version: "1.9.1"
              }
          });
          var i = "datepicker", r = (new Date).getTime(), f;
          n.extend(e.prototype, {
              markerClassName: "hasDatepicker",
              maxRows: 4,
              log: function() {
                  this.debug && console.log.apply("", arguments)
              },
              _widgetDatepicker: function() {
                  return this.dpDiv
              },
              setDefaults: function(n) {
                  return u(this._defaults, n || {}),
                  this
              },
              _attachDatepicker: function(target, settings) {
                  var inlineSettings = null , attrName, attrValue, nodeName, inline, inst, regional;
                  for (attrName in this._defaults)
                      if (attrValue = target.getAttribute("date:" + attrName),
                      attrValue) {
                          inlineSettings = inlineSettings || {};
                          try {
                              inlineSettings[attrName] = eval(attrValue)
                          } catch (err) {
                              inlineSettings[attrName] = attrValue
                          }
                      }
                  nodeName = target.nodeName.toLowerCase();
                  inline = nodeName == "div" || nodeName == "span";
                  target.id || (this.uuid += 1,
                  target.id = "dp" + this.uuid);
                  inst = this._newInst(n(target), inline);
                  regional = n.extend({}, settings && this.regional[settings.regional] || {});
                  inst.settings = n.extend(regional, settings || {}, inlineSettings || {});
                  nodeName == "input" ? this._connectDatepicker(target, inst) : inline && this._inlineDatepicker(target, inst)
              },
              _newInst: function(t, i) {
                  var r = t[0].id.replace(/([^A-Za-z0-9_-])/g, "\\\\\\\\$1");
                  return {
                      id: r,
                      input: t,
                      selectedDay: 0,
                      selectedMonth: 0,
                      selectedYear: 0,
                      drawMonth: 0,
                      drawYear: 0,
                      inline: i,
                      dpDiv: i ? o(n('<div class="' + this._inlineClass + ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\\/div>')) : this.dpDiv
                  }
              },
              _connectDatepicker: function(t, r) {
                  var u = n(t);
                  (r.append = n([]),
                  r.trigger = n([]),
                  u.hasClass(this.markerClassName)) || (this._attachments(u, r),
                  u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker", function(n, t, i) {
                      r.settings[t] = i
                  }).bind("getData.datepicker", function(n, t) {
                      return this._get(r, t)
                  }),
                  this._autoSize(r),
                  n.data(t, i, r),
                  r.settings.disabled && this._disableDatepicker(t))
              },
              _attachments: function(t, i) {
                  var e = this._get(i, "appendText"), o = !1, u, r, f;
                  i.append && i.append.remove();
                  e && (i.append = n('<span class="' + this._appendClass + '">' + e + "<\\/span>"),
                  t[o ? "before" : "after"](i.append));
                  t.unbind("focus", this._showDatepicker);
                  i.trigger && i.trigger.remove();
                  u = this._get(i, "showOn");
                  (u == "focus" || u == "both") && t.focus(this._showDatepicker);
                  (u == "button" || u == "both") && (r = this._get(i, "buttonText"),
                  f = this._get(i, "buttonImage"),
                  i.trigger = n(this._get(i, "buttonImageOnly") ? n("<img/>").addClass(this._triggerClass).attr({
                      src: f,
                      alt: r,
                      title: r
                  }) : n('<button type="button"><\\/button>').addClass(this._triggerClass).html(f == "" ? r : n("<img/>").attr({
                      src: f,
                      alt: r,
                      title: r
                  }))),
                  t[o ? "before" : "after"](i.trigger),
                  i.trigger.click(function() {
                      return n.datepicker._datepickerShowing && n.datepicker._lastInput == t[0] ? n.datepicker._hideDatepicker() : n.datepicker._datepickerShowing && n.datepicker._lastInput != t[0] ? (n.datepicker._hideDatepicker(),
                      n.datepicker._showDatepicker(t[0])) : n.datepicker._showDatepicker(t[0]),
                      !1
                  }))
              },
              _autoSize: function(n) {
                  var t, i, r;
                  this._get(n, "autoSize") && !n.inline && (t = new Date(2009,11,20),
                  i = this._get(n, "dateFormat"),
                  i.match(/[DM]/) && (r = function(n) {
                      for (var i = 0, r = 0, t = 0; t < n.length; t++)
                          n[t].length > i && (i = n[t].length,
                          r = t);
                      return r
                  }
                  ,
                  t.setMonth(r(this._get(n, i.match(/MM/) ? "monthNames" : "monthNamesShort"))),
                  t.setDate(r(this._get(n, i.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - t.getDay())),
                  n.input.attr("size", this._formatDate(n, t).length))
              },
              _inlineDatepicker: function(t, r) {
                  var u = n(t);
                  u.hasClass(this.markerClassName) || (u.addClass(this.markerClassName).append(r.dpDiv).bind("setData.datepicker", function(n, t, i) {
                      r.settings[t] = i
                  }).bind("getData.datepicker", function(n, t) {
                      return this._get(r, t)
                  }),
                  n.data(t, i, r),
                  this._setDate(r, this._getDefaultDate(r), !0),
                  this._updateDatepicker(r),
                  this._updateAlternate(r),
                  r.settings.disabled && this._disableDatepicker(t),
                  r.dpDiv.css("display", "block"))
              },
              _dialogDatepicker: function(t, r, f, e, o) {
                  var s = this._dialogInst, h;
                  if (s || (this.uuid += 1,
                  h = "dp" + this.uuid,
                  this._dialogInput = n('<input type="text" id="' + h + '" style="position: absolute; top: -100px; width: 0px;"/>'),
                  this._dialogInput.keydown(this._doKeyDown),
                  n("body").append(this._dialogInput),
                  s = this._dialogInst = this._newInst(this._dialogInput, !1),
                  s.settings = {},
                  n.data(this._dialogInput[0], i, s)),
                  u(s.settings, e || {}),
                  r = r && r.constructor == Date ? this._formatDate(s, r) : r,
                  this._dialogInput.val(r),
                  this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null ,
                  !this._pos) {
                      var c = document.documentElement.clientWidth
                        , l = document.documentElement.clientHeight
                        , a = document.documentElement.scrollLeft || document.body.scrollLeft
                        , v = document.documentElement.scrollTop || document.body.scrollTop;
                      this._pos = [c / 2 - 100 + a, l / 2 - 150 + v]
                  }
                  return this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
                  s.settings.onSelect = f,
                  this._inDialog = !0,
                  this.dpDiv.addClass(this._dialogClass),
                  this._showDatepicker(this._dialogInput[0]),
                  n.blockUI && n.blockUI(this.dpDiv),
                  n.data(this._dialogInput[0], i, s),
                  this
              },
              _destroyDatepicker: function(t) {
                  var u = n(t), f = n.data(t, i), r;
                  u.hasClass(this.markerClassName) && (r = t.nodeName.toLowerCase(),
                  n.removeData(t, i),
                  r == "input" ? (f.append.remove(),
                  f.trigger.remove(),
                  u.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : (r == "div" || r == "span") && u.removeClass(this.markerClassName).empty())
              },
              _enableDatepicker: function(t) {
                  var f = n(t), e = n.data(t, i), r, u;
                  f.hasClass(this.markerClassName) && (r = t.nodeName.toLowerCase(),
                  r == "input" ? (t.disabled = !1,
                  e.trigger.filter("button").each(function() {
                      this.disabled = !1
                  }).end().filter("img").css({
                      opacity: "1.0",
                      cursor: ""
                  })) : (r == "div" || r == "span") && (u = f.children("." + this._inlineClass),
                  u.children().removeClass("ui-state-disabled"),
                  u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)),
                  this._disabledInputs = n.map(this._disabledInputs, function(n) {
                      return n == t ? null : n
                  }))
              },
              _disableDatepicker: function(t) {
                  var f = n(t), e = n.data(t, i), r, u;
                  f.hasClass(this.markerClassName) && (r = t.nodeName.toLowerCase(),
                  r == "input" ? (t.disabled = !0,
                  e.trigger.filter("button").each(function() {
                      this.disabled = !0
                  }).end().filter("img").css({
                      opacity: "0.5",
                      cursor: "default"
                  })) : (r == "div" || r == "span") && (u = f.children("." + this._inlineClass),
                  u.children().addClass("ui-state-disabled"),
                  u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)),
                  this._disabledInputs = n.map(this._disabledInputs, function(n) {
                      return n == t ? null : n
                  }),
                  this._disabledInputs[this._disabledInputs.length] = t)
              },
              _isDisabledDatepicker: function(n) {
                  if (!n)
                      return !1;
                  for (var t = 0; t < this._disabledInputs.length; t++)
                      if (this._disabledInputs[t] == n)
                          return !0;
                  return !1
              },
              _getInst: function(t) {
                  try {
                      return n.data(t, i)
                  } catch (r) {
                      throw "Missing instance data for this datepicker";
                  }
              },
              _optionDatepicker: function(i, r, f) {
                  var e = this._getInst(i), o;
                  if (arguments.length == 2 && typeof r == "string")
                      return r == "defaults" ? n.extend({}, n.datepicker._defaults) : e ? r == "all" ? n.extend({}, e.settings) : this._get(e, r) : null ;
                  if (o = r || {},
                  typeof r == "string" && (o = {},
                  o[r] = f),
                  e) {
                      this._curInst == e && this._hideDatepicker();
                      var c = this._getDateDatepicker(i, !0)
                        , s = this._getMinMaxDate(e, "min")
                        , h = this._getMinMaxDate(e, "max");
                      u(e.settings, o);
                      s !== null && o.dateFormat !== t && o.minDate === t && (e.settings.minDate = this._formatDate(e, s));
                      h !== null && o.dateFormat !== t && o.maxDate === t && (e.settings.maxDate = this._formatDate(e, h));
                      this._attachments(n(i), e);
                      this._autoSize(e);
                      this._setDate(e, c);
                      this._updateAlternate(e);
                      this._updateDatepicker(e)
                  }
              },
              _changeDatepicker: function(n, t, i) {
                  this._optionDatepicker(n, t, i)
              },
              _refreshDatepicker: function(n) {
                  var t = this._getInst(n);
                  t && this._updateDatepicker(t)
              },
              _setDateDatepicker: function(n, t) {
                  var i = this._getInst(n);
                  i && (this._setDate(i, t),
                  this._updateDatepicker(i),
                  this._updateAlternate(i))
              },
              _getDateDatepicker: function(n, t) {
                  var i = this._getInst(n);
                  return i && !i.inline && this._setDateFromField(i, t),
                  i ? this._getDate(i) : null
              },
              _doKeyDown: function(t) {
                  var i = n.datepicker._getInst(t.target), r = !0, e = i.dpDiv.is(".ui-datepicker-rtl"), u, f, o;
                  if (i._keyEvent = !0,
                  n.datepicker._datepickerShowing)
                      switch (t.keyCode) {
                      case 9:
                          n.datepicker._hideDatepicker();
                          r = !1;
                          break;
                      case 13:
                          return u = n("td." + n.datepicker._dayOverClass + ":not(." + n.datepicker._currentClass + ")", i.dpDiv),
                          u[0] && n.datepicker._selectDay(t.target, i.selectedMonth, i.selectedYear, u[0]),
                          f = n.datepicker._get(i, "onSelect"),
                          f ? (o = n.datepicker._formatDate(i),
                          f.apply(i.input ? i.input[0] : null , [o, i])) : n.datepicker._hideDatepicker(),
                          !1;
                      case 27:
                          n.datepicker._hideDatepicker();
                          break;
                      case 33:
                          n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M");
                          break;
                      case 34:
                          n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M");
                          break;
                      case 35:
                          (t.ctrlKey || t.metaKey) && n.datepicker._clearDate(t.target);
                          r = t.ctrlKey || t.metaKey;
                          break;
                      case 36:
                          (t.ctrlKey || t.metaKey) && n.datepicker._gotoToday(t.target);
                          r = t.ctrlKey || t.metaKey;
                          break;
                      case 37:
                          (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, e ? 1 : -1, "D");
                          r = t.ctrlKey || t.metaKey;
                          t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M");
                          break;
                      case 38:
                          (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, -7, "D");
                          r = t.ctrlKey || t.metaKey;
                          break;
                      case 39:
                          (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, e ? -1 : 1, "D");
                          r = t.ctrlKey || t.metaKey;
                          t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M");
                          break;
                      case 40:
                          (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, 7, "D");
                          r = t.ctrlKey || t.metaKey;
                          break;
                      default:
                          r = !1
                      }
                  else
                      t.keyCode == 36 && t.ctrlKey ? n.datepicker._showDatepicker(this) : r = !1;
                  r && (t.preventDefault(),
                  t.stopPropagation())
              },
              _doKeyPress: function(i) {
                  var f = n.datepicker._getInst(i.target), r, u;
                  if (n.datepicker._get(f, "constrainInput"))
                      return r = n.datepicker._possibleChars(n.datepicker._get(f, "dateFormat")),
                      u = String.fromCharCode(i.charCode == t ? i.keyCode : i.charCode),
                      i.ctrlKey || i.metaKey || u < " " || !r || r.indexOf(u) > -1
              },
              _doKeyUp: function(t) {
                  var i = n.datepicker._getInst(t.target), r;
                  if (i.input.val() != i.lastVal)
                      try {
                          r = n.datepicker.parseDate(n.datepicker._get(i, "dateFormat"), i.input ? i.input.val() : null , n.datepicker._getFormatConfig(i));
                          r && (n.datepicker._setDateFromField(i),
                          n.datepicker._updateAlternate(i),
                          n.datepicker._updateDatepicker(i))
                      } catch (u) {
                          n.datepicker.log(u)
                      }
                  return !0
              },
              _showDatepicker: function(t) {
                  var i, o, s, f, e;
                  if ((t = t.target || t,
                  t.nodeName.toLowerCase() != "input" && (t = n("input", t.parentNode)[0]),
                  !n.datepicker._isDisabledDatepicker(t) && n.datepicker._lastInput != t) && (i = n.datepicker._getInst(t),
                  n.datepicker._curInst && n.datepicker._curInst != i && (n.datepicker._curInst.dpDiv.stop(!0, !0),
                  i && n.datepicker._datepickerShowing && n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),
                  o = n.datepicker._get(i, "beforeShow"),
                  s = o ? o.apply(t, [t, i]) : {},
                  s !== !1) && (u(i.settings, s),
                  i.lastVal = null ,
                  n.datepicker._lastInput = t,
                  n.datepicker._setDateFromField(i),
                  n.datepicker._inDialog && (t.value = ""),
                  n.datepicker._pos || (n.datepicker._pos = n.datepicker._findPos(t),
                  n.datepicker._pos[1] += t.offsetHeight),
                  f = !1,
                  n(t).parents().each(function() {
                      return f |= n(this).css("position") == "fixed",
                      !f
                  }),
                  e = {
                      left: n.datepicker._pos[0],
                      top: n.datepicker._pos[1]
                  },
                  n.datepicker._pos = null ,
                  i.dpDiv.empty(),
                  i.dpDiv.css({
                      position: "absolute",
                      display: "block",
                      top: "-1000px"
                  }),
                  n.datepicker._updateDatepicker(i),
                  e = n.datepicker._checkOffset(i, e, f),
                  i.dpDiv.css({
                      position: n.datepicker._inDialog && n.blockUI ? "static" : f ? "fixed" : "absolute",
                      display: "none",
                      left: e.left + "px",
                      top: e.top + "px"
                  }),
                  !i.inline)) {
                      var r = n.datepicker._get(i, "showAnim")
                        , h = n.datepicker._get(i, "duration")
                        , c = function() {
                          var r = i.dpDiv.find("iframe.ui-datepicker-cover"), t;
                          !r.length || (t = n.datepicker._getBorders(i.dpDiv),
                          r.css({
                              left: -t[0],
                              top: -t[1],
                              width: i.dpDiv.outerWidth(),
                              height: i.dpDiv.outerHeight()
                          }))
                      };
                      i.dpDiv.zIndex(n(t).zIndex() + 1);
                      n.datepicker._datepickerShowing = !0;
                      n.effects && (n.effects.effect[r] || n.effects[r]) ? i.dpDiv.show(r, n.datepicker._get(i, "showOptions"), h, c) : i.dpDiv[r || "show"](r ? h : null , c);
                      r && h || c();
                      i.input.is(":visible") && !i.input.is(":disabled") && i.input.focus();
                      n.datepicker._curInst = i
                  }
              },
              _updateDatepicker: function(t) {
                  var i, r, o;
                  this.maxRows = 4;
                  i = n.datepicker._getBorders(t.dpDiv);
                  f = t;
                  t.dpDiv.empty().append(this._generateHTML(t));
                  this._attachHandlers(t);
                  r = t.dpDiv.find("iframe.ui-datepicker-cover");
                  !r.length || r.css({
                      left: -i[0],
                      top: -i[1],
                      width: t.dpDiv.outerWidth(),
                      height: t.dpDiv.outerHeight()
                  });
                  t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
                  var u = this._getNumberOfMonths(t)
                    , e = u[1];
                  t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
                  e > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + e).css("width", 17 * e + "em");
                  t.dpDiv[(u[0] != 1 || u[1] != 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi");
                  t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
                  t == n.datepicker._curInst && n.datepicker._datepickerShowing && t.input && t.input.is(":visible") && !t.input.is(":disabled") && t.input[0] != document.activeElement && t.input.focus();
                  t.yearshtml && (o = t.yearshtml,
                  setTimeout(function() {
                      o === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);
                      o = t.yearshtml = null
                  }, 0))
              },
              _getBorders: function(n) {
                  var t = function(n) {
                      return {
                          thin: 1,
                          medium: 2,
                          thick: 3
                      }[n] || n
                  };
                  return [parseFloat(t(n.css("border-left-width"))), parseFloat(t(n.css("border-top-width")))]
              },
              _checkOffset: function(t, i, r) {
                  var u = t.dpDiv.outerWidth()
                    , f = t.dpDiv.outerHeight()
                    , h = t.input ? t.input.outerWidth() : 0
                    , o = t.input ? t.input.outerHeight() : 0
                    , e = document.documentElement.clientWidth + (r ? 0 : n(document).scrollLeft())
                    , s = document.documentElement.clientHeight + (r ? 0 : n(document).scrollTop());
                  return i.left -= this._get(t, "isRTL") ? u - h : 0,
                  i.left -= r && i.left == t.input.offset().left ? n(document).scrollLeft() : 0,
                  i.top -= r && i.top == t.input.offset().top + o ? n(document).scrollTop() : 0,
                  i.left -= Math.min(i.left, i.left + u > e && e > u ? Math.abs(i.left + u - e) : 0),
                  i.top -= Math.min(i.top, i.top + f > s && s > f ? Math.abs(f + o) : 0),
                  i
              },
              _findPos: function(t) {
                  for (var r = this._getInst(t), u = this._get(r, "isRTL"), i; t && (t.type == "hidden" || t.nodeType != 1 || n.expr.filters.hidden(t)); )
                      t = t[u ? "previousSibling" : "nextSibling"];
                  return i = n(t).offset(),
                  [i.left, i.top]
              },
              _hideDatepicker: function(t) {
                  var r = this._curInst, e;
                  if (r && (!t || r == n.data(t, i)) && this._datepickerShowing) {
                      var u = this._get(r, "showAnim")
                        , o = this._get(r, "duration")
                        , f = function() {
                          n.datepicker._tidyDialog(r)
                      };
                      n.effects && (n.effects.effect[u] || n.effects[u]) ? r.dpDiv.hide(u, n.datepicker._get(r, "showOptions"), o, f) : r.dpDiv[u == "slideDown" ? "slideUp" : u == "fadeIn" ? "fadeOut" : "hide"](u ? o : null , f);
                      u || f();
                      this._datepickerShowing = !1;
                      e = this._get(r, "onClose");
                      e && e.apply(r.input ? r.input[0] : null , [r.input ? r.input.val() : "", r]);
                      this._lastInput = null ;
                      this._inDialog && (this._dialogInput.css({
                          position: "absolute",
                          left: "0",
                          top: "-100px"
                      }),
                      n.blockUI && (n.unblockUI(),
                      n("body").append(this.dpDiv)));
                      this._inDialog = !1
                  }
              },
              _tidyDialog: function(n) {
                  n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
              },
              _checkExternalClick: function(t) {
                  if (n.datepicker._curInst) {
                      var i = n(t.target)
                        , r = n.datepicker._getInst(i[0]);
                      (i[0].id == n.datepicker._mainDivId || i.parents("#" + n.datepicker._mainDivId).length != 0 || i.hasClass(n.datepicker.markerClassName) || i.closest("." + n.datepicker._triggerClass).length || !n.datepicker._datepickerShowing || n.datepicker._inDialog && n.blockUI) && (!i.hasClass(n.datepicker.markerClassName) || n.datepicker._curInst == r) || n.datepicker._hideDatepicker()
                  }
              },
              _adjustDate: function(t, i, r) {
                  var f = n(t)
                    , u = this._getInst(f[0]);
                  this._isDisabledDatepicker(f[0]) || (this._adjustInstDate(u, i + (r == "M" ? this._get(u, "showCurrentAtPos") : 0), r),
                  this._updateDatepicker(u))
              },
              _gotoToday: function(t) {
                  var u = n(t), i = this._getInst(u[0]), r;
                  this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay,
                  i.drawMonth = i.selectedMonth = i.currentMonth,
                  i.drawYear = i.selectedYear = i.currentYear) : (r = new this.CDate,
                  i.selectedDay = r.getDate(),
                  i.drawMonth = i.selectedMonth = r.getMonth(),
                  i.drawYear = i.selectedYear = r.getFullYear());
                  this._notifyChange(i);
                  this._adjustDate(u)
              },
              _selectMonthYear: function(t, i, r) {
                  var f = n(t)
                    , u = this._getInst(f[0]);
                  u["selected" + (r == "M" ? "Month" : "Year")] = u["draw" + (r == "M" ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10);
                  this._notifyChange(u);
                  this._adjustDate(f)
              },
              _selectDay: function(t, i, r, u) {
                  var e = n(t), f;
                  n(u).hasClass(this._unselectableClass) || this._isDisabledDatepicker(e[0]) || (f = this._getInst(e[0]),
                  f.selectedDay = f.currentDay = n("a", u).html(),
                  f.selectedMonth = f.currentMonth = i,
                  f.selectedYear = f.currentYear = r,
                  this._selectDate(t, this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear)))
              },
              _clearDate: function(t) {
                  var i = n(t)
                    , r = this._getInst(i[0]);
                  this._selectDate(i, "")
              },
              _selectDate: function(t, i) {
                  var f = n(t), r = this._getInst(f[0]), u;
                  i = i != null ? i : this._formatDate(r);
                  r.input && r.input.val(i);
                  this._updateAlternate(r);
                  u = this._get(r, "onSelect");
                  u ? u.apply(r.input ? r.input[0] : null , [i, r]) : r.input && r.input.trigger("change");
                  r.inline ? this._updateDatepicker(r) : (this._hideDatepicker(),
                  this._lastInput = r.input[0],
                  typeof r.input[0] != "object" && r.input.focus(),
                  this._lastInput = null )
              },
              _updateAlternate: function(t) {
                  var i = this._get(t, "altField");
                  if (i) {
                      var r = this._get(t, "altFormat") || this._get(t, "dateFormat")
                        , u = this._getDate(t)
                        , f = this.formatDate(r, u, this._getFormatConfig(t));
                      n(i).each(function() {
                          n(this).val(f)
                      })
                  }
              },
              noWeekends: function(n) {
                  var t = n.getDay();
                  return [t > 0 && t < 6, ""]
              },
              iso8601Week: function(n) {
                  var t = new Date(n.getTime()), i;
                  return t.setDate(t.getDate() + 4 - (t.getDay() || 7)),
                  i = t.getTime(),
                  t.setMonth(0),
                  t.setDate(1),
                  Math.floor(Math.round((i - t) / 864e5) / 7) + 1
              },
              parseDate: function(t, i, r) {
                  var c, s, w, b, u;
                  if (t == null || i == null )
                      throw "Invalid arguments";
                  if (i = typeof i == "object" ? i.toString() : i + "",
                  i == "")
                      return null ;
                  c = (r ? r.shortYearCutoff : null ) || this._defaults.shortYearCutoff;
                  c = typeof c != "string" ? c : (new this.CDate).getFullYear() % 100 + parseInt(c, 10);
                  var d = (r ? r.dayNamesShort : null ) || this._defaults.dayNamesShort
                    , g = (r ? r.dayNames : null ) || this._defaults.dayNames
                    , nt = (r ? r.monthNamesShort : null ) || this._defaults.monthNamesShort
                    , tt = (r ? r.monthNames : null ) || this._defaults.monthNames
                    , f = -1
                    , o = -1
                    , h = -1
                    , v = -1
                    , y = !1
                    , a = function(n) {
                      var i = s + 1 < t.length && t.charAt(s + 1) == n;
                      return i && s++,
                      i
                  }
                    , l = function(n) {
                      var r = a(n)
                        , u = n == "@" ? 14 : n == "!" ? 20 : n == "y" && r ? 4 : n == "o" ? 3 : 2
                        , f = new RegExp("^\\\\d{1," + u + "}")
                        , t = i.substring(e).match(f);
                      if (!t)
                          throw "Missing number at position " + e;
                      return e += t[0].length,
                      parseInt(t[0], 10)
                  }
                    , k = function(t, r, u) {
                      var o = n.map(a(t) ? u : r, function(n, t) {
                          return [[t, n]]
                      }).sort(function(n, t) {
                          return -(n[1].length - t[1].length)
                      })
                        , f = -1;
                      if (n.each(o, function(n, t) {
                          var r = t[1];
                          if (i.substr(e, r.length).toLowerCase() == r.toLowerCase())
                              return f = t[0],
                              e += r.length,
                              !1
                      }),
                      f != -1)
                          return f + 1;
                      throw "Unknown name at position " + e;
                  }
                    , p = function() {
                      if (i.charAt(e) != t.charAt(s))
                          throw "Unexpected literal at position " + e;
                      e++
                  }
                    , e = 0;
                  for (s = 0; s < t.length; s++)
                      if (y)
                          t.charAt(s) != "'" || a("'") ? p() : y = !1;
                      else
                          switch (t.charAt(s)) {
                          case "d":
                              h = l("d");
                              break;
                          case "D":
                              k("D", d, g);
                              break;
                          case "o":
                              v = l("o");
                              break;
                          case "m":
                              o = l("m");
                              break;
                          case "M":
                              o = k("M", nt, tt);
                              break;
                          case "y":
                              f = l("y");
                              break;
                          case "@":
                              u = new this.CDate(l("@"));
                              f = u.getFullYear();
                              o = u.getMonth() + 1;
                              h = u.getDate();
                              break;
                          case "!":
                              u = new Date((l("!") - this._ticksTo1970) / 1e4);
                              f = u.getFullYear();
                              o = u.getMonth() + 1;
                              h = u.getDate();
                              break;
                          case "'":
                              a("'") ? p() : y = !0;
                              break;
                          default:
                              p()
                          }
                  if (e < i.length && (w = i.substr(e),
                  !/^\\s+/.test(w)))
                      throw "Extra/unparsed characters found in date: " + w;
                  if (f == -1 ? f = (new this.CDate).getFullYear() : f < 100 && (f += (new this.CDate).getFullYear() - (new this.CDate).getFullYear() % 100 + (f <= c ? 0 : -100)),
                  v > -1) {
                      o = 1;
                      h = v;
                      do {
                          if (b = this._getDaysInMonth(f, o - 1),
                          h <= b)
                              break;
                          o++;
                          h -= b
                      } while (1)
                  }
                  if (u = this._daylightSavingAdjust(new this.CDate(f,o - 1,h)),
                  u.getFullYear() != f || u.getMonth() + 1 != o || u.getDate() != h)
                      throw "Invalid date";
                  return u
              },
              ATOM: "yy-mm-dd",
              COOKIE: "D, dd M yy",
              ISO_8601: "yy-mm-dd",
              RFC_822: "D, d M y",
              RFC_850: "DD, dd-M-y",
              RFC_1036: "D, d M y",
              RFC_1123: "D, d M yy",
              RFC_2822: "D, d M yy",
              RSS: "D, d M y",
              TICKS: "!",
              TIMESTAMP: "@",
              W3C: "yy-mm-dd",
              _ticksTo1970: (718685 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 864e9,
              formatDate: function(n, t, i) {
                  var u;
                  if (!t)
                      return "";
                  var h = (i ? i.dayNamesShort : null ) || this._defaults.dayNamesShort
                    , c = (i ? i.dayNames : null ) || this._defaults.dayNames
                    , l = (i ? i.monthNamesShort : null ) || this._defaults.monthNamesShort
                    , a = (i ? i.monthNames : null ) || this._defaults.monthNames
                    , f = function(t) {
                      var i = u + 1 < n.length && n.charAt(u + 1) == t;
                      return i && u++,
                      i
                  }
                    , e = function(n, t, i) {
                      var r = "" + t;
                      if (f(n))
                          while (r.length < i)
                              r = "0" + r;
                      return r
                  }
                    , s = function(n, t, i, r) {
                      return f(n) ? r[t] : i[t]
                  }
                    , r = ""
                    , o = !1;
                  if (t)
                      for (u = 0; u < n.length; u++)
                          if (o)
                              n.charAt(u) != "'" || f("'") ? r += n.charAt(u) : o = !1;
                          else
                              switch (n.charAt(u)) {
                              case "d":
                                  r += e("d", t.getDate(), 2);
                                  break;
                              case "D":
                                  r += s("D", t.getDay(), h, c);
                                  break;
                              case "o":
                                  r += e("o", Math.round((new this.CDate(t.getFullYear(),t.getMonth(),t.getDate()).getTime() - new this.CDate(t.getFullYear(),0,0).getTime()) / 864e5), 3);
                                  break;
                              case "m":
                                  r += e("m", t.getMonth() + 1, 2);
                                  break;
                              case "M":
                                  r += s("M", t.getMonth(), l, a);
                                  break;
                              case "y":
                                  r += f("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;
                                  break;
                              case "@":
                                  r += t.getTime();
                                  break;
                              case "!":
                                  r += t.getTime() * 1e4 + this._ticksTo1970;
                                  break;
                              case "'":
                                  f("'") ? r += "'" : o = !0;
                                  break;
                              default:
                                  r += n.charAt(u)
                              }
                  return r
              },
              _possibleChars: function(n) {
                  for (var i = "", r = !1, u = function(i) {
                      var r = t + 1 < n.length && n.charAt(t + 1) == i;
                      return r && t++,
                      r
                  }, t = 0; t < n.length; t++)
                      if (r)
                          n.charAt(t) != "'" || u("'") ? i += n.charAt(t) : r = !1;
                      else
                          switch (n.charAt(t)) {
                          case "d":
                          case "m":
                          case "y":
                          case "@":
                              i += "0123456789";
                              break;
                          case "D":
                          case "M":
                              return null ;
                          case "'":
                              u("'") ? i += "'" : r = !0;
                              break;
                          default:
                              i += n.charAt(t)
                          }
                  return i
              },
              _get: function(n, i) {
                  return n.settings[i] !== t ? n.settings[i] : this._defaults[i]
              },
              _setDateFromField: function(n, t) {
                  var u, r, i, f, e;
                  if (n.input.val() != n.lastVal) {
                      u = this._get(n, "dateFormat");
                      r = n.lastVal = n.input ? n.input.val() : null ;
                      i = f = this._getDefaultDate(n);
                      e = this._getFormatConfig(n);
                      try {
                          i = this.parseDate(u, r, e) || f
                      } catch (o) {
                          this.log(o);
                          r = t ? "" : r
                      }
                      n.selectedDay = i.getDate();
                      n.drawMonth = n.selectedMonth = i.getMonth();
                      n.drawYear = n.selectedYear = i.getFullYear();
                      n.currentDay = r ? i.getDate() : 0;
                      n.currentMonth = r ? i.getMonth() : 0;
                      n.currentYear = r ? i.getFullYear() : 0;
                      this._adjustInstDate(n)
                  }
              },
              _getDefaultDate: function(n) {
                  return this.CDate = this._get(n, "calendar"),
                  this._restrictMinMax(n, this._determineDate(n, this._get(n, "defaultDate"), new this.CDate))
              },
              _determineDate: function(t, i, r) {
                  var f = this.CDate
                    , e = function(n) {
                      var t = new f;
                      return t.setDate(t.getDate() + n),
                      t
                  }
                    , o = function(i) {
                      try {
                          return n.datepicker.parseDate(n.datepicker._get(t, "dateFormat"), i, n.datepicker._getFormatConfig(t))
                      } catch (c) {}
                      for (var s = (i.toLowerCase().match(/^c/) ? n.datepicker._getDate(t) : null ) || new f, e = s.getFullYear(), o = s.getMonth(), r = s.getDate(), h = /([+-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g, u = h.exec(i); u; ) {
                          switch (u[2] || "d") {
                          case "d":
                          case "D":
                              r += parseInt(u[1], 10);
                              break;
                          case "w":
                          case "W":
                              r += parseInt(u[1], 10) * 7;
                              break;
                          case "m":
                          case "M":
                              o += parseInt(u[1], 10);
                              r = Math.min(r, n.datepicker._getDaysInMonth(e, o));
                              break;
                          case "y":
                          case "Y":
                              e += parseInt(u[1], 10);
                              r = Math.min(r, n.datepicker._getDaysInMonth(e, o))
                          }
                          u = h.exec(i)
                      }
                      return new f(e,o,r)
                  }
                    , u = i == null || i === "" ? r : typeof i == "string" ? o(i) : typeof i == "number" ? isNaN(i) ? r : e(i) : new f(i.getTime());
                  return u = u && u.toString() == "Invalid Date" ? r : u,
                  u && (u.setHours(0),
                  u.setMinutes(0),
                  u.setSeconds(0),
                  u.setMilliseconds(0)),
                  this._daylightSavingAdjust(u)
              },
              _daylightSavingAdjust: function(n) {
                  return n ? (n.setHours(n.getHours() > 12 ? n.getHours() + 2 : 0),
                  n) : null
              },
              _setDate: function(n, t, i) {
                  var u = !t, f = n.selectedMonth, e = n.selectedYear, r;
                  this.CDate = this._get(n, "calendar");
                  r = this._restrictMinMax(n, this._determineDate(n, t, new this.CDate));
                  n.selectedDay = n.currentDay = r.getDate();
                  n.drawMonth = n.selectedMonth = n.currentMonth = r.getMonth();
                  n.drawYear = n.selectedYear = n.currentYear = r.getFullYear();
                  f == n.selectedMonth && e == n.selectedYear || i || this._notifyChange(n);
                  this._adjustInstDate(n);
                  n.input && n.input.val(u ? "" : this._formatDate(n))
              },
              _getDate: function(n) {
                  this.CDate = this._get(n, "calendar");
                  return !n.currentYear || n.input && n.input.val() == "" ? null : this._daylightSavingAdjust(new this.CDate(n.currentYear,n.currentMonth,n.currentDay))
              },
              _attachHandlers: function(t) {
                  var u = this._get(t, "stepMonths")
                    , i = "#" + t.id.replace(/\\\\\\\\/g, "\\\\");
                  t.dpDiv.find("[data-handler]").map(function() {
                      var t = {
                          prev: function() {
                              window["DP_jQuery_" + r].datepicker._adjustDate(i, -u, "M")
                          },
                          next: function() {
                              window["DP_jQuery_" + r].datepicker._adjustDate(i, +u, "M")
                          },
                          hide: function() {
                              window["DP_jQuery_" + r].datepicker._hideDatepicker()
                          },
                          today: function() {
                              window["DP_jQuery_" + r].datepicker._gotoToday(i)
                          },
                          selectDay: function() {
                              return window["DP_jQuery_" + r].datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                              !1
                          },
                          selectMonth: function() {
                              return window["DP_jQuery_" + r].datepicker._selectMonthYear(i, this, "M"),
                              !1
                          },
                          selectYear: function() {
                              return window["DP_jQuery_" + r].datepicker._selectMonthYear(i, this, "Y"),
                              !1
                          }
                      };
                      n(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
                  })
              },
              _generateHTML: function(t) {
                  var h = new this.CDate, d, v, ut, y, p, ot, w, st, ht, ct, r, at, vt, s;
                  h = this._daylightSavingAdjust(new this.CDate(h.getFullYear(),h.getMonth(),h.getDate()));
                  var e = this._get(t, "isRTL")
                    , fi = this._get(t, "showButtonPanel")
                    , pt = this._get(t, "hideIfNoPrevNext")
                    , tt = this._get(t, "navigationAsDateFormat")
                    , o = this._getNumberOfMonths(t)
                    , ei = this._get(t, "showCurrentAtPos")
                    , wt = this._get(t, "stepMonths")
                    , it = o[0] != 1 || o[1] != 1
                    , rt = this._daylightSavingAdjust(t.currentDay ? new this.CDate(t.currentYear,t.currentMonth,t.currentDay) : new Date(9999,9,9))
                    , a = this._getMinMaxDate(t, "min")
                    , c = this._getMinMaxDate(t, "max")
                    , i = t.drawMonth - ei
                    , u = t.drawYear;
                  if (i < 0 && (i += 12,
                  u--),
                  c)
                      for (d = this._daylightSavingAdjust(new this.CDate(c.getFullYear(),c.getMonth() - o[0] * o[1] + 1,c.getDate())),
                      d = a && d < a ? a : d; this._daylightSavingAdjust(new this.CDate(u,i,1)) > d; )
                          i--,
                          i < 0 && (i = 11,
                          u--);
                  t.drawMonth = i;
                  t.drawYear = u;
                  v = this._get(t, "prevText");
                  v = tt ? this.formatDate(v, this._daylightSavingAdjust(new this.CDate(u,i - wt,1)), this._getFormatConfig(t)) : v;
                  ut = this._canAdjustMonth(t, -1, u, i) ? '<a class="ui-datepicker-prev btn btn-link" data-handler="prev" data-event="click" title="' + v + '">' + (e ? '<i class="icon-circle-arrow-right"><\\/i>' : '<i class="icon-circle-arrow-left"><\\/i>') + "<\\/a>" : pt ? "" : '<a class="ui-datepicker-prev btn btn-link ui-state-disabled" title="' + v + '">' + (e ? '<i class="icon-circle-arrow-right"><\\/i>' : '<i class="icon-circle-arrow-left"><\\/i>') + "<\\/a>";
                  y = this._get(t, "nextText");
                  y = tt ? this.formatDate(y, this._daylightSavingAdjust(new this.CDate(u,i + wt,1)), this._getFormatConfig(t)) : y;
                  var bt = this._canAdjustMonth(t, 1, u, i) ? '<a class="ui-datepicker-next btn btn-link" data-handler="next" data-event="click" title="' + y + '">' + (e ? '<i class="icon-circle-arrow-left"><\\/i>' : '<i class="icon-circle-arrow-right"><\\/i>') + "<\\/a>" : pt ? "" : '<a class="ui-datepicker-next btn btn-link ui-state-disabled" title="' + y + '">' + (e ? '<i class="icon-circle-arrow-left"><\\/i>' : '<i class="icon-circle-arrow-right"><\\/i>') + "<\\/a>"
                    , g = this._get(t, "currentText")
                    , kt = this._get(t, "gotoCurrent") && t.currentDay ? rt : h;
                  g = tt ? this.formatDate(g, kt, this._getFormatConfig(t)) : g;
                  var dt = t.inline ? "" : '<button type="button" class="ui-datepicker-close btn" data-handler="hide" data-event="click">' + this._get(t, "closeText") + "<\\/button>"
                    , oi = fi ? '<div class="ui-datepicker-buttonpane ui-helper-clearfix">' + (e ? dt : "") + (this._isInRange(t, kt) ? '<button type="button" class="ui-datepicker-current btn" data-handler="today" data-event="click">' + g + "<\\/button>" : "") + (e ? "" : dt) + "<\\/div>" : ""
                    , l = parseInt(this._get(t, "firstDay"), 10);
                  l = isNaN(l) ? 0 : l;
                  var gt = this._get(t, "showWeek")
                    , si = this._get(t, "dayNames")
                    , vi = this._get(t, "dayNamesShort")
                    , hi = this._get(t, "dayNamesMin")
                    , ci = this._get(t, "monthNames")
                    , li = this._get(t, "monthNamesShort")
                    , ni = this._get(t, "beforeShowDay")
                    , ft = this._get(t, "showOtherMonths")
                    , ai = this._get(t, "selectOtherMonths")
                    , yi = this._get(t, "calculateWeek") || this.iso8601Week
                    , ti = this._getDefaultDate(t)
                    , et = "";
                  for (p = 0; p < o[0]; p++) {
                      for (ot = "",
                      this.maxRows = 4,
                      w = 0; w < o[1]; w++) {
                          var ii = this._daylightSavingAdjust(new this.CDate(u,i,t.selectedDay))
                            , b = " ui-corner-all"
                            , f = "";
                          if (it) {
                              if (f += '<div class="ui-datepicker-group',
                              o[1] > 1)
                                  switch (w) {
                                  case 0:
                                      f += " ui-datepicker-group-first";
                                      b = " ui-corner-" + (e ? "right" : "left");
                                      break;
                                  case o[1] - 1:
                                      f += " ui-datepicker-group-last";
                                      b = " ui-corner-" + (e ? "left" : "right");
                                      break;
                                  default:
                                      f += " ui-datepicker-group-middle";
                                      b = ""
                                  }
                              f += '">'
                          }
                          for (f += '<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix' + b + '">' + (/all|left/.test(b) && p == 0 ? e ? bt : ut : "") + (/all|right/.test(b) && p == 0 ? e ? ut : bt : "") + this._generateMonthYearHeader(t, i, u, a, c, p > 0 || w > 0, ci, li) + '<\\/div><table class="ui-datepicker-calendar"><thead><tr>',
                          st = gt ? '<th class="ui-datepicker-week-col">' + this._get(t, "weekHeader") + "<\\/th>" : "",
                          s = 0; s < 7; s++)
                              ht = (s + l) % 7,
                              st += "<th" + ((s + l + 6) % 7 >= 5 ? ' class="ui-datepicker-week-end"' : "") + '><span title="' + si[ht] + '">' + hi[ht] + "<\\/span><\\/th>";
                          f += st + "<\\/tr><\\/thead><tbody>";
                          ct = this._getDaysInMonth(u, i);
                          u == t.selectedYear && i == t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, ct));
                          var ri = (this._getFirstDayOfMonth(u, i) - l + 7) % 7
                            , lt = Math.ceil((ri + ct) / 7)
                            , ui = it ? this.maxRows > lt ? this.maxRows : lt : lt;
                          for (this.maxRows = ui,
                          r = this._daylightSavingAdjust(new this.CDate(u,i,1 - ri)),
                          at = 0; at < ui; at++) {
                              for (f += "<tr>",
                              vt = gt ? '<td class="ui-datepicker-week-col">' + this._get(t, "calculateWeek")(r) + "<\\/td>" : "",
                              s = 0; s < 7; s++) {
                                  var nt = ni ? ni.apply(t.input ? t.input[0] : null , [r]) : [!0, ""]
                                    , k = r.getMonth() != i
                                    , yt = k && !ai || !nt[0] || a && this._compareDate(r, "<", a) || c && this._compareDate(r, ">", c);
                                  vt += '<td class="' + ((s + l + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (k ? " ui-datepicker-other-month" : "") + (r.getTime() == ii.getTime() && i == t.selectedMonth && t._keyEvent || ti.getTime() == r.getTime() && ti.getTime() == ii.getTime() ? " " + this._dayOverClass : "") + (yt ? " " + this._unselectableClass + " ui-state-disabled" : "") + (k && !ft ? "" : " " + nt[1] + (r.getTime() == rt.getTime() ? " " + this._currentClass : "") + (r.getTime() == h.getTime() ? " ui-datepicker-today" : "")) + '"' + ((!k || ft) && nt[2] ? ' title="' + nt[2] + '"' : "") + (yt ? "" : ' data-handler="selectDay" data-event="click" data-month="' + r.getMonth() + '" data-year="' + r.getFullYear() + '"') + ">" + (k && !ft ? "&#xa0;" : yt ? '<span class="ui-state-default">' + r.getDate() + "<\\/span>" : '<a class="ui-state-default' + (r.getTime() == h.getTime() ? " ui-state-highlight" : "") + (r.getTime() == rt.getTime() ? " ui-state-active" : "") + (k ? " ui-priority-secondary" : "") + '" href="#">' + r.getDate() + "<\\/a>") + "<\\/td>";
                                  r.setDate(r.getDate() + 1);
                                  r = this._daylightSavingAdjust(r)
                              }
                              f += vt + "<\\/tr>"
                          }
                          i++;
                          i > 11 && (i = 0,
                          u++);
                          f += "<\\/tbody><\\/table>" + (it ? "<\\/div>" + (o[0] > 0 && w == o[1] - 1 ? '<div class="ui-datepicker-row-break"><\\/div>' : "") : "");
                          ot += f
                      }
                      et += ot
                  }
                  return et += oi + (n.ui.ie6 && !t.inline ? '<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"><\\/iframe>' : ""),
                  t._keyEvent = !1,
                  et
              },
              _generateMonthYearHeader: function(n, t, i, r, u, f, e, o) {
                  var v = this._get(n, "changeMonth"), y = this._get(n, "changeYear"), p = this._get(n, "showMonthAfterYear"), c = '<div class="ui-datepicker-title">', l = "", w, b, h;
                  if (f || !v)
                      l += '<span class="ui-datepicker-month">' + e[t] + "<\\/span>";
                  else {
                      for (w = r && r.getFullYear() == i,
                      b = u && u.getFullYear() == i,
                      l += '<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',
                      h = 0; h < 12; h++)
                          (!w || h >= r.getMonth()) && (!b || h <= u.getMonth()) && (l += '<option value="' + h + '"' + (h == t ? ' selected="selected"' : "") + ">" + o[h] + "<\\/option>");
                      l += "<\\/select>"
                  }
                  if (p || (c += l + (f || !(v && y) ? "&#xa0;" : "")),
                  !n.yearshtml)
                      if (n.yearshtml = "",
                      f || !y)
                          c += '<span class="ui-datepicker-year">' + i + "<\\/span>";
                      else {
                          var k = this._get(n, "yearRange").split(":")
                            , d = (new this.CDate).getFullYear()
                            , g = function(n) {
                              var t = n.match(/c[+-].*/) ? i + parseInt(n.substring(1), 10) : n.match(/[+-].*/) ? d + parseInt(n, 10) : parseInt(n, 10);
                              return isNaN(t) ? d : t
                          }
                            , s = g(k[0])
                            , a = Math.max(s, g(k[1] || ""));
                          for (s = r ? Math.max(s, r.getFullYear()) : s,
                          a = u ? Math.min(a, u.getFullYear()) : a,
                          n.yearshtml += '<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">'; s <= a; s++)
                              n.yearshtml += '<option value="' + s + '"' + (s == i ? ' selected="selected"' : "") + ">" + s + "<\\/option>";
                          n.yearshtml += "<\\/select>";
                          c += n.yearshtml;
                          n.yearshtml = null
                      }
                  return c += this._get(n, "yearSuffix"),
                  p && (c += (f || !(v && y) ? "&#xa0;" : "") + l),
                  c + "<\\/div>"
              },
              _adjustInstDate: function(n, t, i) {
                  var u = n.drawYear + (i == "Y" ? t : 0)
                    , f = n.drawMonth + (i == "M" ? t : 0)
                    , e = Math.min(n.selectedDay, this._getDaysInMonth(u, f)) + (i == "D" ? t : 0)
                    , r = this._restrictMinMax(n, this._daylightSavingAdjust(new this.CDate(u,f,e)));
                  n.selectedDay = r.getDate();
                  n.drawMonth = n.selectedMonth = r.getMonth();
                  n.drawYear = n.selectedYear = r.getFullYear();
                  (i == "M" || i == "Y") && this._notifyChange(n)
              },
              _restrictMinMax: function(n, t) {
                  var i = this._getMinMaxDate(n, "min")
                    , r = this._getMinMaxDate(n, "max")
                    , u = i && this._compareDate(t, "<", i) ? i : t;
                  return r && this._compareDate(u, ">", r) ? r : u
              },
              _notifyChange: function(n) {
                  var t = this._get(n, "onChangeMonthYear");
                  t && t.apply(n.input ? n.input[0] : null , [n.selectedYear, n.selectedMonth + 1, n])
              },
              _getNumberOfMonths: function(n) {
                  var t = this._get(n, "numberOfMonths");
                  return t == null ? [1, 1] : typeof t == "number" ? [1, t] : t
              },
              _getMinMaxDate: function(n, t) {
                  return this._determineDate(n, this._get(n, t + "Date"), null )
              },
              _getDaysInMonth: function(n, t) {
                  return 32 - this._daylightSavingAdjust(new this.CDate(n,t,32)).getDate()
              },
              _getFirstDayOfMonth: function(n, t) {
                  return new this.CDate(n,t,1).getDay()
              },
              _canAdjustMonth: function(n, t, i, r) {
                  var f = this._getNumberOfMonths(n)
                    , u = this._daylightSavingAdjust(new this.CDate(i,r + (t < 0 ? t : f[0] * f[1]),1));
                  return t < 0 && u.setDate(this._getDaysInMonth(u.getFullYear(), u.getMonth())),
                  this._isInRange(n, u)
              },
              _isInRange: function(n, t) {
                  var i = this._getMinMaxDate(n, "min")
                    , r = this._getMinMaxDate(n, "max");
                  return (!i || t.getTime() >= i.getTime()) && (!r || t.getTime() <= r.getTime())
              },
              _getFormatConfig: function(n) {
                  var t = this._get(n, "shortYearCutoff");
                  return this.CDate = this._get(n, "calendar"),
                  t = typeof t != "string" ? t : (new this.CDate).getFullYear() % 100 + parseInt(t, 10),
                  {
                      shortYearCutoff: t,
                      dayNamesShort: this._get(n, "dayNamesShort"),
                      dayNames: this._get(n, "dayNames"),
                      monthNamesShort: this._get(n, "monthNamesShort"),
                      monthNames: this._get(n, "monthNames")
                  }
              },
              _formatDate: function(n, t, i, r) {
                  t || (n.currentDay = n.selectedDay,
                  n.currentMonth = n.selectedMonth,
                  n.currentYear = n.selectedYear);
                  var u = t ? typeof t == "object" ? t : this._daylightSavingAdjust(new this.CDate(r,i,t)) : this._daylightSavingAdjust(new this.CDate(n.currentYear,n.currentMonth,n.currentDay));
                  return this.formatDate(this._get(n, "dateFormat"), u, this._getFormatConfig(n))
              },
              _compareDate: function(n, t, i) {
                  return n && i ? (n.getGregorianDate && (n = n.getGregorianDate()),
                  i.getGregorianDate && (i = i.getGregorianDate()),
                  t == "<") ? n < i : n > i : null
              }
          });
          n.fn.datepicker = function(t) {
              if (!this.length)
                  return this;
              n.datepicker.initialized || (n(document).mousedown(n.datepicker._checkExternalClick).find(document.body).append(n.datepicker.dpDiv),
              n.datepicker.initialized = !0);
              var i = Array.prototype.slice.call(arguments, 1);
              return typeof t == "string" && (t == "isDisabled" || t == "getDate" || t == "widget") ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i)) : t == "option" && arguments.length == 2 && typeof arguments[1] == "string" ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i)) : this.each(function() {
                  typeof t == "string" ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this].concat(i)) : n.datepicker._attachDatepicker(this, t)
              })
          }
          ;
          n.datepicker = new e;
          n.datepicker.initialized = !1;
          n.datepicker.uuid = (new Date).getTime();
          n.datepicker.version = "1.9.1";
          window["DP_jQuery_" + r] = n
      }(jQuery);
      var Weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
        , GREGORIAN_EPOCH = 1721425.5
        , PERSIAN_EPOCH = 1948320.5
        , PERSIAN_WEEKDAYS = ["�����", "������", "�� ����", "��������", "��� ����", "����", "����"]
        , GREGORIAN_EPOCH = 1721425.5
        , ISLAMIC_EPOCH = 1948439.5
        , PERSIAN_EPOCH = 1948320.5;
      jQuery(function(n) {
          n.datepicker.regional.fa = {
              calendar: JalaliDate,
              closeText: "بستن",
              prevText: "قبل",
              nextText: "بعد",
              currentText: "امروز",
              monthNames: ["فروردین", "اردیبهشت", "خرداد", "تیر", "مرداد", "شهریور", "مهر", "آبان", "آذر", "دی", "بهمن", "اسفند"],
              monthNamesShort: ["فروردین", "اردیبهشت", "خرداد", "تیر", "مرداد", "شهریور", "مهر", "آبان", "آذر", "دی", "بهمن", "اسفند"],
              dayNames: ["یکشنبه", "دوشنبه", "سه شنبه", "چهارشنبه", "پنجشنبه", "جمعه", "شنبه"],
              dayNamesShort: ["یک", "دو", "سه", "چهار", "پنج", "جمعه", "شنبه"],
              dayNamesMin: ["ی", "د", "س", "چ", "پ", "ج", "ش"],
              weekHeader: "ه",
              dateFormat: "dd/mm/yy",
              firstDay: 6,
              isRTL: !0,
              showMonthAfterYear: !1,
              yearSuffix: "",
              calculateWeek: function(n) {
                  var t = new JalaliDate(n.getFullYear(),n.getMonth(),n.getDate() + (n.getDay() || 7) - 3);
                  return Math.floor(Math.round((t.getTime() - new JalaliDate(t.getFullYear(),0,1).getTime()) / 864e5) / 7) + 1
              }
          };
          n.datepicker.setDefaults(n.datepicker.regional.fa)
      }),
      function() {
          "use strict";
          function n(n) {
              function o(o, s) {
                  var rt, ut, p = o == window, c = s && s.message !== undefined ? s.message : undefined, g, k, d, tt, nt, w, b, it, ft, et, ot;
                  if (s = n.extend({}, n.blockUI.defaults, s || {}),
                  !s.ignoreIfBlocked || !n(o).data("blockUI.isBlocked")) {
                      if (s.overlayCSS = n.extend({}, n.blockUI.defaults.overlayCSS, s.overlayCSS || {}),
                      rt = n.extend({}, n.blockUI.defaults.css, s.css || {}),
                      s.onOverlayClick && (s.overlayCSS.cursor = "pointer"),
                      ut = n.extend({}, n.blockUI.defaults.themedCSS, s.themedCSS || {}),
                      c = c === undefined ? s.message : c,
                      p && t && u(window, {
                          fadeOut: 0
                      }),
                      c && typeof c != "string" && (c.parentNode || c.jquery) && (g = c.jquery ? c[0] : c,
                      k = {},
                      n(o).data("blockUI.history", k),
                      k.el = g,
                      k.parent = g.parentNode,
                      k.display = g.style.display,
                      k.position = g.style.position,
                      k.parent && k.parent.removeChild(g)),
                      n(o).data("blockUI.onUnblock", s.onUnblock),
                      d = s.baseZ,
                      tt = e || s.forceIframe ? n('<iframe class="blockUI" style="z-index:' + d++ + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + s.iframeSrc + '"><\\/iframe>') : n('<div class="blockUI" style="display:none"><\\/div>'),
                      nt = s.theme ? n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + d++ + ';display:none"><\\/div>') : n('<div class="blockUI blockOverlay" style="z-index:' + d++ + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\\/div>'),
                      s.theme && p ? (b = '<div class="blockUI ' + s.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (d + 10) + ';display:none;position:fixed">',
                      s.title && (b += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (s.title || "&nbsp;") + "<\\/div>"),
                      b += '<div class="ui-widget-content ui-dialog-content"><\\/div>',
                      b += "<\\/div>") : s.theme ? (b = '<div class="blockUI ' + s.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (d + 10) + ';display:none;position:absolute">',
                      s.title && (b += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (s.title || "&nbsp;") + "<\\/div>"),
                      b += '<div class="ui-widget-content ui-dialog-content"><\\/div>',
                      b += "<\\/div>") : b = p ? '<div class="blockUI ' + s.blockMsgClass + ' blockPage" style="z-index:' + (d + 10) + ';display:none;position:fixed"><\\/div>' : '<div class="blockUI ' + s.blockMsgClass + ' blockElement" style="z-index:' + (d + 10) + ';display:none;position:absolute"><\\/div>',
                      w = n(b),
                      c && (s.theme ? (w.css(ut),
                      w.addClass("ui-widget-content")) : w.css(rt)),
                      s.theme || nt.css(s.overlayCSS),
                      nt.css("position", p ? "fixed" : "absolute"),
                      (e || s.forceIframe) && tt.css("opacity", 0),
                      it = [tt, nt, w],
                      ft = p ? n("body") : n(o),
                      n.each(it, function() {
                          this.appendTo(ft)
                      }),
                      s.theme && s.draggable && n.fn.draggable && w.draggable({
                          handle: ".ui-dialog-titlebar",
                          cancel: "li"
                      }),
                      et = y && (!n.support.boxModel || n("object,embed", p ? null : o).length > 0),
                      a || et) {
                          if (p && s.allowBodyStretch && n.support.boxModel && n("html,body").css("height", "100%"),
                          (a || !n.support.boxModel) && !p)
                              var st = r(o, "borderTopWidth")
                                , ht = r(o, "borderLeftWidth")
                                , ct = st ? "(0 - " + st + ")" : 0
                                , lt = ht ? "(0 - " + ht + ")" : 0;
                          n.each(it, function(n, t) {
                              var i = t[0].style, r, u;
                              i.position = "absolute";
                              n < 2 ? (p ? i.setExpression("height", "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" + s.quirksmodeOffsetHack + ') + "px"') : i.setExpression("height", 'this.parentNode.offsetHeight + "px"'),
                              p ? i.setExpression("width", 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"') : i.setExpression("width", 'this.parentNode.offsetWidth + "px"'),
                              lt && i.setExpression("left", lt),
                              ct && i.setExpression("top", ct)) : s.centerY ? (p && i.setExpression("top", '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
                              i.marginTop = 0) : !s.centerY && p && (r = s.css && s.css.top ? parseInt(s.css.top, 10) : 0,
                              u = "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " + r + ') + "px"',
                              i.setExpression("top", u))
                          })
                      }
                      if (c && (s.theme ? w.find(".ui-widget-content").append(c) : w.append(c),
                      (c.jquery || c.nodeType) && n(c).show()),
                      (e || s.forceIframe) && s.showOverlay && tt.show(),
                      s.fadeIn) {
                          var at = s.onBlock ? s.onBlock : f
                            , vt = s.showOverlay && !c ? at : f
                            , yt = c ? at : f;
                          s.showOverlay && nt._fadeIn(s.fadeIn, vt);
                          c && w._fadeIn(s.fadeIn, yt)
                      } else
                          s.showOverlay && nt.show(),
                          c && w.show(),
                          s.onBlock && s.onBlock.bind(w)();
                      h(1, o, s);
                      p ? (t = w[0],
                      i = n(s.focusableElements, t),
                      s.focusInput && setTimeout(l, 20)) : v(w[0], s.centerX, s.centerY);
                      s.timeout && (ot = setTimeout(function() {
                          p ? n.unblockUI(s) : n(o).unblock(s)
                      }, s.timeout),
                      n(o).data("blockUI.timeout", ot))
                  }
              }
              function u(r, u) {
                  var o, c = r == window, e = n(r), l = e.data("blockUI.history"), a = e.data("blockUI.timeout"), f;
                  a && (clearTimeout(a),
                  e.removeData("blockUI.timeout"));
                  u = n.extend({}, n.blockUI.defaults, u || {});
                  h(0, r, u);
                  u.onUnblock === null && (u.onUnblock = e.data("blockUI.onUnblock"),
                  e.removeData("blockUI.onUnblock"));
                  f = c ? n("body").children().filter(".blockUI").add("body > .blockUI") : e.find(">.blockUI");
                  u.cursorReset && (f.length > 1 && (f[1].style.cursor = u.cursorReset),
                  f.length > 2 && (f[2].style.cursor = u.cursorReset));
                  c && (t = i = null );
                  u.fadeOut ? (o = f.length,
                  f.stop().fadeOut(u.fadeOut, function() {
                      --o == 0 && s(f, l, u, r)
                  })) : s(f, l, u, r)
              }
              function s(t, i, r, u) {
                  var f = n(u);
                  if (!f.data("blockUI.isBlocked")) {
                      if (t.each(function() {
                          this.parentNode && this.parentNode.removeChild(this)
                      }),
                      i && i.el && (i.el.style.display = i.display,
                      i.el.style.position = i.position,
                      i.el.style.cursor = "default",
                      i.parent && i.parent.appendChild(i.el),
                      f.removeData("blockUI.history")),
                      f.data("blockUI.static") && f.css("position", "static"),
                      typeof r.onUnblock == "function")
                          r.onUnblock(u, r);
                      var e = n(document.body)
                        , o = e.width()
                        , s = e[0].style.width;
                      e.width(o - 1).width(o);
                      e[0].style.width = s
                  }
              }
              function h(i, r, u) {
                  var f = r == window, o = n(r), e;
                  (i || (!f || t) && (f || o.data("blockUI.isBlocked"))) && (o.data("blockUI.isBlocked", i),
                  f && u.bindEvents && (!i || u.showOverlay)) && (e = "mousedown mouseup keydown keypress keyup touchstart touchend touchmove",
                  i ? n(document).bind(e, u, c) : n(document).unbind(e, c))
              }
              function c(r) {
                  var u, f;
                  if (r.type === "keydown" && r.keyCode && r.keyCode == 9 && t && r.data.constrainTabKey) {
                      var e = i
                        , s = !r.shiftKey && r.target === e[e.length - 1]
                        , o = r.shiftKey && r.target === e[0];
                      if (s || o)
                          return setTimeout(function() {
                              l(o)
                          }, 10),
                          !1
                  }
                  if (u = r.data,
                  f = n(r.target),
                  f.hasClass("blockOverlay") && u.onOverlayClick)
                      u.onOverlayClick(r);
                  return f.parents("div." + u.blockMsgClass).length > 0 ? !0 : f.parents().children().filter("div.blockUI").length === 0
              }
              function l(n) {
                  if (i) {
                      var t = i[n === !0 ? i.length - 1 : 0];
                      t && t.focus()
                  }
              }
              function v(n, t, i) {
                  var u = n.parentNode
                    , f = n.style
                    , e = (u.offsetWidth - n.offsetWidth) / 2 - r(u, "borderLeftWidth")
                    , o = (u.offsetHeight - n.offsetHeight) / 2 - r(u, "borderTopWidth");
                  t && (f.left = e > 0 ? e + "px" : "0");
                  i && (f.top = o > 0 ? o + "px" : "0")
              }
              function r(t, i) {
                  return parseInt(n.css(t, i), 10) || 0
              }
              var t, i;
              n.fn._fadeIn = n.fn.fadeIn;
              var f = n.noop || function() {}
                , e = /MSIE/.test(navigator.userAgent)
                , a = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent)
                , p = document.documentMode || 0
                , y = n.isFunction(document.createElement("div").style.setExpression);
              n.blockUI = function(n) {
                  o(window, n)
              }
              ;
              n.unblockUI = function(n) {
                  u(window, n)
              }
              ;
              n.growlUI = function(t, i, r, u) {
                  var f = n('<div class="growlUI"><\\/div>'), e, o;
                  t && f.append("<h1>" + t + "<\\/h1>");
                  i && f.append("<h2>" + i + "<\\/h2>");
                  r === undefined && (r = 3e3);
                  e = function(t) {
                      t = t || {};
                      n.blockUI({
                          message: f,
                          fadeIn: typeof t.fadeIn != "undefined" ? t.fadeIn : 700,
                          fadeOut: typeof t.fadeOut != "undefined" ? t.fadeOut : 1e3,
                          timeout: typeof t.timeout != "undefined" ? t.timeout : r,
                          centerY: !1,
                          showOverlay: !1,
                          onUnblock: u,
                          css: n.blockUI.defaults.growlCSS
                      })
                  }
                  ;
                  e();
                  o = f.css("opacity");
                  f.mouseover(function() {
                      e({
                          fadeIn: 0,
                          timeout: 3e4
                      });
                      var t = n(".blockMsg");
                      t.stop();
                      t.fadeTo(300, 1)
                  }).mouseout(function() {
                      n(".blockMsg").fadeOut(1e3)
                  })
              }
              ;
              n.fn.block = function(t) {
                  if (this[0] === window)
                      return n.blockUI(t),
                      this;
                  var i = n.extend({}, n.blockUI.defaults, t || {});
                  return this.each(function() {
                      var t = n(this);
                      i.ignoreIfBlocked && t.data("blockUI.isBlocked") || t.unblock({
                          fadeOut: 0
                      })
                  }),
                  this.each(function() {
                      n.css(this, "position") == "static" && (this.style.position = "relative",
                      n(this).data("blockUI.static", !0));
                      this.style.zoom = 1;
                      o(this, t)
                  })
              }
              ;
              n.fn.unblock = function(t) {
                  return this[0] === window ? (n.unblockUI(t),
                  this) : this.each(function() {
                      u(this, t)
                  })
              }
              ;
              n.blockUI.version = 2.7;
              n.blockUI.defaults = {
                  message: "<h1>Please wait...<\\/h1>",
                  title: null ,
                  draggable: !0,
                  theme: !1,
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "30%",
                      top: "40%",
                      left: "35%",
                      textAlign: "center",
                      color: "#000",
                      border: "3px solid #aaa",
                      backgroundColor: "#fff",
                      cursor: "wait"
                  },
                  themedCSS: {
                      width: "30%",
                      top: "40%",
                      left: "35%"
                  },
                  overlayCSS: {
                      backgroundColor: "#000",
                      opacity: .6,
                      cursor: "wait"
                  },
                  cursorReset: "default",
                  growlCSS: {
                      width: "350px",
                      top: "10px",
                      left: "",
                      right: "10px",
                      border: "none",
                      padding: "5px",
                      opacity: .6,
                      cursor: "default",
                      color: "#fff",
                      backgroundColor: "#000",
                      "-webkit-border-radius": "10px",
                      "-moz-border-radius": "10px",
                      "border-radius": "10px"
                  },
                  iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank",
                  forceIframe: !1,
                  baseZ: 1e3,
                  centerX: !0,
                  centerY: !0,
                  allowBodyStretch: !0,
                  bindEvents: !0,
                  constrainTabKey: !0,
                  fadeIn: 200,
                  fadeOut: 400,
                  timeout: 0,
                  showOverlay: !0,
                  focusInput: !0,
                  focusableElements: ":input:enabled:visible",
                  onBlock: null ,
                  onUnblock: null ,
                  onOverlayClick: null ,
                  quirksmodeOffsetHack: 4,
                  blockMsgClass: "blockMsg",
                  ignoreIfBlocked: !1
              };
              t = null ;
              i = []
          }
          typeof define == "function" && define.amd && define.amd.jQuery ? define(["jquery"], n) : n(jQuery)
      }();
      !function(n) {
          n(["jquery"], function(n) {
              return function() {
                  function a(n, t, r) {
                      return u({
                          type: f.error,
                          iconClass: i().iconClasses.error,
                          message: n,
                          optionsOverride: r,
                          title: t
                      })
                  }
                  function r(r, u) {
                      return r || (r = i()),
                      t = n("#" + r.containerId),
                      t.length ? t : (u && (t = g(r)),
                      t)
                  }
                  function v(n, t, r) {
                      return u({
                          type: f.info,
                          iconClass: i().iconClasses.info,
                          message: n,
                          optionsOverride: r,
                          title: t
                      })
                  }
                  function y(n) {
                      o = n
                  }
                  function p(n, t, r) {
                      return u({
                          type: f.success,
                          iconClass: i().iconClasses.success,
                          message: n,
                          optionsOverride: r,
                          title: t
                      })
                  }
                  function w(n, t, r) {
                      return u({
                          type: f.warning,
                          iconClass: i().iconClasses.warning,
                          message: n,
                          optionsOverride: r,
                          title: t
                      })
                  }
                  function b(n) {
                      var u = i();
                      t || r(u);
                      s(n, u) || d(u)
                  }
                  function k(u) {
                      var f = i();
                      return t || r(f),
                      u && 0 === n(":focus", u).length ? void e(u) : void (t.children().length && t.remove())
                  }
                  function d(i) {
                      for (var u = t.children(), r = u.length - 1; r >= 0; r--)
                          s(n(u[r]), i)
                  }
                  function s(t, i) {
                      return t && 0 === n(":focus", t).length ? (t[i.hideMethod]({
                          duration: i.hideDuration,
                          easing: i.hideEasing,
                          complete: function() {
                              e(t)
                          }
                      }),
                      !0) : !1
                  }
                  function g(i) {
                      return t = n("<div/>").attr("id", i.containerId).addClass(i.positionClass).attr("aria-live", "polite").attr("role", "alert"),
                      t.appendTo(n(i.target)),
                      t
                  }
                  function nt() {
                      return {
                          tapToDismiss: !0,
                          toastClass: "toast",
                          containerId: "toast-container",
                          debug: !1,
                          showMethod: "fadeIn",
                          showDuration: 300,
                          showEasing: "swing",
                          onShown: void 0,
                          hideMethod: "fadeOut",
                          hideDuration: 1e3,
                          hideEasing: "swing",
                          onHidden: void 0,
                          extendedTimeOut: 1e3,
                          iconClasses: {
                              error: "toast-error",
                              info: "toast-info",
                              success: "toast-success",
                              warning: "toast-warning"
                          },
                          iconClass: "toast-info",
                          positionClass: "toast-top-right",
                          timeOut: 5e3,
                          titleClass: "toast-title",
                          messageClass: "toast-message",
                          target: "body",
                          closeHtml: "<button>&times;<\\/button>",
                          newestOnTop: !0
                      }
                  }
                  function h(n) {
                      o && o(n)
                  }
                  function u(u) {
                      function l(t) {
                          if (!n(":focus", o).length || t)
                              return o[f.hideMethod]({
                                  duration: f.hideDuration,
                                  easing: f.hideEasing,
                                  complete: function() {
                                      e(o);
                                      f.onHidden && "hidden" !== s.state && f.onHidden();
                                      s.state = "hidden";
                                      s.endTime = new Date;
                                      h(s)
                                  }
                              })
                      }
                      function b() {
                          (f.timeOut > 0 || f.extendedTimeOut > 0) && (y = setTimeout(l, f.extendedTimeOut))
                      }
                      function k() {
                          clearTimeout(y);
                          o.stop(!0, !0)[f.showMethod]({
                              duration: f.showDuration,
                              easing: f.showEasing
                          })
                      }
                      var f = i()
                        , v = u.iconClass || f.iconClass;
                      "undefined" != typeof u.optionsOverride && (f = n.extend(f, u.optionsOverride),
                      v = u.optionsOverride.iconClass || v);
                      c++;
                      t = r(f, !0);
                      var y = null
                        , o = n("<div/>")
                        , p = n("<div/>")
                        , w = n("<div/>")
                        , a = n(f.closeHtml)
                        , s = {
                          toastId: c,
                          state: "visible",
                          startTime: new Date,
                          options: f,
                          map: u
                      };
                      return u.iconClass && o.addClass(f.toastClass).addClass(v),
                      u.title && (p.append(u.title).addClass(f.titleClass),
                      o.append(p)),
                      u.message && (w.append(u.message).addClass(f.messageClass),
                      o.append(w)),
                      f.closeButton && (a.addClass("toast-close-button").attr("role", "button"),
                      o.prepend(a)),
                      o.hide(),
                      f.newestOnTop ? t.prepend(o) : t.append(o),
                      o[f.showMethod]({
                          duration: f.showDuration,
                          easing: f.showEasing,
                          complete: f.onShown
                      }),
                      f.timeOut > 0 && (y = setTimeout(l, f.timeOut)),
                      o.hover(k, b),
                      !f.onclick && f.tapToDismiss && o.click(l),
                      f.closeButton && a && a.click(function(n) {
                          n.stopPropagation ? n.stopPropagation() : void 0 !== n.cancelBubble && n.cancelBubble !== !0 && (n.cancelBubble = !0);
                          l(!0)
                      }),
                      f.onclick && o.click(function() {
                          f.onclick();
                          l()
                      }),
                      h(s),
                      f.debug && console && console.log(s),
                      o
                  }
                  function i() {
                      return n.extend({}, nt(), l.options)
                  }
                  function e(n) {
                      t || (t = r());
                      n.is(":visible") || (n.remove(),
                      n = null ,
                      0 === t.children().length && t.remove())
                  }
                  var t, o, c = 0, f = {
                      error: "error",
                      info: "info",
                      success: "success",
                      warning: "warning"
                  }, l = {
                      clear: b,
                      remove: k,
                      error: a,
                      getContainer: r,
                      info: v,
                      options: {},
                      subscribe: y,
                      success: p,
                      version: "2.0.3",
                      warning: w
                  };
                  return l
              }()
          })
      }("function" == typeof define && define.amd ? define : function(n, t) {
          "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : window.toastr = t(window.jQuery)
      }
      ),
      function(n) {
          typeof define == "function" && define.amd ? define(["jquery"], n) : typeof exports == "object" ? n(require("jquery")) : n(jQuery)
      }(function(n) {
          function i(n) {
              return t.raw ? n : encodeURIComponent(n)
          }
          function f(n) {
              return t.raw ? n : decodeURIComponent(n)
          }
          function e(n) {
              return i(t.json ? JSON.stringify(n) : String(n))
          }
          function o(n) {
              n.indexOf('"') === 0 && (n = n.slice(1, -1).replace(/\\\\"/g, '"').replace(/\\\\\\\\/g, "\\\\"));
              try {
                  return n = decodeURIComponent(n.replace(u, " ")),
                  t.json ? JSON.parse(n) : n
              } catch (i) {}
          }
          function r(i, r) {
              var u = t.raw ? i : o(i);
              return n.isFunction(r) ? r(u) : u
          }
          var u = /\\+/g
            , t = n.cookie = function(u, o, s) {
              var y, a, h, v, c, p;
              if (o !== undefined && !n.isFunction(o))
                  return s = n.extend({}, t.defaults, s),
                  typeof s.expires == "number" && (y = s.expires,
                  a = s.expires = new Date,
                  a.setTime(+a + y * 864e5)),
                  document.cookie = [i(u), "=", e(o), s.expires ? "; expires=" + s.expires.toUTCString() : "", s.path ? "; path=" + s.path : "", s.domain ? "; domain=" + s.domain : "", s.secure ? "; secure" : ""].join("");
              for (h = u ? undefined : {},
              v = document.cookie ? document.cookie.split("; ") : [],
              c = 0,
              p = v.length; c < p; c++) {
                  var w = v[c].split("=")
                    , b = f(w.shift())
                    , l = w.join("=");
                  if (u && u === b) {
                      h = r(l, o);
                      break
                  }
                  u || (l = r(l)) === undefined || (h[b] = l)
              }
              return h
          }
          ;
          t.defaults = {};
          n.removeCookie = function(t, i) {
              return n.cookie(t) === undefined ? !1 : (n.cookie(t, "", n.extend({}, i, {
                  expires: -1
              })),
              !n.cookie(t))
          }
      });
      !function() {
          var t = [].slice
            , n = function(n, t) {
              return function() {
                  return n.apply(t, arguments)
              }
          }
            , i = [].indexOf || function(n) {
              for (var t = 0, i = this.length; i > t; t++)
                  if (t in this && this[t] === n)
                      return t;
              return -1
          }
          ;
          !function(r, u) {
              var s, o, e, f;
              f = "immybox";
              o = {
                  choices: [],
                  maxResults: 50,
                  showArrow: !0,
                  openOnClick: !0,
                  filterFn: function(n) {
                      return function(t) {
                          return t.text.toLowerCase().indexOf(n.toLowerCase()) >= 0
                      }
                  },
                  formatChoice: function(n, i) {
                      var e, r, u, o, f;
                      return r = n.text.toLowerCase().indexOf(i.toLowerCase()),
                      r >= 0 ? (u = n.text.slice(r, r + i.length),
                      f = n.text.split(u),
                      e = f[0],
                      o = 2 <= f.length ? t.call(f, 1) : [],
                      "" + e + u + o.join(u)) : n.text
                  }
              };
              e = [];
              s = function() {
                  function t(t, i) {
                      this.reposition = n(this.reposition, this);
                      this.revert = n(this.revert, this);
                      this.openResults = n(this.openResults, this);
                      this.doSelection = n(this.doSelection, this);
                      this.doQuery = n(this.doQuery, this);
                      var u, e;
                      u = this;
                      this.element = r(t);
                      this.element.addClass(f);
                      this._defaults = o;
                      this._name = f;
                      this.options = r.extend({}, o, i);
                      this.choices = this.options.choices;
                      this.selectedChoice = null ;
                      this.options.showArrow && this.element.addClass("" + f + "_witharrow");
                      this.options.openOnClick && this.element.on("click", this.openResults);
                      this.selectChoiceByValue(this.element.val());
                      this.queryResultArea = r("<div class='" + f + "_results'><\\/div>");
                      "function" == typeof (e = this.queryResultArea).scrollLock && e.scrollLock();
                      this.queryResultAreaVisible = !1;
                      this._val = this.element.val();
                      this.oldQuery = this._val;
                      this.queryResultArea.on("click", "li." + f + "_choice", function() {
                          var n;
                          n = r(this).data("value");
                          u.selectChoiceByValue(n);
                          u.hideResults();
                          u._val = u.element.val();
                          u.element.focus()
                      });
                      this.queryResultArea.on("mouseenter", "li." + f + "_choice", function() {
                          u.queryResultArea.find("li." + f + "_choice.active").removeClass("active");
                          r(this).addClass("active")
                      });
                      this.element.on("keyup change search", this.doQuery);
                      this.element.on("keydown", this.doSelection)
                  }
                  return t.prototype.doQuery = function() {
                      var n;
                      n = this.element.val();
                      this._val !== n && (this._val = n,
                      this.oldQuery = n,
                      "" === n ? this.hideResults() : this.insertFilteredChoiceElements(n))
                  }
                  ,
                  t.prototype.doSelection = function(n) {
                      if (27 === n.which && (this.display(),
                      this.hideResults()),
                      this.queryResultAreaVisible)
                          switch (n.which) {
                          case 9:
                              this.selectHighlightedChoice();
                              break;
                          case 13:
                              n.preventDefault();
                              this.selectHighlightedChoice();
                              break;
                          case 38:
                              n.preventDefault();
                              this.highlightPreviousChoice();
                              this.scroll();
                              break;
                          case 40:
                              n.preventDefault();
                              this.highlightNextChoice();
                              this.scroll()
                          }
                      else
                          switch (n.which) {
                          case 40:
                              n.preventDefault();
                              null != this.selectedChoice ? this.insertFilteredChoiceElements(this.oldQuery) : this.insertFilteredChoiceElements("");
                              break;
                          case 9:
                              this.revert()
                          }
                  }
                  ,
                  t.prototype.openResults = function(n) {
                      n.stopPropagation();
                      this.revertOtherInstances();
                      null != this.selectedChoice ? this.insertFilteredChoiceElements(this.oldQuery) : this.insertFilteredChoiceElements("")
                  }
                  ,
                  t.prototype.revert = function() {
                      this.queryResultAreaVisible ? (this.display(),
                      this.hideResults()) : "" === this.element.val() && this.selectChoiceByValue(null )
                  }
                  ,
                  t.prototype.reposition = function() {
                      this.queryResultAreaVisible && this.positionResultsArea()
                  }
                  ,
                  t.prototype.insertFilteredChoiceElements = function(n) {
                      var u, e, o, s, t, i, h, c = this;
                      u = "" === n ? this.choices : this.choices.filter(this.options.filterFn(this.oldQuery));
                      h = u.slice(0, this.options.maxResults);
                      e = this.options.formatChoice;
                      i = !1;
                      t = h.map(function(t) {
                          var u;
                          return u = r("<li class='" + f + "_choice'><\\/li>"),
                          u.attr("data-value", t.value),
                          u.html(e(t, n)),
                          t === c.selectedChoice && (i = !0,
                          u.addClass("active")),
                          u
                      });
                      0 === t.length ? (o = r("<p class='" + f + "_noresults'>no matches<\\/p>"),
                      this.queryResultArea.empty().append(o)) : (i || t[0].addClass("active"),
                      s = r("<ul><\\/ul>").append(t),
                      this.queryResultArea.empty().append(s));
                      this.showResults()
                  }
                  ,
                  t.prototype.scroll = function() {
                      var n, r, f, t, e, u, i;
                      u = this.queryResultArea.height();
                      i = this.queryResultArea.scrollTop();
                      e = i + u;
                      n = this.getHighlightedChoice();
                      null != n && (f = n.outerHeight(),
                      t = n.position().top + i,
                      r = t + f,
                      i > t && this.queryResultArea.scrollTop(t),
                      r > e && this.queryResultArea.scrollTop(r - u))
                  }
                  ,
                  t.prototype.positionResultsArea = function() {
                      var t, n, f, e, i, o;
                      n = this.element.offset();
                      t = this.element.outerHeight();
                      f = this.element.outerWidth();
                      i = this.queryResultArea.outerHeight();
                      e = n.top + t + i;
                      o = r(u).height() + r(u).scrollTop();
                      this.queryResultArea.outerWidth(f);
                      this.queryResultArea.css({
                          left: n.left
                      });
                      e > o ? this.queryResultArea.css({
                          top: n.top - i
                      }) : this.queryResultArea.css({
                          top: n.top + t
                      })
                  }
                  ,
                  t.prototype.getHighlightedChoice = function() {
                      var n;
                      return n = this.queryResultArea.find("li." + f + "_choice.active"),
                      1 === n.length ? n : null
                  }
                  ,
                  t.prototype.highlightNextChoice = function() {
                      var n, t;
                      n = this.getHighlightedChoice();
                      null != n && (t = n.next("li." + f + "_choice"),
                      1 === t.length && (n.removeClass("active"),
                      t.addClass("active")))
                  }
                  ,
                  t.prototype.highlightPreviousChoice = function() {
                      var n, t;
                      n = this.getHighlightedChoice();
                      null != n && (t = n.prev("li." + f + "_choice"),
                      1 === t.length && (n.removeClass("active"),
                      t.addClass("active")))
                  }
                  ,
                  t.prototype.selectHighlightedChoice = function() {
                      var n, t;
                      n = this.getHighlightedChoice();
                      null != n ? (t = n.data("value"),
                      this.selectChoiceByValue(t),
                      this._val = this.element.val(),
                      this.hideResults()) : this.revert()
                  }
                  ,
                  t.prototype.display = function() {
                      null != this.selectedChoice ? (this.selectedChoice.text,
                      this.element.val(this.selectedChoice.text)) : this.element.val("");
                      this._val = this.element.val()
                  }
                  ,
                  t.prototype.selectChoiceByValue = function(n) {
                      var t, i, r;
                      r = this.getValue();
                      null != n && "" !== n ? (t = this.choices.filter(function(t) {
                          return t.value == n
                      }),
                      this.selectedChoice = null != t[0] ? t[0] : null ) : this.selectedChoice = null ;
                      i = this.getValue();
                      i !== r && this.element.trigger("update", [i]);
                      this.display()
                  }
                  ,
                  t.prototype.revertOtherInstances = function() {
                      for (var t, n = 0, i = e.length; i > n; n++)
                          t = e[n],
                          t !== this && t.revert()
                  }
                  ,
                  t.prototype.publicMethods = ["showResults", "hideResults", "getChoices", "setChoices", "getValue", "setValue", "destroy"],
                  t.prototype.showResults = function() {
                      r("body").append(this.queryResultArea);
                      this.queryResultAreaVisible = !0;
                      this.scroll();
                      this.positionResultsArea()
                  }
                  ,
                  t.prototype.hideResults = function() {
                      this.queryResultArea.detach();
                      this.queryResultAreaVisible = !1
                  }
                  ,
                  t.prototype.getChoices = function() {
                      return this.choices
                  }
                  ,
                  t.prototype.setChoices = function(n) {
                      return this.choices = n,
                      null != this.selectedChoice && this.selectChoiceByValue(this.selectedChoice.value),
                      this.oldQuery = "",
                      n
                  }
                  ,
                  t.prototype.getValue = function() {
                      return null != this.selectedChoice ? this.selectedChoice.value : null
                  }
                  ,
                  t.prototype.setValue = function(n) {
                      var t;
                      return t = this.getValue(),
                      t !== n ? (this.selectChoiceByValue(n),
                      this.oldQuery = "",
                      this.getValue()) : t
                  }
                  ,
                  t.prototype.destroy = function() {
                      var n = this;
                      this.element.off("keyup change search", this.doQuery);
                      this.element.off("keydown", this.doSelection);
                      this.options.openOnClick && this.element.off("click", this.openResults);
                      this.element.removeClass(f);
                      this.queryResultArea.remove();
                      r.removeData(this.element[0], "plugin_" + f);
                      e = e.filter(function(t) {
                          return t !== n
                      })
                  }
                  ,
                  t
              }();
              r("html").on("click", function() {
                  for (var t, n = 0, i = e.length; i > n; n++)
                      t = e[n],
                      t.revert()
              });
              r(u).on("resize scroll", function() {
                  for (var t, n = 0, i = e.length; i > n; n++)
                      t = e[n],
                      t.queryResultAreaVisible && t.reposition()
              });
              r.fn[f] = function(n) {
                  var u, t;
                  return u = Array.prototype.slice.call(arguments, 1),
                  t = [],
                  this.each(function() {
                      var o, c, h;
                      if (r.data(this, "plugin_" + f)) {
                          if (null != n && "string" == typeof n) {
                              if (h = r.data(this, "plugin_" + f),
                              o = n,
                              !(i.call(h.publicMethods, o) >= 0))
                                  throw new Error("" + f + " has no method '" + o + "'");
                              t.push(h[o].apply(h, u))
                          }
                      } else
                          c = new s(this,n),
                          e.push(c),
                          t.push(r.data(this, "plugin_" + f, c))
                  }),
                  t
              }
          }(jQuery, window, document)
      }
      .call(this);
      $(function() {
          $("#txtOrigin").immybox({
              choices: [{
                  text: "سایر شهر ها",
                  value: "Other"
              }, {
                  text: "تهران",
                  value: "THR"
              }, {
                  text: "مشهد",
                  value: "MHD"
              }, {
                  text: "اصفهان",
                  value: "IFN"
              }, {
                  text: "شیراز",
                  value: "SYZ"
              }, {
                  text: "تبریز",
                  value: "TBZ"
              }, {
                  text: "کیش",
                  value: "KIH"
              }, {
                  text: "قشم",
                  value: "GSM"
              }, {
                  text: "کرمان",
                  value: "KER"
              }, {
                  text: "کرمانشاه",
                  value: "KSH"
              }, {
                  text: "زاهدان",
                  value: "ZAH"
              }, {
                  text: "آبادان",
                  value: "ABD"
              }, {
                  text: "سهند",
                  value: "ACP"
              }, {
                  text: "زابل",
                  value: "ACZ"
              }, {
                  text: "اردبیل",
                  value: "ADU"
              }, {
                  text: "ابوموسی",
                  value: "AEU"
              }, {
                  text: "سبزوار",
                  value: "AFZ"
              }, {
                  text: "اراک",
                  value: "AJK"
              }, {
                  text: "آقاجاری",
                  value: "AKW"
              }, {
                  text: "اهواز",
                  value: "AWZ"
              }, {
                  text: "یزد",
                  value: "AZD"
              }, {
                  text: "بابلسر",
                  value: "BBL"
              }, {
                  text: "بندر لنگه",
                  value: "BDH"
              }, {
                  text: "بجنورد",
                  value: "BJB"
              }, {
                  text: "بندر عباس",
                  value: "BND"
              }, {
                  text: "بوشهر",
                  value: "BUZ"
              }, {
                  text: "بم",
                  value: "BXR"
              }, {
                  text: "سرخص",
                  value: "CKT"
              }, {
                  text: "شهرکرد",
                  value: "CQD"
              }, {
                  text: "دزفول",
                  value: "DEF"
              }, {
                  text: "فسا",
                  value: "FAZ"
              }, {
                  text: "گرگان",
                  value: "GBT"
              }, {
                  text: "گچساران",
                  value: "GCH"
              }, {
                  text: "قزوین",
                  value: "GZW"
              }, {
                  text: "همدان",
                  value: "HDM"
              }, {
                  text: "بحرگان",
                  value: "IAQ"
              }, {
                  text: "ایرانشهر",
                  value: "IHR"
              }, {
                  text: "ایلام",
                  value: "IIL"
              }, {
                  text: "جهرم",
                  value: "JAR"
              }, {
                  text: "زنجان",
                  value: "JWN"
              }, {
                  text: "جیرفت",
                  value: "JYR"
              }, {
                  text: "خانه",
                  value: "KHA"
              }, {
                  text: "خرم آباد",
                  value: "KHD"
              }, {
                  text: "خارک",
                  value: "KHK"
              }, {
                  text: "خوی",
                  value: "KHY"
              }, {
                  text: "کلاله",
                  value: "KLM"
              }, {
                  text: "جم",
                  value: "KNR"
              }, {
                  text: "لامرد",
                  value: "LFM"
              }, {
                  text: "لار",
                  value: "LRR"
              }, {
                  text: "لاوان",
                  value: "LVP"
              }, {
                  text: "ماهشهر",
                  value: "MRX"
              }, {
                  text: "نوشهر",
                  value: "NSH"
              }, {
                  text: "ارومیه",
                  value: "OMH"
              }, {
                  text: "امیدیه",
                  value: "OMI"
              }, {
                  text: "پارس آباد",
                  value: "PFQ"
              }, {
                  text: "عسلویه",
                  value: "PGU"
              }, {
                  text: "بندر خمینی",
                  value: "QBR"
              }, {
                  text: "کرج",
                  value: "QKC"
              }, {
                  text: "مسجد سلیمان",
                  value: "QMJ"
              }, {
                  text: "قم",
                  value: "QUM"
              }, {
                  text: "رشت",
                  value: "RAS"
              }, {
                  text: "رفسنجان",
                  value: "RJN"
              }, {
                  text: "شاهرود",
                  value: "RUD"
              }, {
                  text: "رامسر",
                  value: "RZR"
              }, {
                  text: "سنندج",
                  value: "SDG"
              }, {
                  text: "ساری",
                  value: "SRY"
              }, {
                  text: "جزیره سیری",
                  value: "SXI"
              }, {
                  text: "سیرجان",
                  value: "SYJ"
              }, {
                  text: "طبس",
                  value: "TCX"
              }, {
                  text: "بیرجند",
                  value: "XBJ"
              }, {
                  text: "یاسوج",
                  value: "YES"
              }, {
                  text: "چابهار",
                  value: "ZBR"
              }, {
                  text: "مراغه",
                  value: "ACP"
              }]
          });
          $("#txtDestination").immybox({
              choices: [{
                  text: "سایر شهر ها",
                  value: "Other"
              }, {
                  text: "تهران",
                  value: "THR"
              }, {
                  text: "مشهد",
                  value: "MHD"
              }, {
                  text: "اصفهان",
                  value: "IFN"
              }, {
                  text: "شیراز",
                  value: "SYZ"
              }, {
                  text: "تبریز",
                  value: "TBZ"
              }, {
                  text: "کیش",
                  value: "KIH"
              }, {
                  text: "قشم",
                  value: "GSM"
              }, {
                  text: "کرمان",
                  value: "KER"
              }, {
                  text: "کرمانشاه",
                  value: "KSH"
              }, {
                  text: "زاهدان",
                  value: "ZAH"
              }, {
                  text: "آبادان",
                  value: "ABD"
              }, {
                  text: "سهند",
                  value: "ACP"
              }, {
                  text: "زابل",
                  value: "ACZ"
              }, {
                  text: "اردبیل",
                  value: "ADU"
              }, {
                  text: "ابوموسی",
                  value: "AEU"
              }, {
                  text: "سبزوار",
                  value: "AFZ"
              }, {
                  text: "اراک",
                  value: "AJK"
              }, {
                  text: "آقاجاری",
                  value: "AKW"
              }, {
                  text: "اهواز",
                  value: "AWZ"
              }, {
                  text: "یزد",
                  value: "AZD"
              }, {
                  text: "بابلسر",
                  value: "BBL"
              }, {
                  text: "بندر لنگه",
                  value: "BDH"
              }, {
                  text: "بجنورد",
                  value: "BJB"
              }, {
                  text: "بندر عباس",
                  value: "BND"
              }, {
                  text: "بوشهر",
                  value: "BUZ"
              }, {
                  text: "بم",
                  value: "BXR"
              }, {
                  text: "سرخص",
                  value: "CKT"
              }, {
                  text: "شهرکرد",
                  value: "CQD"
              }, {
                  text: "دزفول",
                  value: "DEF"
              }, {
                  text: "فسا",
                  value: "FAZ"
              }, {
                  text: "گرگان",
                  value: "GBT"
              }, {
                  text: "گچساران",
                  value: "GCH"
              }, {
                  text: "قزوین",
                  value: "GZW"
              }, {
                  text: "همدان",
                  value: "HDM"
              }, {
                  text: "بحرگان",
                  value: "IAQ"
              }, {
                  text: "ایرانشهر",
                  value: "IHR"
              }, {
                  text: "ایلام",
                  value: "IIL"
              }, {
                  text: "جهرم",
                  value: "JAR"
              }, {
                  text: "زنجان",
                  value: "JWN"
              }, {
                  text: "جیرفت",
                  value: "JYR"
              }, {
                  text: "خانه",
                  value: "KHA"
              }, {
                  text: "خرم آباد",
                  value: "KHD"
              }, {
                  text: "خارک",
                  value: "KHK"
              }, {
                  text: "خوی",
                  value: "KHY"
              }, {
                  text: "کلاله",
                  value: "KLM"
              }, {
                  text: "جم",
                  value: "KNR"
              }, {
                  text: "لامرد",
                  value: "LFM"
              }, {
                  text: "لار",
                  value: "LRR"
              }, {
                  text: "لاوان",
                  value: "LVP"
              }, {
                  text: "ماهشهر",
                  value: "MRX"
              }, {
                  text: "نوشهر",
                  value: "NSH"
              }, {
                  text: "ارومیه",
                  value: "OMH"
              }, {
                  text: "امیدیه",
                  value: "OMI"
              }, {
                  text: "پارس آباد",
                  value: "PFQ"
              }, {
                  text: "عسلویه",
                  value: "PGU"
              }, {
                  text: "بندر خمینی",
                  value: "QBR"
              }, {
                  text: "کرج",
                  value: "QKC"
              }, {
                  text: "مسجد سلیمان",
                  value: "QMJ"
              }, {
                  text: "قم",
                  value: "QUM"
              }, {
                  text: "رشت",
                  value: "RAS"
              }, {
                  text: "رفسنجان",
                  value: "RJN"
              }, {
                  text: "شاهرود",
                  value: "RUD"
              }, {
                  text: "رامسر",
                  value: "RZR"
              }, {
                  text: "سنندج",
                  value: "SDG"
              }, {
                  text: "ساری",
                  value: "SRY"
              }, {
                  text: "جزیره سیری",
                  value: "SXI"
              }, {
                  text: "سیرجان",
                  value: "SYJ"
              }, {
                  text: "طبس",
                  value: "TCX"
              }, {
                  text: "بیرجند",
                  value: "XBJ"
              }, {
                  text: "یاسوج",
                  value: "YES"
              }, {
                  text: "چابهار",
                  value: "ZBR"
              }, {
                  text: "مراغه",
                  value: "ACP"
              }]
          })
      }),
      function(n) {
          n.fn.bootstrapNumber = function(t) {
              var i = n.extend({
                  upClass: "default",
                  downClass: "default",
                  center: !0
              }, t);
              return this.each(function() {
                  function o(n) {
                      return u && n < u || f && n > f ? !1 : (t.val(n),
                      !0)
                  }
                  var r = n(this)
                    , t = r.clone()
                    , u = r.attr("min")
                    , f = r.attr("max")
                    , e = n("<div class='input-group'><\\/div>")
                    , s = n("<button type='button'>-<\\/button>").attr("class", "btn btn-" + i.downClass).attr("id", "elbtn1").click(function() {
                      o(parseInt(t.val()) - 1)
                  })
                    , h = n("<button type='button'>+<\\/button>").attr("class", "btn btn-" + i.upClass).attr("id", "elbtn2").click(function() {
                      o(parseInt(t.val()) + 1)
                  });
                  n("<span class='input-group-btn'><\\/span>").append(s).appendTo(e);
                  t.appendTo(e);
                  t && t.css("text-align", "center");
                  n("<span class='input-group-btn'><\\/span>").append(h).appendTo(e);
                  t.attr("type", "text").keydown(function(i) {
                      if (n.inArray(i.keyCode, [46, 8, 9, 27, 13, 110, 190]) === -1 && (i.keyCode != 65 || i.ctrlKey !== !0) && (!(i.keyCode >= 35) || !(i.keyCode <= 39))) {
                          (i.shiftKey || i.keyCode < 48 || i.keyCode > 57) && (i.keyCode < 96 || i.keyCode > 105) && i.preventDefault();
                          var e = String.fromCharCode(i.which)
                            , r = parseInt(t.val() + e);
                          (u && r < u || f && r > f) && i.preventDefault()
                      }
                  });
                  r.replaceWith(e)
              })
          }
      }(jQuery);
      app = {
          base_url: window.location.protocol + "//" + window.location.host,
          apiUrl: "/api/"
      };
      app.init = function() {
          isMobile() === !1 && $('[data-toggle="tooltip"]').tooltip();
          $("#txtEmailLogin,#txtPasslogin,#txtImg").on("keydown", function(n) {
              n.keyCode === 13 && $("#btnlogin").click()
          });
          toastr.options = {
              closeButton: !0,
              debug: !1,
              positionClass: "toast-top-right",
              onclick: null ,
              showDuration: "300",
              hideDuration: "4000",
              timeOut: "10000",
              extendedTimeOut: "1000",
              showEasing: "swing",
              hideEasing: "linear",
              showMethod: "fadeIn",
              hideMethod: "fadeOut"
          };
          app.menuToggle();
          $("#forget").click(function() {
              $("#myModallogin").hide();
              $(".modal-backdrop").hide()
          });
          $("#sign").click(function() {
              getImageUrlForCaptchaRegistration($("#myModal .singup-container"));
              $("#myModallogin").css("display", "none");
              $(".modal-backdrop").hide()
          });
          $("#logco div a").mouseover(function() {
              $(this).removeClass()
          });
          $("#logco > div > a").mouseout(function() {
              $(this).addClass("baw")
          });
          $(document).click(function() {
              $(".bootbox").hide()
          });
          app.menuToggle();
          $(".lottery-modal-btn").click(function(n) {
              n.preventDefault();
              $("#LotteryModal").modal("toggle")
          });
          app.membershipManager()
      }
      ;
      app.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? !0 : !1;
      $.datepicker._gotoToday = function(n) {
          $(n).datepicker("setDate", new Date).datepicker("hide").blur()
      }
      ;
      app.datepickerRegionalButton = function(n) {
          setTimeout(function() {
              var i = $(n).datepicker("widget").find(".ui-datepicker-buttonpane")
                , t = $('<button class="btn btn-primary" type="button"><\\/button>');
              $.cookie("datepickerRegional") == null || $.cookie("datepickerRegional") == "fa" ? (t.html('<span class="glyphicon glyphicon-globe"><\\/span> تقویم میلادی'),
              t.attr("data-regional", "en")) : (t.html('<span class="glyphicon glyphicon-globe"><\\/span> تقویم شمسی'),
              t.attr("data-regional", "fa"));
              t.unbind("click").bind("click", function() {
                  var t = $(this).attr("data-regional");
                  $.cookie("datepickerRegional") == null && $.cookie("datepickerRegional", "fa", {
                      path: "/",
                      expires: 365
                  });
                  t == "en" ? ($.cookie("datepickerRegional", "en", {
                      path: "/",
                      expires: 365
                  }),
                  changeCalendarsRegion("en")) : ($.cookie("datepickerRegional", "fa", {
                      path: "/",
                      expires: 365
                  }),
                  changeCalendarsRegion("fa"));
                  $(n).datepicker("hide");
                  $(n).datepicker("show")
              });
              t.appendTo(i)
          }, 1)
      }
      ;
      app.menuToggle = function() {
          $(".m-main-menu .menu-button").click(function() {
              $(".m-main-menu").toggleClass("shown")
          })
      }
      ;
      app.membershipManager = function() {
          app.checkUser().then(function() {});
          $("#btnlogin").click(function(n) {
              var t = $("#txtEmailLogin").val()
                , i = $("#txtPasslogin").val()
                , r = $("#chkRemember").prop("checked");
              if (t == "") {
                  app.alert.error("لطفا ای‌میل‌ خود را با فُرمت درست وارد کنید");
                  return
              }
              if (i == "") {
                  app.alert.error("لطفا رمز عبور خود را وارد کنید");
                  return
              }
              $("#btnlogin").hide();
              $("#btnlogin").after('<div id="signinloader"><div id="circleG"><div id="circleG_1" class="circleG"><\\/div><div id="circleG_2" class="circleG"><\\/div><div id="circleG_3" class="circleG"><\\/div><\\/div><\\/div>');
              n.preventDefault();
              $.ajax({
                  type: "POST",
                  url: "/api/IpBlock",
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  error: function(n) {
                      console.error(n);
                      $("#signinloader").remove();
                      $("#btnlogin").show()
                  },
                  success: function(n) {
                      if (n == !1) {
                          $("#CaptchaModal").modal("show");
                          return
                      }
                      var u = getParameterByName("returnUrl");
                      $.ajax({
                          type: "POST",
                          url: "/api/login",
                          data: JSON.stringify({
                              email: t,
                              pass: i,
                              rememberMe: r,
                              captcha: !0
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          error: function(n, t) {
                              console.error(t);
                              app.alert.error("خطایی در ورود به حساب کاربری رخ داده است");
                              $("#signinloader").remove();
                              $("#btnlogin").show()
                          },
                          success: function(n) {
                              if ($("#signinloader").remove(),
                              $("#btnlogin").show(),
                              n.isValid == !1)
                                  app.alert.error("نام کاربری یا رمز عبور صحیح نمی باشد");
                              else {
                                  try {
                                      var i = ga.getAll()[0].get("name");
                                      ga(i + ".send", "event", {
                                          eventCategory: "login",
                                          eventAction: "click",
                                          eventLabel: "login success",
                                          eventValue: 0
                                      })
                                  } catch (r) {
                                      console.log(r.message)
                                  }
                                  $.removeCookie("OfferCode");
                                  app.checkNeedAfterLoginShouldBeCallBuyTicketButton(!1);
                                  ShowLogin(n, t);
                                  u != null && (window.location = u)
                              }
                          }
                      })
                  }
              })
          })
      }
      ;
      app.checkUser = function() {
          return {
              then: function() {
                  $.ajax({
                      type: "POST",
                      url: "/api/GetUserInformation",
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      error: function(n) {
                          console.error(n)
                      },
                      success: function(n) {
                          n == "" ? $("#welcome").fadeOut("slow", function() {
                              $("#sign-in").fadeIn("slow")
                          }) : ($("#LoginUserName").show(),
                          $("#myModal").hide(),
                          $("#myModal").modal("hide"),
                          $("#myModallogin").modal("hide"),
                          $("#Loginbox").hide(),
                          $("#LoginUserName").show(),
                          $("#LoginUserName #Username").html(n.email),
                          $("#LoginUserName #userTotalScore").html("امتیـاز من: " + n.totalScore),
                          $("#LoginUserName #userTotalBalance").html("موجودی حساب: " + n.balance + " (ریال)"),
                          $("#hdfPassangerEmail").val(n.email),
                          $("#hdfPassangerCellphone").val(n.cell),
                          $("#passengerEmail").val(n.email),
                          $("#passengerCellphone").val(n.cell),
                          app.currentUserEmail = n.email,
                          app.currentUserCell = n.cell,
                          $("#btnlogin").hide(),
                          $("#LoginMenu").show(),
                          $("#offer").hide())
                      }
                  })
              }
          }
      }
      ;
      app.checkUser2 = function() {
          return {
              then: function(n) {
                  $.ajax({
                      type: "POST",
                      url: "/api/GetUserInformation",
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      error: function(n) {
                          console.error(n)
                      },
                      success: function(t) {
                          t == "" ? $("#welcome").fadeOut("slow", function() {
                              $("#sign-in").fadeIn("slow")
                          }) : ($("#LoginUserName").show(),
                          $("#myModal").hide(),
                          $("#myModal").modal("hide"),
                          $("#myModallogin").modal("hide"),
                          $("#Loginbox").hide(),
                          $("#LoginUserName").show(),
                          $("#LoginUserName #Username").html(t.email),
                          $("#LoginUserName #userTotalScore").html("امتیـاز من: " + t.totalScore),
                          $("#LoginUserName #userTotalBalance").html("موجودی حساب: " + t.balance + " (ریال)"),
                          $("#hdfPassangerEmail").val(t.email),
                          $("#hdfPassangerCellphone").val(t.cell),
                          $("#passengerEmail").val(t.email),
                          $("#passengerCellphone").val(t.cell),
                          app.currentUserEmail = t.email,
                          app.currentUserCell = t.cell,
                          $("#btnlogin").hide(),
                          $("#LoginMenu").show(),
                          $("#offer").hide());
                          n(t)
                      }
                  })
              }
          }
      }
      ;
      app.emailValidation = function(n) {
          return /^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(n)
      }
      ;
      app.PhoneValidation = function(n) {
          return /(00964|0098|0)[\\d]{10}$/g.test(n)
      }
      ;
      app.NationalIDValidation = function(n) {
          var r, t, i;
          return n == "" ? !1 : (r = new RegExp("[0-9]{10}"),
          r.test(n) == !1) ? !1 : (t = n.split("").reverse(),
          i = 0,
          $.each(t, function(n, t) {
              n > 0 && (i += t * (n + 1))
          }),
          NationalID_Remainder = i % 11,
          NationalID_Remainder < 2 && NationalID_Remainder - t[0] != 0) ? !1 : NationalID_Remainder >= 2 && 11 - NationalID_Remainder - t[0] != 0 ? !1 : !0
      }
      ;
      app.loadLazyImages = function() {
          $("[data-bglazy]").css("opacity", "0");
          $("[data-bglazy]").each(function(n, t) {
              var i = $(t).data("bglazy");
              $(t).css("background-image", "url(" + i + ")");
              $(t).animate({
                  opacity: 1
              }, "slow")
          })
      }
      ;
      app.selectFlight = function() {
          function p(n, t, i, r) {
              var u = new Date
                , f = new Date(u.getFullYear(),u.getMonth(),u.getDate())
                , e = $(window).width() < 480 ? 1 : 2
                , o = $.cookie("datepickerRegional") == undefined || $.cookie("datepickerRegional") == "" ? "en" : $.cookie("datepickerRegional");
              $(n).datepicker({
                  isRTL: !0,
                  dateFormat: "yy/mm/dd",
                  minDate: f,
                  numberOfMonths: e,
                  showButtonPanel: !0,
                  onClose: i,
                  beforeShow: function(n) {
                      app.datepickerRegionalButton(n, !0, r)
                  }
              });
              $(n).val(t);
              $(n).datepicker("option", $.datepicker.regional[o]);
              $(n).datepicker("option", "minDate", f);
              $(n).datepicker("option", "dateFormat", "yy/mm/dd (DD)")
          }
          function i(n, t, i) {
              var r, u, f;
              if (i === "iranAirport" && e.indexOf(n) === -1) {
                  for (r = 0; r < c.length; r++)
                      for (u = 0; u < c[r].children.length; u++)
                          f = c[r].children[u],
                          $(n).append($("<option>").val(f.id).text(f.text));
                  e.push(n)
              } else if (i === "trainStations" && e.indexOf(n) === -1) {
                  for (r = 0; r < l.length; r++)
                      for (u = 0; u < l[r].children.length; u++)
                          f = l[r].children[u],
                          $(n).append($("<option>").val(f.id).text(f.text));
                  e.push(n)
              } else if (i === "busStations") {
                  for (r = 0; r < o.length; r++)
                      for (u = 0; u < o[r].children.length; u++)
                          f = o[r].children[u],
                          $(n).append($("<option>").val(f.id).text(f.text));
                  e.indexOf(n) === -1 && e.push(n)
              } else if (i === "busDestStations") {
                  for ($(n).html(""),
                  r = 0; r < s.length; r++)
                      for (u = 0; u < s[r].children.length; u++)
                          f = s[r].children[u],
                          $(n).append($("<option>").val(f.id).text(f.text));
                  e.indexOf(n) === -1 && e.push(n)
              } else if (i === "flightClass")
                  switch (t) {
                  case "First":
                      $(n).val(1);
                      break;
                  case "Business":
                      $(n).val(2);
                      break;
                  case "Economic":
                      $(n).val(3);
                      break;
                  default:
                      $(n).val(0)
                  }
              else
                  t && $(n).val(t)
          }
          function w(n, t, i) {
              var r = t.replace("ي", "ی").replace("ك", "ک").replace("آ", "ا")
                , u = n.replace("ي", "ی").replace("ك", "ک").replace("آ", "ا");
              return r.indexOf(u) !== -1 && i.filterable ? !0 : !1
          }
          function u(n, t, i, r) {
              $(n).select2("destroy");
              $(n).removeClass("internation-select2");
              $(n).select2({
                  placeholder: t,
                  allowClear: !0,
                  matcher: w,
                  data: r,
                  dir: "rtl"
              }).on("select2-opening", function() {
                  $(".hasDatepicker").datepicker("hide")
              }).val(i).trigger("change")
          }
          function b(t, i) {
              $(t).select2("destroy");
              $(t).select2({
                  formatSelection: it,
                  placeholder: i,
                  allowClear: !0,
                  matcher: w,
                  minimumInputLength: 3,
                  dropdownCssClass: "select2-bigdrop international-airports",
                  dir: "ltr",
                  query: function(n) {
                      app.selectFlight.cacheDataSource || (app.selectFlight.cacheDataSource = []);
                      var t = n.term
                        , i = app.selectFlight.cacheDataSource[t];
                      if (i) {
                          n.callback({
                              results: i
                          });
                          return
                      }
                      $.ajax({
                          type: "POST",
                          dataType: "json",
                          contentType: "application/json; charset=utf-8",
                          data: JSON.stringify({
                              query: n.term
                          }),
                          url: "/api/SearchAirports",
                          success: function(i) {
                              app.selectFlight.cacheDataSource[t] = i;
                              n.callback({
                                  results: i
                              })
                          }
                      })
                  }
              }).on("select2-opening", function() {
                  $(".hasDatepicker").datepicker("hide")
              }).val(n).trigger("change")
          }
          function it(n) {
              return n.airport ? n.airport : n.text
          }
          function rt() {
              p(y + "-1", n.fromDate, function(n) {
                  $(h + "-1").datepicker("option", "minDate", n)
              }, h + "-1");
              p(h + "-1", n.returnDate, function(n) {
                  $(y + "-1").datepicker("option", "maxDate", n)
              }, y + "-1");
              n.returnDate && setTimeout(function() {
                  $("#towway-ticket").click()
              }, 500);
              $("#nonstopFlight").prop("checked", n.nonstopFlight);
              i(g, n.adultQuantity || 0, "passengerAdult");
              i(nt, n.childQuantity || 0, "passengerChild");
              i(tt, n.infantQuantity || 0, "passengerInfant");
              $.cookie("datepickerRegional") == "en" && changeCalendarsRegion($.cookie("datepickerRegional"))
          }
          function ut() {
              $(h + "-1").closest("div").show();
              $(".row-1 .row").find("> .col-sm-8").removeClass("col-sm-8").addClass("col-sm-6");
              $(".row-1 .row").find("> .col-sm-4").removeClass("col-sm-4").addClass("col-sm-3");
              a[0].returnDate = ""
          }
          function ft() {
              $(h + "-1").closest("div").hide();
              $(".row-1 .row").find("> .col-sm-6").removeClass("col-sm-6").addClass("col-sm-8");
              $(".row-1 .row").find("> .col-sm-3").not(".flight-class").removeClass("col-sm-3").addClass("col-sm-4");
              delete a[0].returnDate
          }
          function k() {
              f === !1 ? (u(r + "-1", "مبدا (شهر و یا فرودگاه)", n.origin, c),
              u(t + "-1", "مقصد (شهر و یا فرودگاه)", n.destination, c)) : (i(r + "-1", n.origin || null , "iranAirport"),
              i(t + "-1", n.destination || null , "iranAirport"))
          }
          function et() {
              b(r + "-2", "مبدا");
              b(t + "-2", "مقصد")
          }
          function ot() {
              f === !1 ? (u(r + "-4", "شهر مبدا", n.origin, l),
              u(t + "-4", "شهر مقصد", n.destination, l)) : (i(r + "-4", n.origin || null , "trainStations"),
              i(t + "-4", n.destination || null , "trainStations"))
          }
          function st() {
              ht()
          }
          function ht() {
              f === !1 ? (u(r + "-5", "شهر مبدا", n.origin, o),
              u(t + "-5", "شهر مقصد", "", "")) : (i(r + "-5", n.origin || null , "busStations"),
              i(t + "-5", null , "busDestStations"));
              $.ajax({
                  type: "POST",
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  url: "/AirCtr.aspx/GetBusRoutes",
                  data: JSON.stringify({
                      code: ""
                  }),
                  error: function() {
                      app.alert.error("سرویس مسیر اتوبوس با مشکل مواجه شده، دوباره تلاش کنید")
                  },
                  success: function(n) {
                      var t = [];
                      $(n.d.BusRoutes).each(function(n, i) {
                          t.push({
                              text: i.Name_FA + " - " + i.Code,
                              id: i.Code,
                              filterable: !0
                          })
                      });
                      o[1].children = t
                  }
              }).always(function() {
                  f === !1 ? (u(r + "-5", "شهر مبدا", n.origin, o),
                  u(t + "-5", "شهر مقصد", "", "")) : (i(r + "-5", n.origin || null , "busStations"),
                  i(t + "-5", null , "busDestStations"));
                  n.origin && d(n.origin, !0);
                  $(document).on("change", r + "-5", function() {
                      d(this.value, !1)
                  })
              })
          }
          function d(r, e) {
              f === !1 ? u(t + "-5", "شهر مقصد", "", "") : (s[0].children = [],
              i(t + "-5", null , "busDestStations"));
              $.ajax({
                  type: "POST",
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  url: "/AirCtr.aspx/GetBusRoutes",
                  data: JSON.stringify({
                      code: r
                  }),
                  error: function() {
                      app.alert.error("سرویس مسیر اتوبوس با مشکل مواجه شده، دوباره تلاش کنید")
                  },
                  success: function(n) {
                      var t = [];
                      $(n.d.BusRoutes).each(function(n, i) {
                          t.push({
                              text: i.Name_FA + " - " + i.Code,
                              id: i.Code,
                              filterable: !0
                          })
                      });
                      s[0].children = t
                  }
              }).always(function() {
                  f === !1 ? u(t + "-5", "شهر مقصد", e ? n.destination : "", s) : i(t + "-5", n.destination || null , "busDestStations")
              })
          }
          var v = {}, a = [], f, n, y = "#departDate", h = "#returnDate", r = "#origin", t = "#destination", g = "#adultQuantity", nt = "#childQuantity", tt = "#infantQuantity", c = [{
              text: "پُر پرواز",
              children: [{
                  text: "تهران",
                  id: "THR"
              }, {
                  text: "اهواز",
                  id: "AWZ"
              }, {
                  text: "شیراز",
                  id: "SYZ"
              }, {
                  text: "مشهد",
                  id: "MHD"
              }, {
                  text: "بندر عباس",
                  id: "BND"
              }, {
                  text: "اصفهان",
                  id: "IFN"
              }, {
                  text: "تبریز",
                  id: "TBZ"
              }, ]
          }, {
              text: "تمامی شهرها",
              children: [{
                  text: "اراک  -  AJK ",
                  id: "AJK",
                  filterable: !0
              }, {
                  text: "اردبيل  -  ADU",
                  id: "ADU",
                  filterable: !0
              }, {
                  text: "اروميه  -  OMH",
                  id: "OMH",
                  filterable: !0
              }, {
                  text: "اصفهان  -  IFN",
                  id: "IFN",
                  filterable: !0
              }, {
                  text: "اهواز  -  AWZ",
                  id: "AWZ",
                  filterable: !0
              }, {
                  text: "ايرانشهر  -  IHR",
                  id: "IHR",
                  filterable: !0
              }, {
                  text: "ايلام  -  IIL",
                  id: "IIL",
                  filterable: !0
              }, {
                  text: "آبادان  -  ABD",
                  id: "ABD",
                  filterable: !0
              }, {
                  text: "بجنورد  -  BJB",
                  id: "BJB",
                  filterable: !0
              }, {
                  text: "بم  -  BXR",
                  id: "BXR",
                  filterable: !0
              }, {
                  text: "بندر عباس  -  BND",
                  id: "BND",
                  filterable: !0
              }, {
                  text: "بندر لنگه  -  BDH",
                  id: "BDH",
                  filterable: !0
              }, {
                  text: "بوشهر  -  BUZ",
                  id: "BUZ",
                  filterable: !0
              }, {
                  text: "بيرجند  -  XBJ",
                  id: "XBJ",
                  filterable: !0
              }, {
                  text: "پارس آباد  -  PFQ",
                  id: "PFQ",
                  filterable: !0
              }, {
                  text: "تبريز  -  TBZ",
                  id: "TBZ",
                  filterable: !0
              }, {
                  text: "تهران  -  THR",
                  id: "THR",
                  filterable: !0
              }, {
                  text: "جهرم - JAR ",
                  id: "JAR",
                  filterable: !0
              }, {
                  text: "جيرفت  -  JYR",
                  id: "JYR",
                  filterable: !0
              }, {
                  text: "چابهار  -  ZBR",
                  id: "ZBR",
                  filterable: !0
              }, {
                  text: "خارک  -  KHK",
                  id: "KHK",
                  filterable: !0
              }, {
                  text: "خرم آباد  -  KHD",
                  id: "KHD",
                  filterable: !0
              }, {
                  text: "خوي  -  KHY",
                  id: "KHY",
                  filterable: !0
              }, {
                  text: "دزفول  -  DEF",
                  id: "DEF",
                  filterable: !0
              }, {
                  text: "رامسر  -  RZR",
                  id: "RZR",
                  filterable: !0
              }, {
                  text: "رشت  -  RAS",
                  id: "RAS",
                  filterable: !0
              }, {
                  text: "رفسنجان  -  RJN",
                  id: "RJN",
                  filterable: !0
              }, {
                  text: "زابل  -  ACZ",
                  id: "ACZ",
                  filterable: !0
              }, {
                  text: "زاهدان  -  ZAH",
                  id: "ZAH",
                  filterable: !0
              }, {
                  text: "زنجان  -  JWN",
                  id: "JWN",
                  filterable: !0
              }, {
                  text: "ساري  -  SRY",
                  id: "SRY",
                  filterable: !0
              }, {
                  text: "سبزوار  -  AFZ",
                  id: "AFZ",
                  filterable: !0
              }, {
                  text: "سنندج  -  SDG",
                  id: "SDG",
                  filterable: !0
              }, {
                  text: "سيرجان  -  SYJ",
                  id: "SYJ",
                  filterable: !0
              }, {
                  text: "شهرکرد  -  CQD",
                  id: "CQD",
                  filterable: !0
              }, {
                  text: "شاهرود  -  RUD",
                  id: "RUD",
                  filterable: !0
              }, {
                  text: "شيراز  -  SYZ",
                  id: "SYZ",
                  filterable: !0
              }, {
                  text: "طبس  -  TCX",
                  id: "TCX",
                  filterable: !0
              }, {
                  text: "عسلويه  -  PGU",
                  id: "PGU",
                  filterable: !0
              }, {
                  text: "قشم  -  GSM",
                  id: "GSM",
                  filterable: !0
              }, {
                  text: "کاشان  -  KSN",
                  id: "KSN",
                  filterable: !0
              }, {
                  text: "کلاله  -  KLM",
                  id: "KLM",
                  filterable: !0
              }, {
                  text: "کرمان  -  KER",
                  id: "KER",
                  filterable: !0
              }, {
                  text: "کرمانشاه  -  KSH",
                  id: "KSH",
                  filterable: !0
              }, {
                  text: "کيش  -  KIH",
                  id: "KIH",
                  filterable: !0
              }, {
                  text: "گچساران  -  GCH",
                  id: "GCH",
                  filterable: !0
              }, {
                  text: "گرگان  -  GBT",
                  id: "GBT",
                  filterable: !0
              }, {
                  text: "لار  -  LRR",
                  id: "LRR",
                  filterable: !0
              }, {
                  text: "لامرد  -  LFM",
                  id: "LFM",
                  filterable: !0
              }, {
                  text: "ماکو  -  MKU",
                  id: "MKU",
                  filterable: !0
              }, {
                  text: "ماهشهر  -  MRX",
                  id: "MRX",
                  filterable: !0
              }, {
                  text: "مراغه  -  ACP",
                  id: "ACP",
                  filterable: !0
              }, {
                  text: "مشهد  -  MHD",
                  id: "MHD",
                  filterable: !0
              }, {
                  text: "نوشهر  -  NSH",
                  id: "NSH",
                  filterable: !0
              }, {
                  text: "همدان  -  HDM",
                  id: "HDM",
                  filterable: !0
              }, {
                  text: "ياسوج  -  YES",
                  id: "YES",
                  filterable: !0
              }, {
                  text: "يزد  -  AZD",
                  id: "AZD",
                  filterable: !0
              }]
          }], l = [{
              text: "پُر تردد",
              children: [{
                  text: "تهران",
                  id: "THR"
              }, {
                  text: "اهواز",
                  id: "AWZ"
              }, {
                  text: "شیراز",
                  id: "SYZ"
              }, {
                  text: "مشهد",
                  id: "MHD"
              }, {
                  text: "بندرعباس",
                  id: "BND"
              }, {
                  text: "اصفهان",
                  id: "IFN"
              }, {
                  text: "تبریز",
                  id: "TBZ"
              }, ]
          }, {
              text: "تمامی شهرها",
              children: [{
                  text: "آباده",
                  id: "ABADEH",
                  filterable: !0
              }, {
                  text: "آبگرم",
                  id: "ABGARM",
                  filterable: !0
              }, {
                  text: "آب نیل",
                  id: "ABNIL",
                  filterable: !0
              }, {
                  text: "آبیک",
                  id: "ABYEK",
                  filterable: !0
              }, {
                  text: "آتش بغ",
                  id: "ATASHBAG",
                  filterable: !0
              }, {
                  text: "اراک",
                  id: "AJK",
                  filterable: !0
              }, {
                  text: "اردکان",
                  id: "ARDKAN",
                  filterable: !0
              }, {
                  text: "ارسنجان",
                  id: "ARSANJAN",
                  filterable: !0
              }, {
                  text: "آزادور",
                  id: "AZADVAR",
                  filterable: !0
              }, {
                  text: "ازنا",
                  id: "AZNA",
                  filterable: !0
              }, {
                  text: "اسلامشهر",
                  id: "ESLMSHAR",
                  filterable: !0
              }, {
                  text: "اصفهان",
                  id: "IFN",
                  filterable: !0
              }, {
                  text: "اقلید",
                  id: "EGHLID",
                  filterable: !0
              }, {
                  text: "الوند",
                  id: "ALVAND",
                  filterable: !0
              }, {
                  text: "اندیمشک",
                  id: "ANDMESHK",
                  filterable: !0
              }, {
                  text: "اهواز",
                  id: "AWZ",
                  filterable: !0
              }, {
                  text: "بافق",
                  id: "BAFGH",
                  filterable: !0
              }, {
                  text: "بادرود",
                  id: "BADROOD",
                  filterable: !0
              }, {
                  text: "بجستان",
                  id: "BJSTAN",
                  filterable: !0
              }, {
                  text: "بم",
                  id: "BXR",
                  filterable: !0
              }, {
                  text: "بندرترکمن",
                  id: "BNDTRKMN",
                  filterable: !0
              }, {
                  text: "بندرعباس",
                  id: "BND",
                  filterable: !0
              }, {
                  text: "بهاباد",
                  id: "BAHABAD",
                  filterable: !0
              }, {
                  text: "بیشه",
                  id: "BISHE",
                  filterable: !0
              }, {
                  text: "پرند",
                  id: "PARAND",
                  filterable: !0
              }, {
                  text: "پل سفید",
                  id: "POLSEFID",
                  filterable: !0
              }, {
                  text: "پیشوا",
                  id: "PISHVA",
                  filterable: !0
              }, {
                  text: "تاکستان",
                  id: "TAKESTAN",
                  filterable: !0
              }, {
                  text: "تبریز",
                  id: "TBZ",
                  filterable: !0
              }, {
                  text: "تپه سفید",
                  id: "TAPESFID",
                  filterable: !0
              }, {
                  text: "تربت حیدریه",
                  id: "TRBTHDR",
                  filterable: !0
              }, {
                  text: "تربیت معلم",
                  id: "TARBIATMOALEM",
                  filterable: !0
              }, {
                  text: "تنگ هفت",
                  id: "TANGHAFT",
                  filterable: !0
              }, {
                  text: "تهران",
                  id: "THR",
                  filterable: !0
              }, {
                  text: "جاجرم",
                  id: "JAJARM",
                  filterable: !0
              }, {
                  text: "جلفا",
                  id: "JOLFA",
                  filterable: !0
              }, {
                  text: "جمکران",
                  id: "JMKRN",
                  filterable: !0
              }, {
                  text: "جوین",
                  id: "JOVIN",
                  filterable: !0
              }, {
                  text: "چمسنگر",
                  id: "CHAMSNGR",
                  filterable: !0
              }, {
                  text: "خراسانک",
                  id: "KHORASAN",
                  filterable: !0
              }, {
                  text: "خرم پی",
                  id: "KHORMPEY",
                  filterable: !0
              }, {
                  text: "خرم دره",
                  id: "KHORAMDR",
                  filterable: !0
              }, {
                  text: "خرمشهر",
                  id: "KHORMSHR",
                  filterable: !0
              }, {
                  text: "خواف",
                  id: "KHAF",
                  filterable: !0
              }, {
                  text: "دامغان",
                  id: "DAMGHAN",
                  filterable: !0
              }, {
                  text: "دورود",
                  id: "DORUD",
                  filterable: !0
              }, {
                  text: "رازی",
                  id: "RAZI",
                  filterable: !0
              }, {
                  text: "زاهدان",
                  id: "ZAH",
                  filterable: !0
              }, {
                  text: "زرین دشت",
                  id: "ZARINDSH",
                  filterable: !0
              }, {
                  text: "زرند",
                  id: "ZARAND",
                  filterable: !0
              }, {
                  text: "زنجان",
                  id: "JWN",
                  filterable: !0
              }, {
                  text: "زواره",
                  id: "ZAVRE",
                  filterable: !0
              }, {
                  text: "ساری",
                  id: "SRY",
                  filterable: !0
              }, {
                  text: "سبزوار",
                  id: "AFZ",
                  filterable: !0
              }, {
                  text: "سپیددشت",
                  id: "SEPIDASH",
                  filterable: !0
              }, {
                  text: "سرخس",
                  id: "CKT",
                  filterable: !0
              }, {
                  text: "سعادت شهر",
                  id: "SADATSHAHR",
                  filterable: !0
              }, {
                  text: "سلماس",
                  id: "SOLMAS",
                  filterable: !0
              }, {
                  text: "سمنان",
                  id: "SEMNAN",
                  filterable: !0
              }, {
                  text: "سهند",
                  id: "ACP",
                  filterable: !0
              }, {
                  text: "سیرجان",
                  id: "SYJ",
                  filterable: !0
              }, {
                  text: "سیمین دشت",
                  id: "SIMINDSH",
                  filterable: !0
              }, {
                  text: "شازند",
                  id: "SHAZAND",
                  filterable: !0
              }, {
                  text: "شاهرود",
                  id: "RUD",
                  filterable: !0
              }, {
                  text: "شرفخانه",
                  id: "SHARAFKHANE",
                  filterable: !0
              }, {
                  text: "شهرضا",
                  id: "SHAHRREZA",
                  filterable: !0
              }, {
                  text: "شوش",
                  id: "SHOUSH",
                  filterable: !0
              }, {
                  text: "شوشتر",
                  id: "SHOSHTAR",
                  filterable: !0
              }, {
                  text: "شیراز",
                  id: "SYZ",
                  filterable: !0
              }, {
                  text: "صفاشهر",
                  id: "SAFASHAHR",
                  filterable: !0
              }, {
                  text: "طبس",
                  id: "TCX",
                  filterable: !0
              }, {
                  text: "فهرج",
                  id: "FAHRAJ",
                  filterable: !0
              }, {
                  text: "فیروزکوه",
                  id: "FIRUZKUH",
                  filterable: !0
              }, {
                  text: "قائمشهر",
                  id: "GHAEMSHR",
                  filterable: !0
              }, {
                  text: "قزوین",
                  id: "GZW",
                  filterable: !0
              }, {
                  text: "قم",
                  id: "QUM",
                  filterable: !0
              }, {
                  text: "کارون",
                  id: "KARUN",
                  filterable: !0
              }, {
                  text: "کاشان",
                  id: "KASHAN",
                  filterable: !0
              }, {
                  text: "کرج",
                  id: "QKC",
                  filterable: !0
              }, {
                  text: "کرمان",
                  id: "KER",
                  filterable: !0
              }, {
                  text: "گرگان",
                  id: "GBT",
                  filterable: !0
              }, {
                  text: "گرمسار",
                  id: "GARMSAR",
                  filterable: !0
              }, {
                  text: "ماهشهر",
                  id: "MAHSHAHR",
                  filterable: !0
              }, {
                  text: "محمدیه",
                  id: "MHMADIE",
                  filterable: !0
              }, {
                  text: "مراغه",
                  id: "MARAGEH",
                  filterable: !0
              }, {
                  text: "مرودشت",
                  id: "MARVDASHT",
                  filterable: !0
              }, {
                  text: "مشهد",
                  id: "MHD",
                  filterable: !0
              }, {
                  text: "ملایر",
                  id: "MALAYER",
                  filterable: !0
              }, {
                  text: "مهاباد",
                  id: "MAHABAD",
                  filterable: !0
              }, {
                  text: "میاندوآب",
                  id: "MIANDOAB",
                  filterable: !0
              }, {
                  text: "میانه",
                  id: "MIANEH",
                  filterable: !0
              }, {
                  text: "میبد",
                  id: "MEYBOD",
                  filterable: !0
              }, {
                  text: "نقاب",
                  id: "NEGAB",
                  filterable: !0
              }, {
                  text: "نیشابور",
                  id: "NEYSHABR",
                  filterable: !0
              }, {
                  text: "هشتگرد",
                  id: "HASHTGER",
                  filterable: !0
              }, {
                  text: "هفت تپه",
                  id: "HAFTTAPE",
                  filterable: !0
              }, {
                  text: "همدان",
                  id: "HMD",
                  filterable: !0
              }, {
                  text: "ورامین",
                  id: "VARAMIN",
                  filterable: !0
              }, {
                  text: "ورسک",
                  id: "VERESK",
                  filterable: !0
              }, {
                  text: "یزد",
                  id: "AZD",
                  filterable: !0
              }]
          }], o = [{
              text: "پُر تردد",
              children: [{
                  text: "تهران بيهقي",
                  id: "THB"
              }, {
                  text: "اهواز",
                  id: "AWZ"
              }, {
                  text: "شیراز",
                  id: "SYZ"
              }, {
                  text: "مشهد",
                  id: "MHD"
              }, {
                  text: "بندرعباس",
                  id: "BND"
              }, {
                  text: "اصفهان صفه",
                  id: "IFS"
              }, {
                  text: "تبریز",
                  id: "TBZ"
              }, ]
          }, {
              text: "تمامی شهرها",
              children: []
          }], s = [{
              text: "مقصد",
              children: []
          }], e = [];
          return v.init = function(t, i) {
              function r(n) {
                  n ? ($("#FlightOptions").show(),
                  $("#searchFlightOptionButton").text("- بستن فیلترها")) : ($("#FlightOptions").hide(),
                  $("#searchFlightOptionButton").text("+ فیلترهای بیش تر"))
              }
              function o() {
                  $("#departDate-1").addClass("hideInput");
                  $("#returnDate-1").addClass("hideInput");
                  $("#btnSearch").addClass("hideInput");
                  $("#searchFlightOptionButton").addClass("hideInput");
                  $("#FlightOptions").addClass("hideInput")
              }
              function u() {
                  $("#departDate-1").removeClass("hideInput");
                  $("#returnDate-1").removeClass("hideInput");
                  $("#btnSearch").removeClass("hideInput");
                  $("#searchFlightOptionButton").removeClass("hideInput");
                  $("#FlightOptions").removeClass("hideInput")
              }
              function s() {
                  var n = findInputIndex();
                  switch (n) {
                  case 4:
                      $("#trainTicketType").val(i.ticketType);
                      $("#passengerQuantity").val(i.passengers);
                      i.exclusiveCompartment == "1" && ($(".train-options").hide(),
                      $("#TrainOptions").hide(),
                      $("#searchTrainOptionButton").click(),
                      $("#exclusiveCompartment").attr("checked", "checked"));
                      break;
                  case 5:
                      $("#buspassengerQuantity").val(i.passengers)
                  }
              }
              f = t;
              n = i;
              a.push({
                  index: 1
              });
              rt(1);
              k();
              et();
              $("#towway-ticket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && ($(this).addClass("active"),
                  $("#oneway-ticket,#international-ticket").removeClass("active"),
                  ut())
              });
              $("#oneway-ticket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && ($(this).addClass("active"),
                  $("#towway-ticket,#international-ticket").removeClass("active"),
                  ft())
              });
              $("#IranTicket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && (k(),
                  $(this).addClass("active"),
                  $("#InternationalTicket").removeClass("active"),
                  $("#InternationalCharterTicket").removeClass("active"),
                  $("#TrainTicket").removeClass("active"),
                  $("#BusTicket").removeClass("active"),
                  $("#TourTab").removeClass("active"),
                  r(!1),
                  $("#InternationalTicketContent").hide(),
                  $("#TrainTicketContent").hide(),
                  $("#IranTicketContent").show(),
                  $("#BusTicketContent").hide(),
                  $("#TourTabContent").hide(),
                  $("#passengerSelector .flight").removeClass("hidden"),
                  $("#passengerSelector .train").addClass("hidden"),
                  $("#passengerSelector .bus").addClass("hidden"),
                  $(".internationalflight-options").hide(),
                  $(".train-options").hide(),
                  $(".bus-options").hide(),
                  $("#towway-ticket").show(),
                  $("#searchleft .search-text").text("جستجوی بلیط هواپیما"),
                  $(".search-text").next(".note").show(),
                  checkFormDataForLoadPreferencesCookie(),
                  setTrainOptionVisible(!1, !1),
                  u())
              });
              var e = !0;
              $("#TourTab").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && ($(this).addClass("active"),
                  o(),
                  $("#InternationalTicket").removeClass("active"),
                  $("#InternationalCharterTicket").removeClass("active"),
                  $("#TrainTicket").removeClass("active"),
                  $("#BusTicket").removeClass("active"),
                  $("#IranTicket").removeClass("active"),
                  $("#InternationalTicketContent").hide(),
                  $("#TrainTicketContent").hide(),
                  $("#TourTabContent").show(),
                  $("#BusTicketContent").hide(),
                  $("#IranTicketContent").hide(),
                  $("#searchleft .search-text").text("جستجوی تور"),
                  $(".search-text").next(".note").show(),
                  $(".note").hide(),
                  $("#passengerSelector .flight").addClass("hidden"),
                  $("#passengerSelector .train").addClass("hidden"),
                  $("#passengerSelector .bus").addClass("hidden"),
                  $("#tour-select2").select2(),
                  $(".internationalflight-options").hide(),
                  $(".train-options").hide(),
                  $(".bus-options").hide(),
                  e && (setTourOption(e),
                  e = !1))
              });
              $("#InternationalTicket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") !== !1) && ($(this).addClass("active"),
                  $("#IranTicket").removeClass("active"),
                  $("#InternationalCharterTicket").removeClass("active"),
                  $("#TrainTicket").removeClass("active"),
                  $("#BusTicket").removeClass("active"),
                  $("#TourTab").removeClass("active"),
                  $("#towway-ticket").click(),
                  r(!0),
                  $("#InternationalTicketContent").show(),
                  $("#IranTicketContent").hide(),
                  $("#TrainTicketContent").hide(),
                  $("#BusTicketContent").hide(),
                  $("#TourTabContent").hide(),
                  $("#passengerSelector .flight").removeClass("hidden"),
                  $("#passengerSelector .train").addClass("hidden"),
                  $("#passengerSelector .bus").addClass("hidden"),
                  $("#towway-ticket").show(),
                  $(".internationalflight-options").show(),
                  $(".train-options").hide(),
                  $(".bus-options").hide(),
                  $("#departDate-1").show(),
                  $("#returnDate-1").show(),
                  $("#searchleft .search-text").text("جستجوی بلیط هواپیما"),
                  $(".search-text").next(".note").show(),
                  u(),
                  checkFormDataForLoadPreferencesCookie(),
                  setTrainOptionVisible(!1, !1))
              });
              $("#TrainTicket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && (ot(),
                  $(this).addClass("active"),
                  $("#InternationalTicket").removeClass("active"),
                  $("#InternationalCharterTicket").removeClass("active"),
                  $("#IranTicket").removeClass("active"),
                  $("#BusTicket").removeClass("active"),
                  $("#TourTab").removeClass("active"),
                  $("#oneway-ticket").click(),
                  r(!1),
                  $("#InternationalTicketContent").hide(),
                  $("#IranTicketContent").hide(),
                  $("#TrainTicketContent").show(),
                  $("#BusTicketContent").hide(),
                  $("#TourTabContent").hide(),
                  $(".internationalflight-options").hide(),
                  $(".train-options").hide(),
                  $(".bus-options").hide(),
                  $("#towway-ticket").show(),
                  $("#departDate-1").show(),
                  $("#passengerSelector .flight").addClass("hidden"),
                  $("#passengerSelector .train").removeClass("hidden"),
                  $("#passengerSelector .bus").addClass("hidden"),
                  $("#towway-ticket").show(),
                  $(".internationalflight-options").hide(),
                  $(".train-options").show(),
                  $("#searchleft .search-text").text("جستجوی بلیط قطار"),
                  $(".search-text").next(".note").show(),
                  u(),
                  checkFormDataForLoadPreferencesCookie(),
                  setTrainOptionVisible(!0, !0))
              });
              $("#BusTicket").click(function(n) {
                  (n.preventDefault(),
                  $(this).is(":not(.active)") != !1) && (st(),
                  $(this).addClass("active"),
                  $("#InternationalTicket").removeClass("active"),
                  $("#InternationalCharterTicket").removeClass("active"),
                  $("#IranTicket").removeClass("active"),
                  $("#TrainTicket").removeClass("active"),
                  $("#TourTab").removeClass("active"),
                  $("#oneway-ticket").click(),
                  r(!1),
                  $("#InternationalTicketContent").hide(),
                  $("#IranTicketContent").hide(),
                  $("#TrainTicketContent").hide(),
                  $("#BusTicketContent").show(),
                  $("#TourTabContent").hide(),
                  $("#departDate-1").show(),
                  $("#returnDate-1").show(),
                  $("#passengerSelector .flight").addClass("hidden"),
                  $("#passengerSelector .train").addClass("hidden"),
                  $("#passengerSelector .bus").removeClass("hidden"),
                  $(".internationalflight-options").hide(),
                  $(".train-options").hide(),
                  $(".bus-options").hide(),
                  u(),
                  $("#searchleft .search-text").text("جستجوی بلیط اتوبوس"),
                  $(".search-text").next(".note").show())
              });
              window.location.hash === "#TrainTicket" && $("#TrainTicket").click();
              window.location.hash === "#IranTicket" && $("#IranTicket").click();
              window.location.hash === "#InternationalTicket" && $("#InternationalTicket").click();
              window.location.hash === "#Login?returnUrl=MyTickets.aspx" && ($("#myModallogin").css("display") == "none" && $("#myModallogin").css("display", "block"),
              app.AfterLoginShouldBeCallBuyTicketButton = !0,
              $("#myModallogin").modal("show"));
              $("#AirlinesFilter").select2({
                  placeholder: "همه‌ی هواپیمایی‌ها",
                  allowClear: !1,
                  dir: "rtl"
              });
              s()
          }
          ,
          v.getDirections = function() {
              return a
          }
          ,
          v
      }();
      app.menuToggle = function() {
          $(".m-main-menu .menu-button").click(function() {
              $(".m-main-menu").toggleClass("shown")
          })
      }
      ;
      app.login = function() {
          function n() {
              var n = $(".register-form"), t = $(".login-form-container"), i, r;
              $(n).css("overflow", "");
              var u = $(window).height()
                , e = $(t).height()
                , f = $(window).width()
                , o = $(t).width();
              u < e ? (i = (u - 20).toString() + "px",
              $(t).css("height", i),
              $(n).css({
                  height: i,
                  overflow: "scroll"
              })) : ($(n).css("height", ""),
              $(t).css("height", ""),
              $(n).css("overflow-y", ""));
              f < o ? (r = (f - 20).toString() + "px",
              $(t).css("width", r),
              $(n).css({
                  width: r,
                  overflow: "scroll"
              })) : ($(n).css("width", ""),
              $(t).css("width", ""),
              $(n).css("overflow-x", ""))
          }
          $(".not-user").click(function(t) {
              t.preventDefault();
              $.blockUI({
                  message: $(".login-form-container"),
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "30%",
                      top: "5%",
                      left: "35%",
                      textAlign: "center",
                      color: "#000",
                      backgroundColor: "#fff",
                      cursor: "default",
                      opacity: 1,
                      border: "none"
                  },
                  overlayCSS: {
                      backgroundColor: "#000",
                      opacity: .6,
                      cursor: "default"
                  }
              });
              $("#modalGoToRegister").click();
              n()
          });
          $("#sign-up .close").click(function() {
              $(".l-header .overlay , #sign-up").fadeOut()
          })
      }
      ;
      app.datePicker = function() {
          var n = new Date;
          $("#txtStartDate").datepicker({
              defaultDate: "w",
              dateFormat: "yy/mm/dd",
              minDate: n,
              onClose: function(n) {
                  $("#txtEndDate").datepicker("option", "minDate", n)
              }
          });
          $("#txtEndDate").datepicker({
              defaultDate: "w",
              dateFormat: "yy/mm/dd",
              minDate: n,
              onClose: function(n) {
                  $("#txtStartDate").datepicker("option", "maxDate", n)
              }
          })
      }
      ;
      app.passengerFields = function() {
          function n() {
              if (app.loading.start(),
              jQuery.isEmptyObject(app.PhoneBookData)) {
                  var n = $("#hdfFlightDate").val();
                  n || (n = app.hdfRdateFrom);
                  $.ajax({
                      type: "POST",
                      url: "/selectFlight.aspx/LoadPhoneBookDT",
                      data: JSON.stringify({
                          flightDate: n
                      }),
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      async: !1,
                      error: function(n) {
                          app.alert.error("در حال حاضر امکان استفاده از این قابلیت میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید.");
                          console.error(n)
                      },
                      success: function(n) {
                          app.PhoneBookData = n.d
                      },
                      complete: function() {
                          app.loading.close()
                      }
                  })
              }
          }
          function t() {
              $.when(n()).then(SetPhoneBookInView())
          }
          $(".add-passenger").click(function(n) {
              var t, i, r, u, f, e;
              if (n.preventDefault(),
              t = $(this).data("age"),
              i = $("#forward .choose.selected").data("systemkey"),
              t == 2 && ["S", "I", "F"].indexOf(i) > -1) {
                  app.alert.error("بلیط چارتر برای نوزاد صادر نمی شود، هنگام دریافت کارت پرواز می توانید با پرداخت مبلغی معادل 10 تا 35 درصد قیمت مصوب مسیر،برای نوزاد خود کارت پرواز دریافت نمایید.");
                  return
              }
              if (t != 2 && (r = $("#passengers").find("#adult-passengers .passenger-detail-info").length + $("#passengers").find("#child-passengers .passenger-detail-info").length,
              u = parseInt($("article.selected-ticket").attr("data-count")),
              u <= r)) {
                  toastr.error("تعداد مسافران شما بیش از ظرفیت پرواز انتخابی است.");
                  return
              }
              addPassenger(t);
              f = $("#forward .choose.selected").data("airline");
              e = $("#forward .choose.selected").data("classtype");
              app.SetReqiredFieldBasedOnAirLine(f, e)
          });
          $(".m-passengers").on("click", "a.remove-passenger", function() {
              var n = $(this).closest(".passenger-detail-info-container")
                , t = n.find(".passenger-detail-info").length
                , i = n.find("fieldset").attr("data-age") == "0" ? !0 : !1;
              if (t == 1 && i == !0) {
                  app.DomesticFlightPage == !0 && ($(this).closest(".passenger-detail-info").find('input[type="text"]').val(""),
                  $(this).closest(".passenger-detail-info").find("select").val(""),
                  $(this).closest(".passenger-detail-info").find(".select2-container").select2("data", "").trigger("change"));
                  return
              }
              $(this).hasClass("remove-passenger") && $(this).closest(".passenger-detail-info").animate({
                  opacity: 0
              }, 150, function() {
                  $(this).animate({
                      height: 0
                  }, 150, function() {
                      t <= 1 && n.addClass("hidden");
                      subTimeFromTimer(90);
                      $(this).remove()
                  })
              })
          });
          $(".m-passengers").click(".remove-passenger-info", function() {
              if ($(this).hasClass("remove-passenger-info")) {
                  var n = $(this).parent();
                  $(n).fadeOut(100);
                  $(n).remove()
              }
          });
          $(".m-passengers").on("click", "a.load-passenger-info", function(n) {
              var i = $(n.target).closest(".passenger-detail-info");
              ReadyPassngerBoxToLoadData(i);
              t();
              $.blockUI({
                  message: $(".load-passenger-info-container-all"),
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "70%",
                      top: "5%",
                      left: "15%",
                      textAlign: "center",
                      color: "#000",
                      backgroundColor: "#fff",
                      cursor: "default",
                      opacity: 1,
                      border: "none"
                  },
                  overlayCSS: {
                      backgroundColor: "#000",
                      opacity: .6,
                      cursor: "default"
                  },
                  blockMsgClass: "load-passenger-info-container-block"
              })
          })
      }
      ;
      app.trainPassengerFields = function() {
          function n() {
              if (app.loading.start(),
              jQuery.isEmptyObject(app.PhoneBookData)) {
                  var n = $("#hdfFlightDate").val();
                  $.ajax({
                      type: "POST",
                      url: "/selectFlight.aspx/LoadPhoneBookDT",
                      data: JSON.stringify({
                          flightDate: n
                      }),
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      async: !1,
                      error: function(n) {
                          app.alert.error("در حال حاضر امکان استفاده از این قابلیت میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید.");
                          console.error(n)
                      },
                      success: function(n) {
                          app.PhoneBookData = n.d
                      },
                      complete: function() {
                          app.loading.close()
                      }
                  })
              }
          }
          function t() {
              $.when(n()).then(SetPhoneBookInView())
          }
          $(".add-passenger").click(function(n) {
              if (n.preventDefault(),
              app.transit == 1)
                  addTrainTransitCar(),
                  app.setTrainReqiredFieldsTransit();
              else {
                  var t = +$(".selected-ticket a.selected").data("compartmentcapacity")
                    , i = $("#train-passengers-detail-info .passenger-detail-info").length;
                  $("#hdfExclusiveCompartment").val() === "1" && t !== 0 && i >= t ? app.alert.error("تعداد مسافر برای یک کوپه دربست در قطار انتخابی بیش از حد است.") : addTrainPassenger();
                  app.setTrainReqiredFields()
              }
          });
          $(".m-passengers").on("click", "a.remove-passenger", function() {
              var n = $(this).closest(".passenger-detail-info-container")
                , t = n.find(".passenger-detail-info").length
                , i = n.find("fieldset").attr("data-age") == "0" ? !0 : !1;
              (t != 1 || i != !0) && $(this).hasClass("remove-passenger") && $(this).closest(".passenger-detail-info").animate({
                  opacity: 0
              }, 300, function() {
                  $(this).animate({
                      height: 0
                  }, 300, function() {
                      t <= 1 && n.addClass("hidden");
                      $(this).remove();
                      app.passengersCount--;
                      $("#passengerCountForFood").val(app.passengersCount)
                  })
              })
          });
          $(".m-passengers").click(".remove-passenger-info", function() {
              if ($(this).hasClass("remove-passenger-info")) {
                  var n = $(this).parent();
                  $(n).fadeOut(100);
                  $(n).remove()
              }
          });
          $(".m-passengers").on("click", "a.load-passenger-info", function(n) {
              var i = $(n.target).closest(".passenger-detail-info");
              ReadyPassngerBoxToLoadData(i);
              t();
              $.blockUI({
                  message: $(".load-passenger-info-container-all"),
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "70%",
                      top: "5%",
                      left: "15%",
                      textAlign: "center",
                      color: "#000",
                      backgroundColor: "#fff",
                      cursor: "default",
                      opacity: 1,
                      border: "none"
                  },
                  overlayCSS: {
                      backgroundColor: "#000",
                      opacity: .6,
                      cursor: "default"
                  }
              })
          })
      }
      ;
      app.busPassengerFields = function() {
          function n() {
              app.loading.start();
              jQuery.isEmptyObject(app.PhoneBookData) && $.ajax({
                  type: "POST",
                  url: "/BusAvailable.aspx/LoadPhoneBookDT",
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  timeout: 12e4,
                  async: !1,
                  error: function(n) {
                      app.alert.error("در حال حاظر امکان استفاده از این قابلیت میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید.");
                      console.error(n)
                  },
                  success: function(n) {
                      app.PhoneBookData = n.d
                  },
                  complete: function() {
                      app.loading.close()
                  }
              })
          }
          function t() {
              $.when(n()).then(SetPhoneBookInView())
          }
          $(".add-passenger").click(function(n) {
              n.preventDefault();
              var t = +$(".selected-ticket a.selected").data("compartmentcapacity")
                , i = $("#bus-passengers-detail-info .passenger-detail-info").length;
              addBusPassenger();
              app.setBusReqiredFields()
          });
          $(".m-passengers").on("click", "a.remove-passenger", function() {
              var n = $(this).closest(".passenger-detail-info-container")
                , t = n.find(".passenger-detail-info").length
                , i = n.find("fieldset").attr("data-age") == "0" ? !0 : !1;
              (t != 1 || i != !0) && $(this).hasClass("remove-passenger") && $(this).closest(".passenger-detail-info").animate({
                  opacity: 0
              }, 300, function() {
                  $(this).animate({
                      height: 0
                  }, 300, function() {
                      t <= 1 && n.addClass("hidden");
                      $(this).remove()
                  })
              })
          });
          $(".m-passengers").click(".remove-passenger-info", function() {
              if ($(this).hasClass("remove-passenger-info")) {
                  var n = $(this).parent();
                  $(n).fadeOut(100);
                  $(n).remove()
              }
          });
          $(".m-passengers").on("click", "a.load-passenger-info", function(n) {
              var i = $(n.target).closest(".passenger-detail-info");
              ReadyPassngerBoxToLoadData(i);
              t();
              $.blockUI({
                  message: $(".load-passenger-info-container-all"),
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "70%",
                      top: "5%",
                      left: "15%",
                      textAlign: "center",
                      color: "#000",
                      backgroundColor: "#fff",
                      cursor: "default",
                      opacity: 1,
                      border: "none"
                  },
                  overlayCSS: {
                      backgroundColor: "#000",
                      opacity: .6,
                      cursor: "default"
                  }
              })
          })
      }
      ;
      searchPassenger = function(n) {
          $(n).after($("<input class='search-passenger-field' placeholder='نام خانوادگی' onclick='activateSearchPassenger(this)' />"));
          $(".search-passenger-field").trigger("click");
          $(".search-passenger-field").focus();
          $(n).hide()
      }
      ;
      activateSearchPassenger = function(n) {
          $(n).easyAutocomplete({
              data: app.PhoneBookData,
              highlightPhrase: !0,
              getValue: "LastName",
              placeholder: "نام خانوادگی",
              list: {
                  match: {
                      enabled: !0
                  },
                  onSelectItemEvent: function() {},
                  onClickEvent: function() {
                      searchArrayOfPassengers($(n).getSelectedItemData().ID)
                  },
                  maxNumberOfElements: 15
              },
              template: {
                  type: "custom",
                  method: function(n, t) {
                      return t.Name + " " + n + " - " + t.BirthDate_Persian + " - " + t.NationalID
                  }
              }
          });
          $(n).focus()
      }
      ;
      app.setFlightPassengerDatePicker = function(n, t) {
          var r = n.find(".birthday"), f, u, i;
          if (r.datepicker({
              dateFormat: "yy/mm/dd",
              firstDay: 1,
              numberOfMonths: 1,
              yearRange: "-120:+100",
              changeYear: !0,
              changeMonth: !0,
              showButtonPanel: !0,
              beforeShow: function(n) {
                  app.datepickerRegionalButton(n, !1)
              }
          }),
          f = $("#hdfFlightDate").val(),
          !app.InternationalPage)
              switch (t) {
              case 1:
                  i = new Date(f);
                  u = new Date(f);
                  i.setYear(i.getFullYear() - 2);
                  i.setMonth(2);
                  i.setDate(22);
                  u.setYear(u.getFullYear() - 12);
                  r.datepicker("setDate", null );
                  r.datepicker("option", "maxDate", i);
                  r.datepicker("option", "minDate", u);
                  break;
              case 2:
                  i = new Date(f);
                  u = new Date(f);
                  i = new Date(i.valueOf() - 864e6);
                  i.setMonth(2);
                  i.setDate(22);
                  u.setYear(u.getFullYear() - 2);
                  r.datepicker("setDate", null );
                  r.datepicker("option", "maxDate", i);
                  r.datepicker("option", "minDate", u);
                  break;
              case 0:
              default:
                  i = new Date(f);
                  i.setYear(i.getFullYear() - 12);
                  i.setMonth(2);
                  i.setDate(22);
                  r.datepicker("setDate", null );
                  r.datepicker("option", "maxDate", i);
                  r.datepicker("option", "minDate", null )
              }
      }
      ;
      app.setPassengerDatePickerWithPassengerList = function(n) {
          var o = $(n.target), e = n.val(), t = n.closest(".row").find(".hasDatepicker"), u = $("#hdfFlightDate").val(), i;
          switch (e) {
          case "Adult":
              i = new Date(u);
              i.setYear(i.getFullYear() - 12);
              i.setDate(i.getDate() - 1);
              t.datepicker("setDate");
              t.datepicker("option", "maxDate", i);
              t.datepicker("option", "minDate", null );
              break;
          case "Child":
              var f = new Date(u).getFullYear()
                , i = new Date(f,2,21)
                , r = new Date(u);
              r.setYear(r.getFullYear() - 12);
              t.datepicker("setDate", null );
              t.datepicker("option", "maxDate", i);
              t.datepicker("option", "minDate", r);
              break;
          case "Infant":
              var f = new Date(u).getFullYear()
                , i = new Date(f,2,21)
                , r = new Date(u);
              r.setYear(r.getFullYear() - 2);
              t.datepicker("setDate", null );
              t.datepicker("option", "maxDate", i);
              t.datepicker("option", "minDate", r);
              break;
          case "Veteran":
          case "Shahed":
          default:
              t.datepicker("setDate", null );
              t.datepicker("option", "maxDate", null );
              t.datepicker("option", "minDate", null )
          }
      }
      ;
      app.setPassengerDatePicker = function(n) {
          var f = $(n.target), e = f.find(" option:selected").val(), i = f.closest(".row").find(".hasDatepicker"),
           u = $("#hdfFlightDate").val(), t, r;
          switch (e) {
          case "Adult":
              t = new Date(u);
              t.setYear(t.getFullYear() - 12);
              t.setDate(t.getDate() - 1);
              t.setMonth(2);
              t.setDate(22);
              i.datepicker("setDate", null );
              i.datepicker("option", "maxDate", t);
              i.datepicker("option", "minDate", null );
              break;
          case "Child":
              t = new Date(u);
              r = new Date(u);
              t.setYear(t.getFullYear() - 2);
              r.setYear(r.getFullYear() - 12);
              t.setMonth(2);
              t.setDate(22);
              i.datepicker("setDate", null );
              i.datepicker("option", "maxDate", t);
              i.datepicker("option", "minDate", r);
              break;
          case "Infant":
              var o = new Date(u).getFullYear()
                , t = new Date(u)
                , r = new Date(u);
              r.setYear(r.getFullYear() - 2);
              t.setMonth(2);
              t.setDate(22);
              i.datepicker("setDate", null );
              i.datepicker("option", "maxDate", t);
              i.datepicker("option", "minDate", r);
              break;
          case "Veteran":
          case "Shahed":
          default:
              i.datepicker("setDate", null );
              i.datepicker("option", "maxDate", null );
              i.datepicker("option", "minDate", null )
          }
      }
      ;
      $(function() {
          $("#passengers").on("change", ".passenger-type[type='radio']", function() {
              $(this).val() === "foreign" ? ($(this).closest(".passenger-detail-info").find(".foreign").show(),
              $(this).closest(".passenger-detail-info").find("[name='nationalid']").parent().hide(),
              app.checkCharacters()) : ($(this).closest(".passenger-detail-info").find(".foreign").hide(),
              $(this).closest(".passenger-detail-info").find("[name='nationalid']").parent().show())
          })
      });
      app.passengerCreated = !1;
      app.buyTicket = function() {
          $("#buy-ticket").click(function(n) {
              if (n.preventDefault(),
              app.InternationalPage && app.sessionExpired === 1) {
                  app.showExpirePopup();
                  app.loading.close();
                  return
              }
              app.DomesticFlightPage && startCountdown(210, 1e3, timerEnded);
              $("#passengerEmail").val($("#hdfPassangerEmail").val());
              $("#passengerCellphone").val($("#hdfPassangerCellphone").val());
              $("#hdfPassangerCellphone").val();
              var t = "";
              app.getCookie().then(function(n) {
                  if (t = n,
                  t !== "" && $("#forward .choose.selected").length !== 0) {
                      if (app.LoadFlightStatus(StatusBarMenuType.PassengerInfo, $("#selectFlightStatusplaceId")),
                      app.passengerCreated == !1 && CreatePassenger(),
                      app.passengerCreated = !0,
                      $(".m-passengers").fadeIn(),
                      $("#buy-ticket").hide(),
                      app.DomesticFlightPage) {
                          $(".checkout-steps").show();
                          var i = $("article.selected-ticket");
                          ga("domesticTracker.ec:addProduct", {
                              id: i.data("id"),
                              name: i.data("flightnumber"),
                              category: "Flight/Domestic/" + (i.find(".article__info__status").text().replace(/\\s/g, "") == "چارتر" ? "charter" : "system") + "/" + i.data("systemkey") + "/" + i.data("from") + "-" + i.data("to"),
                              brand: i.data("airlineen"),
                              variant: i.find(".article__info__aircraft__title").text(),
                              price: i.data("price").toString().slice(0, -3),
                              quantity: Number($("#hdfRAdult").val()) + Number($("#hdfRChild").val()) + Number($("#hdfRInfant").val())
                          });
                          ga("domesticTracker.ec:setAction", "checkout", {
                              step: 1
                          });
                          ga("domesticTracker.send", "event", "enhanced ecommerce", "button click", "checkout 1");
                          window.hj = window.hj || function() {
                              (hj.q = hj.q || []).push(arguments)
                          }
                          ;
                          hj("trigger", "domestic_passenger_form")
                      }
                      app.scrollTo(".m-passengers")
                  } else
                      t != "" && $(".choose.selected").length == 0 ? app.showAlert("انتخاب پرواز ضروری است.") : ($("#myModallogin").css("display") == "none" && $("#myModallogin").css("display", "block"),
                      app.AfterLoginShouldBeCallBuyTicketButton = !0,
                      $("#myModallogin").modal("show"))
              })
          })
      }
      ;
      app.trainBuyTicketButton = function() {
          $("#buy-ticket").click(function(n) {
              n.preventDefault();
              $("#passengerEmail").val($("#hdfPassangerEmail").val());
              $("#passengerCellphone").val($("#hdfPassangerCellphone").val());
              $("#hdfPassangerCellphone").val();
              var t = "";
              app.getCookie().then(function(n) {
                  t = n;
                  t !== "" && $("#forward .choose.selected").length !== 0 ? (app.LoadFlightStatus(StatusBarMenuType.PassengerInfo, $("#selectFlightStatusplaceId")),
                  app.hdfExclusiveCompartment != 0 && $(".exclusive-compartment-passenger-info").show(),
                  app.passengerCreated === !1 && CreateTrainPassenger(),
                  app.passengerCreated = !0,
                  $(".m-passengers").fadeIn(),
                  $("#buy-ticket").hide(),
                  app.scrollTo(".m-passengers")) : t != "" && $(".choose.selected").length == 0 ? app.showAlert("انتخاب بلیط ضروری است.") : ($("#myModallogin").css("display") === "none" && $("#myModallogin").css("display", "block"),
                  app.AfterLoginShouldBeCallBuyTicketButton = !0,
                  $("#myModallogin").modal("show"))
              })
          })
      }
      ;
      app.ForwardBusRequest = new BusRequest;
      app.BackwardBusRequest = new BusRequest;
      app.setForwardBusRequest = function() {
          app.ForwardBusRequest = new BusRequest;
          app.ForwardBusRequest.Origin = app.hdfRFrom;
          app.ForwardBusRequest.Destination = app.hdfRTo;
          app.ForwardBusRequest.Date = app.hdfRdateFrom;
          app.ForwardBusRequest.UniqueId = $("#forward").find("a.selected").first().data("uniquekey");
          app.ForwardBusRequest.BusId = $("#forward").find("a.selected").first().data("busid");
          app.ForwardBusRequest.Price = $("#forward").find("a.selected").first().data("price");
          app.ForwardBusRequest.CompanyCode = $("#forward").find("a.selected").first().data("companycode");
          app.ForwardBusRequest.Passengers = []
      }
      ;
      app.setBackwardBusRequest = function() {
          app.BackwardBusRequest = new BusRequest;
          app.BackwardBusRequest.Origin = app.hdfRTo;
          app.BackwardBusRequest.Destination = app.hdfRFrom;
          app.BackwardBusRequest.Date = app.hdfRdateTo;
          app.BackwardBusRequest.UniqueId = $("#backward").find("a.selected").first().data("uniquekey");
          app.BackwardBusRequest.BusId = $("#backward").find("a.selected").first().data("busid");
          app.BackwardBusRequest.Price = $("#backward").find("a.selected").first().data("price");
          app.BackwardBusRequest.CompanyCode = $("#backward").find("a.selected").first().data("companycode");
          app.BackwardBusRequest.Passengers = []
      }
      ;
      app.getBusAvailableDetailInfo = function(n) {
          var i = ""
            , t = ""
            , r = "";
          n ? (i = app.ForwardBusRequest.Origin,
          t = app.ForwardBusRequest.BusId,
          r = app.ForwardBusRequest.CompanyCode) : (i = app.BackwardBusRequest.Origin,
          t = app.BackwardBusRequest.BusId,
          r = app.BackwardBusRequest.CompanyCode);
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/AirCtr.aspx/GetBusAvailableDetailInfo",
              data: JSON.stringify({
                  origin: i,
                  busId: t,
                  companyCode: r
              }),
              error: function(n) {
                  $("#backward-loading").hide();
                  $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی مسیر های اتوبوس ، برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                  console.error(n)
              },
              success: function(i) {
                  i.d.Successful ? app.createBusForm(t, i.d.BusServiceDetail.Seats, i.d.BusServiceDetail.XCountMax, i.d.BusServiceDetail.YCountMax, i.d.BusServiceDetail.XCountMin, i.d.BusServiceDetail.YCountMin, i.d.BusServiceDetail.Price, n, !0) : ($("#backward-loading").hide(),
                  $("#flightSearchError").show().find("p").text(i.d.ErrorMessage))
              }
          })
      }
      ;
      app.busBuyTicketButton = function() {
          $("#buy-ticket").click(function(n) {
              n.preventDefault();
              $("#passengerEmail").val($("#hdfPassangerEmail").val());
              $("#passengerCellphone").val($("#hdfPassangerCellphone").val());
              $("#hdfPassangerCellphone").val();
              var t = "";
              app.getCookie().then(function(n) {
                  t = n;
                  t !== "" && $("#forward .choose.selected").length !== 0 ? (app.LoadFlightStatus(StatusBarMenuType.PassengerInfo, $("#selectFlightStatusplaceId")),
                  app.passengerCreated === !1 && CreateBusPassenger(),
                  app.passengerCreated = !0,
                  $("#bus-model-forward-container").hide(),
                  $("#bus-model-backward-container").hide(),
                  app.loading.start(),
                  app.getBusAvailableDetailInfo(!0),
                  typeof $("#backward .choose.selected").data("uniquekey") != "undefined" && $("#backward .choose.selected").data("uniquekey") != null ? app.getBusAvailableDetailInfo(!1) : $("#bus-model-backward-container").hide(),
                  $(".m-passengers").fadeIn(),
                  $("#buy-ticket").hide(),
                  app.scrollTo(".m-passengers")) : t != "" && $(".choose.selected").length == 0 ? app.showAlert("انتخاب بلیط ضروری است.") : ($("#myModallogin").css("display") === "none" && $("#myModallogin").css("display", "block"),
                  app.AfterLoginShouldBeCallBuyTicketButton = !0,
                  $("#myModallogin").modal("show"))
              })
          })
      }
      ;
      app.createBusForm = function(n, t, i, r, u, f, e, o) {
          addColumnForBusSeat = function(n, t, i, r, u, f) {
              var o = "bus-model-column-free", s = "", h = "", e;
              n.StatusName === "Sold" && (o = "bus-model-column-sold",
              onclick = "",
              s = "disabled",
              h = n.PaxName === "M" ? "bus-model-column-man" : "bus-model-column-woman");
              e = f == !0 ? "li" : "td";
              u.append("<" + e + ' data-x="' + n.PositionX + '"  data-y="' + n.PositionY + '" class="bus-model-seat-real bus-model-seat-base ' + o + " " + h + '" ' + s + ' data-req="' + n.SeatNumber + " " + i + " " + n.Class + " " + r + '"><div class="seat-num">' + n.SeatNumber + '<\\/div><div class="g-select"><div class="male">مرد<\\/div><div class="female">زن<\\/div><\\/div><\\/' + e + ">")
          }
          ;
          createBusFormResponsive = function(n, t, i, r, u, f, e, o) {
              var y = f, c = u, s = y, a = $('<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 bus-model-seat"><\\/div>'), v = "<ul><\\/ul>", h = $(v), p = '<li><div class="bus-model-seat-base"><\\/div><\\/li>', w = '<li  class="bus-model-seat-base bus-model-column-driver-seat bus-model-seat-real"><div><\\/div><\\/li>', l;
              h = $(v);
              l = function() {
                  a.append(h);
                  c = c + 1;
                  h = $(v);
                  s = y
              }
              ;
              $.each(t, function(t, i) {
                  var f = function(n) {
                      n == !1 ? h.append(p) : h.append(w);
                      s = s + 1
                  }, a;
                  if (s === 1 && (c === u ? f(!0) : f(!1)),
                  c !== i.PositionX && (l(),
                  c !== i.PositionX)) {
                      for (a = 0; a <= r; a++)
                          h.append(p);
                      l()
                  }
                  while (s - 1 !== i.PositionY)
                      f(!1);
                  s = s + 1;
                  addColumnForBusSeat(i, n, e, o, h, !0)
              });
              l();
              o ? ($("#bus-model-forward").html(a),
              $("#bus-model-forward-container").fadeIn()) : ($("#bus-model-backward").html(a),
              $("#bus-model-backward-container").fadeIn())
          }
          ;
          createBusFormResponsive(n, t, i, r, u, f, e, o)
      }
      ;
      $(document).on("click", ".g-select div", function() {
          var t = $(this).parent().parent()
            , n = t.attr("data-req").split(" ")
            , i = $(this).hasClass("male") ? "M" : "F";
          app.addBusSeat($(this), i, n[0], n[1], n[2], n[3])
      });
      $(document).on("click", ".seat-num", function() {
          var t = $(this).parent(), n, i;
          t.hasClass("passenger-seat-selected") ? (n = t.attr("data-req").split(" "),
          i = t.hasClass("bus-model-column-man") ? "M" : "F",
          app.removeBusSeat($(this), i, n[0], n[1], n[2], n[3])) : $(this).next().addClass("show")
      });
      app.checkSeat = function(n, t) {
          var i = jQuery.grep(n, function(n) {
              return n.SeatNumber === t
          });
          return i.length === 0 ? !1 : !0
      }
      ;
      app.addBusSeat = function(n, t, i, r, u, f) {
          var e = {
              Pax: t,
              FirstName: "",
              LastName: "",
              NationalId: "",
              SeatNumber: i,
              Class: u
          }
            , o = function(i) {
              var u = app.checkSeat(i.Passengers, e.SeatNumber);
              u || (i.Passengers.push(e),
              $(n).parent().parent().addClass("passenger-seat-selected"),
              t == "M" ? $(n).parent().parent().addClass("bus-model-column-man") : $(n).parent().parent().addClass("bus-model-column-woman"),
              i.Price = r);
              $(n).parent().removeClass("show")
          };
          f === "true" ? o(app.ForwardBusRequest) : o(app.BackwardBusRequest)
      }
      ;
      app.removeBusSeat = function(n, t, i, r, u, f) {
          var e = {
              Pax: t,
              FirstName: "",
              LastName: "",
              NationalId: "",
              SeatNumber: i,
              Class: u
          }
            , o = function(t) {
              var i = app.checkSeat(t.Passengers, e.SeatNumber);
              i && (t.Passengers = jQuery.grep(t.Passengers, function(n) {
                  return n.SeatNumber !== e.SeatNumber
              }),
              $(n).parent().removeClass("passenger-seat-selected bus-model-column-woman bus-model-column-man"),
              t.Price = r);
              $(n).parent().removeClass("show")
          };
          f === "true" ? o(app.ForwardBusRequest) : o(app.BackwardBusRequest)
      }
      ;
      app.AfterLoginShouldBeCallBuyTicketButton = !1;
      app.checkNeedAfterLoginShouldBeCallBuyTicketButton = function(n) {
          (app.AfterLoginShouldBeCallBuyTicketButton == !0 || n == !0) && (app.AfterLoginShouldBeCallBuyTicketButton = !1,
          $("#buy-ticket").click())
      }
      ;
      app.scrollTo = function(n) {
          n != 0 && $("html, body").animate({
              scrollTop: $(n).offset().top
          }, 500)
      }
      ;
      app.scrollToElement = function(n, t) {
          t || (t = 0);
          $("html, body").animate({
              scrollTop: n.offset().top - t
          }, 500)
      }
      ;
      app.getCookie = function() {
          return {
              then: function(n) {
                  app.loading.start();
                  $.ajax({
                      type: "POST",
                      url: "/api/GetUserName",
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      error: function(n) {
                          console.error(n)
                      },
                      success: function(t) {
                          n(t)
                      },
                      complete: function() {
                          app.loading.close()
                      }
                  })
              }
          }
      }
      ;
      app.flightCache = [];
      timeout = null ;
      time = null ;
      var availableFlightsTimer = new availableFlightsTimer(function() {
          $("#countDownModal").modal("toggle")
      }
      ,9e5), acceptBeforePaymentTimer = new acceptBeforePaymentTimer(function() {
          $("#countDownModal").modal("toggle")
      }
      ,3e5), countAvailableFlights = function() {
          var n = 0
            , t = 0;
          setTimeout(function() {
              $("#forward").children("article:visible").each(function(t, i) {
                  $(i).css("opacity") == "0" || n++
              });
              $("#backward").children("article:visible").each(function(n, i) {
                  $(i).css("opacity") == "0" || t++
              });
              $(".available-count-number #filtered-count").text(n);
              $(".available-count-number #filtered-count-return").text(t);
              n != 0 || $("#all-count").text() == "0" || $("#notAvailableMessage2").is(":visible") || $("#notAllowedGetAvailable").is(":visible") ? $("#forward-empty").hide() : ($("#forward-empty").show(),
              $(".sort").slideDown(),
              $(".sort-wrapper").slideUp())
          }, 500)
      }, firstInterval = null , flightRequestId;
      app.getFlights = function(n, t, i, r, u, f) {
          var o, p, w, it, rt, c, l, h, b, s, k;
          $("#newSearchHiddenField").val(!1);
          var ct = n.flag
            , ht = parseInt(app.hdfRAdult) + parseInt(app.hdfRChild) + parseInt(app.hdfRInfant)
            , h = 0
            , tt = 0;
          if (r ? r = !1 : tt = t,
          o = $("#forward"),
          u && (o = $("#backward")),
          parseInt(i) > 0)
              $(".hidden-on-interval").hide(),
              $("#search-button.hidden-on-interval").addClass("search-wait").show(),
              p = 0,
              setTimeout(function() {
                  $.ajax({
                      type: "GET",
                      url: "/api/GetFlight",
                      data: {
                          id: n.Id,
                          last: n.last,
                          ffrom: n.ffrom,
                          fto: n.fto,
                          datefrom: n.datefrom,
                          count: ht,
                          interval: i,
                          isReturn: u,
                          isNew: f
                      },
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      error: function(n) {
                          clearInterval(i);
                          toastr.error(" در حال دریافت اطلاعات از سرور. برای جستجوی پرواز مورد نظر خود چند دقیقه دیگر اقدام کنید.");
                          console.error(n)
                      }
                  }).then(function(f) {
                      var e, o, s, h, c, l;
                      p = 0;
                      $(".sort").slideUp();
                      availableFlightsTimer.resume();
                      e = $(n.parentElem);
                      n.flag && (e.isotope("destroy"),
                      e.html(""),
                      e.removeClass("stabled").css("height", "auto"),
                      n.flag = !1);
                      o = {};
                      o.d = [];
                      s = [];
                      flightRequestId = n.Id;
                      f.AvailableFlights.length != 0 && ($.each(f.AvailableFlights, function(n, t) {
                          var i, r;
                          t.AirLine != "ZZ" && 
                          (i = parseInt(t.LeaveTime.substr(0, 2)),
                          i < 12 && i >= 4 ? t.hour = "morning" : i >= 12 && i < 18 ? t.hour = "noon" : (i >= 18 || i < 4) && (t.hour = "night"),
                          t.NormalPrice = !0,
                          r = t.uniqId + "-" + t.price + "-" + t.SystemKey + "-" + t.LeaveDate + "-" + t.LeaveTime,
                          t.SystemKeyName == "چارتر" && (t.kind = ""),
                          app.flightCache.indexOf(r) == -1 && (p++,
                          app.flightCache.push(r),
                          o.d.push(t),
                          s.indexOf(t.AirLineEnglish) == -1 && (s.push(t.AirLineEnglish),
                          $("#" + t.AirLineEnglish).addClass("show"))))
                      }),
                      n.last = f.AvailableFlights[f.AvailableFlights.length - 1].Id,
                      h = $("#flight-template").html(),
                      Mustache.parse(h),
                      c = o,
                      $.each(c.d, function(n, t) {
                          t.LeaveTime = t.LeaveTime.substr(0, 2) + ":" + t.LeaveTime.substr(2, 2);
                          t.ClassPrice = t.ClassPrice.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, "$1,")
                      }),
                      l = Mustache.render(h, c),
                      $(n.parentElem).prepend(l),
                      e.hasClass("hasSelectedItem") ? (e.find("article").hide(),
                      e.find(".selected").parents("article").show()) : e.find("article:not(.loading)").show());
                      app.availableTicketCount || (app.availableTicketCount = 0);
                      f.AvailableFlights.length > 0 && (app.availableTicketCount += f.AvailableFlights.length);
                      firstInterval == null && (firstInterval = i);
                      i--;
                      app.setBootstrapProgressBar(firstInterval, i, n.loadingElement);
                      f.Show !== -1 && (toastr.options.timeOut = -1,
                      toastr.options.extendedTimeOut = -1,
                      window.shownSearchData || (toastr.info("کدرهگیری: " + n.Id + " <br/> تاخیر به ثانیه: " + t / 1e3 + " <br/> تعداد: " + i),
                      window.shownSearchData = !0),
                      toastr.info("وبسرویس: " + f.FaranegarAvailableCount + " <br/> نمایش: " + p));
                      app.getFlights(n, t, i, r, u, !1)
                  })
              }, tt);
          else {
              o = $(n.parentElem);
              o.addClass("stabled");
              o.find(".article__moreinfo__action").click(function() {
                  $(".article__moreinfo__action").not(this).next().next().removeClass("showinfo");
                  $(".article__moreinfo__action").not(this).parent().parent().parent().removeClass("moreinfoshow");
                  $(this).parent().parent().parent().toggleClass("moreinfoshow");
                  $(this).next().next().toggleClass("showinfo");
                  $("#backward").isotope({});
                  $("#forward").isotope({})
              });
              removeDuplicateFlights();
              setTimeout(set_sort_filter_flights(o), 500);
              $(".m-filters").on("change", "input.filter-input", function() {
                  filterAmadeusFilter(o, "")
              });
              for ($(".m-filters .filters-content").removeClass("loading-state"),
              $("#show-filters-mobile").show(),
              setTimeout(function() {
                  $("#show-filters-mobile").addClass("closed")
              }, 5e3),
              $("#ShowDuplicates").click(function() {
                  $("article.duplicate-flight").toggleClass("duplicate-flight-hide");
                  o.isotope({});
                  setTimeout(function() {
                      $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length)
                  }, 500);
                  setTimeout(function() {
                      $(".available-count-number #filtered-count-return").text($("#backward").children("article:visible").length)
                  }, 500)
              }),
              w = [],
              it = $.grep([w, $('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter")], Boolean).join(""),
              $(".airLineRadio:checked").each(function() {
                  w.push($(this).data("filter") + it)
              }),
              rt = $.grep(w, Boolean).join(","),
              o.isotope({
                  filter: rt
              }),
              o.isotope({
                  sortBy: ["ordersort", "time", "price"]
              }),
              setTimeout(o.isotope({
                  filter: ".isAvailable"
              }), 500),
              setTimeout(function() {
                  $("#forward").children(":visible").length == 0 && $("#forward").children().length >= 1 && ($("#notAvailableMessage2").show(),
                  $(".sort").slideDown(),
                  $(".sort-wrapper").slideUp())
              }, 600),
              $("#resetAvailableFilters").click(function() {
                  $("#all-lines").trigger("click");
                  $("#day-long").trigger("click");
                  $("#all-ticket-1").trigger("click");
                  $("#all-ticket-class").trigger("click");
                  $("#ShowDuplicates").is(":checked") || $("#ShowDuplicates").trigger("click");
                  $("#all-ticket-2").is(":checked") || $("#available").trigger("click")
              }),
              $("#resetAvailableFiltersEmpty").click(function() {
                  $("#all-lines").trigger("click");
                  $("#day-long").trigger("click");
                  $("#all-ticket-1").trigger("click");
                  $("#all-ticket-class").trigger("click");
                  $("#ShowDuplicates").is(":checked") || $("#ShowDuplicates").trigger("click");
                  $("#all-ticket-2").is(":checked") || $("#available").trigger("click")
              }),
              $("a.yesterday , a.tomorow").addClass("active"),
              $(n.loadingElement).hide(),
              app.availableTicketCount > 0 && ($(".sort").slideDown(),
              $(".hidden-on-interval").show(),
              $("#search-button.hidden-on-interval").removeClass("search-wait").show()),
              app.availableTicketCount == 0 && ($("#notAvailableMessage").show(),
              $(".sort").slideDown(),
              $(".sort-wrapper").slideUp()),
              window.setTimeout(function() {
                  o.isotope("layout")
              }, 100),
              c = [],
              $(".js-singleLines.show").each(function() {
                  c.push($(this))
              }),
              l = [],
              $("article.isAvailable").each(function() {
                  l.push($(this))
              }),
              setTimeout(function() {
                  $(".available-count-number #all-count").text($("#forward").children("article").length)
              }, 500),
              setTimeout(function() {
                  $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length)
              }, 500),
              setTimeout(function() {
                  $(".available-count-number #all-count-return").text($("#backward").children("article").length)
              }, 500),
              setTimeout(function() {
                  $(".available-count-number #filtered-count-return").text($("#backward").children("article:visible").length)
              }, 500),
              h = 0; h < c.length; h++) {
                  for (s = 0; s < l.length; s++)
                      l[s].attr("data-flightnumber").slice(0, 2).toUpperCase().valueOf() == c[h].attr("id").valueOf() && (parseInt(c[h].attr("data-lowestprice")) == 0 || parseInt(l[s].attr("data-price")) < parseInt(c[h].attr("data-lowestprice"))) && c[h].attr("data-lowestprice", l[s].attr("data-price"));
                  b = addCommaToThousand(c[h].attr("data-lowestprice"));
                  b != 0 ? c[h].next().append("<span>از " + b + " ریال<\\/span>") : c[h].next().append("<span>تکمیل ظرفیت<\\/span>")
              }
              for (s = 0; s < l.length; s++)
                  (parseInt($(".js-allLines").attr("data-lowestpriceoverall")) == 0 || parseInt(l[s].attr("data-price")) < parseInt($(".js-allLines").attr("data-lowestpriceOverall"))) && $(".js-allLines").attr("data-lowestpriceoverall", l[s].attr("data-price"));
              k = addCommaToThousand($(".js-allLines").attr("data-lowestpriceoverall"));
              k != 0 && $(".js-allLines").next().append("<span>از " + k + " ریال<\\/span>");
              var e = $(".m-filters.domestic-flight"), v, ut, ft, et, y = e.offset().top, d = $(".panel-footer").height() + $(".faranegar").height(), g = 0, nt, a, ot;
              $(window).scroll(function() {
                  st()
              });
              $(window).resize(function() {
                  st()
              });
              function st() {
                  v = $(window).scrollTop();
                  ft = e.offset().top - y;
                  ut = e.offset().top + e.height() - $(window).height();
                  ot = $("body").height() - y - d - e.height() - 100;
                  var n = $(this).scrollTop();
                  nt = $("body").height() - $(window).scrollTop() - $(window).height() - 86;
                  $("#forwardHeader").height() > e.height() ? y <= v && nt > d ? v >= ut ? (e.css("position", "fixed").css("bottom", 0).css("transform", "translateY(0px)"),
                  a = !0,
                  n > g || (e.css("position", "relative").css("transform", "translateY(" + ft + "px)"),
                  a = !1)) : y <= v && v <= e.offset().top && (n > g ? (a && (et = e.offset().top - y - 16,
                  e.css("transform", "translateY(" + et + "px)")),
                  e.css("position", "relative").css("top", "auto").css("bottom", "auto"),
                  a = !1) : (e.css("position", "fixed").css("top", 0).css("bottom", "auto").css("transform", "translateY(0px)"),
                  a = !0)) : nt <= d ? (e.css("position", "relative").css("top", "auto").css("bottom", "auto").css("transform", "translateY(" + ot + "px)"),
                  a = !1) : (e.css("position", "relative").css("top", "auto").css("bottom", "auto").css("transform", "translateY(0px)"),
                  a = !1) : e.css("position", "relative").css("top", "auto").css("bottom", "auto").css("transform", "translateY(0px)");
                  g = n
              }
              domesticCalendarCallFunction();
              $("#forward .article__moreinfo__content__info__leavedate").text($("#hdfFlightDate").val());
              setTimeout(domesticProductImpression(), 2e3);
              window.hj = window.hj || function() {
                  (hj.q = hj.q || []).push(arguments)
              }
              ;
              hj("trigger", "domestic_availables_loaded")
          }
      }
      ;
      var internationalUniqueProposals = []
        , remainingDuplicates = []
        , internationalProposalPrices = []
        , internationalProposalDurations = [];
      app.renderInternationalFlights = function(n) {
          var o = $("#forward"), i, r, e;
          if ($(".hidden-on-interval").hide(),
          $("#search-button.hidden-on-interval").addClass("search-wait").show(),
          i = [],
          n.FlightProposals.length !== 0) {
              var u = []
                , f = []
                , t = 0;
              $("#hdfBestPrice").val() != "" && (t = parseInt($("#hdfBestPrice").val()));
              $.each(n.FlightProposals, function(n, r) {
                  var c, h, s, l, v;
                  u[r.LeavingFlightGroup.AirlineCode] || (u[r.LeavingFlightGroup.AirlineCode] = !0,
                  f.push({
                      AirlineCode: r.LeavingFlightGroup.AirlineCode,
                      AirlineName: r.LeavingFlightGroup.AirlineName
                  }));
                  c = parseInt(replaceAll(r.ClassPrice, ",", ""));
                  (t == 0 || c < t) && (t = c,
                  app.bestPriceProposalId = r.FlightProposalId);
                  h = r.LeavingFlightGroup.AirlineCode;
                  $.each(r.LeavingFlightGroup.FlightDetails, function(n, t) {
                      t = app.BaggageCheck(t);
                      t.hasStop = t.StopDuration == null ? !1 : !0;
                      t.FlightNumber = t.FlightNumber.replace(/ /g, "");
                      h += "," + t.FlightNumber;
                      int.AirportCodes.push(t.Origin);
                      int.AirportCodes.push(t.Destination)
                  });
                  var o = r.LeavingFlightGroup.DepartureTime != null ? parseInt(r.LeavingFlightGroup.DepartureTime.substr(0, 2)) : "00"
                    , e = 0
                    , a = 0
                    , y = 0;
                  r.ReturningFlightGroup && (h += "-" + r.ReturningFlightGroup.AirlineCode,
                  e = r.ReturningFlightGroup.DepartureTime != null ? parseInt(r.ReturningFlightGroup.DepartureTime.substr(0, 2)) : "00",
                  a = r.ReturningFlightGroup.DurationTotalMinutes,
                  y = r.ReturningFlightGroup.StopsDurationTotalMinutes,
                  r.ReturningFlightGroup.OriginText = r.ReturningFlightGroup.FlightDetails[0].OriginCityName,
                  r.ReturningFlightGroup.DestinationText = r.ReturningFlightGroup.FlightDetails[r.ReturningFlightGroup.FlightDetails.length - 1].DestinationCityName,
                  $.each(r.ReturningFlightGroup.FlightDetails, function(n, t) {
                      t = app.BaggageCheck(t);
                      t.hasStop = t.StopDuration == null ? !1 : !0;
                      t.FlightNumber = t.FlightNumber.replace(/ /g, "");
                      h += "," + t.FlightNumber;
                      int.AirportCodes.push(t.Origin);
                      int.AirportCodes.push(t.Destination)
                  }));
                  r.WayCode = h;
                  o < 4 ? r.leavingHour = "leaving-midnight" : o < 12 && o >= 4 ? r.leavingHour = "leaving-morning" : o >= 12 && o < 18 ? r.leavingHour = "leaving-noon" : o >= 18 && (r.leavingHour = "leaving-night");
                  e < 4 ? r.returningHour = "return-leaving-midnight" : e < 12 && e >= 4 ? r.returningHour = "return-leaving-morning" : e >= 12 && e < 18 ? r.returningHour = "return-leaving-noon" : e >= 18 && (r.returningHour = "return-leaving-night");
                  r.totalDurationMinutes = r.LeavingFlightGroup.DurationTotalMinutes + a;
                  internationalProposalPrices.push(parseInt(r.ClassPrice.replace(/,/g, "")));
                  internationalProposalDurations.push(r.totalDurationMinutes);
                  r.LeavingFlightGroup.OriginText = r.LeavingFlightGroup.FlightDetails[0].OriginCityName;
                  r.LeavingFlightGroup.DestinationText = r.LeavingFlightGroup.FlightDetails[r.LeavingFlightGroup.FlightDetails.length - 1].DestinationCityName;
                  s = "";
                  (r.IsCharter || r.IsRefundable == !1) && (s !== "" && (s += ", "),
                  s += "غیر قابل استرداد");
                  r.InfoMessage = s;
                  r.HasInfo = s !== "";
                  l = !1;
                  r.Seat > 0 && r.Seat < 9 && (r.HasSeatNumber = !0);
                  $.each(internationalUniqueProposals, function(n, t) {
                      if (t.WayCode == r.WayCode)
                          return l = !0,
                          t.Total >= r.Total ? (remainingDuplicates.push(t.FlightProposalId),
                          t.FlightProposalId = r.FlightProposalId,
                          t.Total = r.Total) : r.isDuplicate = !0,
                          !1
                  });
                  l || (v = {
                      FlightProposalId: r.FlightProposalId,
                      WayCode: r.WayCode,
                      Total: r.Total
                  },
                  internationalUniqueProposals.push(v));
                  i.push(r)
              });
              $.each(f, function(n, t) {
                  if ($(".airline-filter").find("#" + t.AirlineCode).length == 0) {
                      var i = "<input type='checkbox' id='" + t.AirlineCode + "' data-filter='." + t.AirlineCode + "' class='airLineRadio js-singleLines show'><label for='" + t.AirlineCode + "'><img class='icon' src='/static/img/intrntnl/airlinelogos/" + t.AirlineCode + ".png' height='20' onerror='imgError(this);'> " + t.AirlineName + "<\\/label>";
                      $(i).appendTo($(".airline-filter")).hide().slideDown("slow")
                  }
              });
              r = $("#flight-template").html();
              Mustache.parse(r);
              $.each(i, function(n, t) {
                  t.LeaveTime = t.LeavingFlightGroup.DepartureTime
              });
              e = Mustache.render(r, i);
              $(e).prependTo(o).hide().slideDown();
              $("#hdfBestPrice").val(t)
          }
          int.FillAirports()
      }
      ;
      app.afterInternationalAvailableSettings = function(n) {
          n.hasClass("hasSelectedItem") ? (n.find("article").hide(),
          n.find(".selected").parents("article").show()) : n.find("article:not(.loading)").show();
          n.addClass("stabled");
          setTimeout(set_sort_filter_flights(n), 500);
          $(".m-filters").on("change", "input", function() {
              var t = []
                , r = $.grep([$('input[name="ticket-type"]:checked').data("filter"), $('input[name="leaving-time"]:checked').data("filter"), $('input[name="returning-time"]:checked').data("filter"), $('input[name="flight-stops-filter"]:checked').data("filter"), $('input[name="not-duplicate"]:checked').data("filter"), $('input[name="reservable"]:checked').data("filter")], Boolean).join("")
                , i = r.split(",");
              for (x = 0; x < i.length; x++)
                  $(".airLineRadio:checked").each(function() {
                      ($(".airLineRadio:checked").length > 1 && $(this).data("filter") != "" || $(".airLineRadio:checked").length < 2) && t.push($(this).data("filter") + i[x])
                  });
              app.FullFilter = $.grep(t, Boolean).join(",");
              $(".choose.selected").removeClass("selected").text("انتخاب");
              n.isotope({
                  filter: app.FullFilter
              });
              setTimeout(function() {
                  $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length)
              }, 1e3)
          });
          var t = []
            , i = $.grep([t, $('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter"), $('input[name="not-duplicate"]:checked').data("filter"), $('input[name="reservable"]:checked').data("filter")], Boolean).join("");
          $(".airLineRadio:checked").each(function() {
              t.push($(this).data("filter") + i)
          });
          app.FullFilter = $.grep(t, Boolean).join(",");
          window.setTimeout(function() {
              n.isotope({
                  filter: app.FullFilter
              });
              n.isotope({
                  sortBy: ["bestflight", "ordersort", "time", "price"],
                  sortAscending: {
                      bestflight: !1
                  }
              });
              setTimeout(function() {
                  $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length)
              }, 1500)
          }, 400);
          $("a.yesterday, a.tomorow").addClass("active");
          window.setTimeout(function() {
              n.isotope("layout");
              n.find("[data-toggle='tooltip']").tooltip({
                  container: "body"
              })
          }, 100)
      }
      ;
      app.BaggageCheck = function(n) {
          if (n.Baggage.length > 0 && n.Baggage[0].BaggageAllowanceAmount > 0) {
              var t = n.Baggage[0].BaggageUnit == "P" ? n.Baggage[0].BaggageAllowanceAmount + " بسته، هر بسته 23 Kg" : n.Baggage[0].BaggageAllowanceAmount + " کیلوگرم";
              n.BaggageCapacity = t
          } else
              n.BaggageCapacity = n.UnknownBaggage ? "تماس با پشتیبان" : "بدون بار";
          return n
      }
      ;
      trainOwners = {
          1: "رجاء",
          2: "بن ريل",
          3: "سيمرغ",
          4: "جوپار",
          5: "ماربين",
          6: "تامين ترابر سبز",
          7: "هستيا",
          8: "وانيا ريل",
          9: "رعد",
          10: "ريل سير كوثر",
          11: "راه آهن حمل و نقل",
          12: "رجاء - ويژه",
          13: "جوپار (خصوصي)",
          14: "مهتاب سير جم",
          15: "ريل ترابر سبا",
          17: "نورالرضا",
          18: "رعد",
          19: "راه آهن بنياد",
          20: "جوپار",
          21: "ريل سير كوثر",
          22: "جوپار",
          23: "خدمات ايستگاهي رجا",
          24: "سفير",
          25: "ريل پرداز نوآفرين",
          26: "خدمات ايستگاهي فدك",
          27: "سيران مهر و ماه"
      };
      app.renderTrainAvailable = function(n, t) {
          var i = $("#forward"), r, u, e, f, o, s;
          t && (i = $("#backward"));
          $(".hidden-on-interval").hide();
          $("#search-button.hidden-on-interval").addClass("search-wait").show();
          $(".sort").slideUp();
          r = [];
          n.TrainAvailables.length !== 0 ? ($.each(n.TrainAvailables, function(n, i) {
              i.IsReturn = t;
              var u = parseInt(i.DepartureTime.substr(0, 2));
              u < 12 && u >= 4 ? i.leavingHour = "leaving-morning" : u >= 12 && u < 18 ? i.leavingHour = "leaving-noon" : (u >= 18 || u < 4) && (i.leavingHour = "leaving-night");
              app.hdfExclusiveCompartment === "1" && i.CompartmentCapacity < app.hdfPassengersCount && (i.CantBuy = !0);
              i.CapacityText = i.IsCompartment == !0 ? " کوپه ای " + i.CompartmentCapacity + " نفره" : " سالنی " + i.CompartmentCapacity + " ردیفه";
              i.Count > 10 && i.Owner == 25 && (i.Count = "بیش از 10");
              i.ownerName = trainOwners[i.Owner];
              r.push(i);
              i.Highlight = i.RationCode == 52 ? "item-highlight" : ""
          }),
          r = app.hdfExclusiveCompartment === "1" ? sortByKey(r, "CompartmentCapacity", !1) : sortByKey(r, "FullPrice", !0),
          app.transit == 1 ? (u = $("#train-template-transitCar").html(),
          $("#transitRules").show()) : (u = $("#train-template").html(),
          $("#transitRules").hide()),
          Mustache.parse(u),
          $.each(r, function(n, t) {
              t.LeaveTime = t.DepartureTime
          }),
          e = Mustache.render(u, r),
          i.prepend(e),
          i.hasClass("hasSelectedItem") ? (i.find("article").hide(),
          i.find(".selected").parents("article").show()) : i.find("article:not(.loading)").show()) : ($("#notAvailableMessage").show(),
          $("#pathbox").hide());
          i.addClass("stabled");
          $(".tour-banner").show();
          $(".m-filters").on("change", "input", function() {
              var n = "";
              $(this).attr("id").includes("return") ? (n = $.grep([$('input[name="return-ticket-type"]:checked').data("filter"), $('input[name="returning-time"]:checked').data("filter")], Boolean).join(""),
              i.attr("id").includes("backward") && i.isotope({
                  filter: n
              })) : (n = $.grep([$('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter"), $('input[name="flight-stops-filter"]:checked').data("filter")], Boolean).join(""),
              i.attr("id").includes("forward") && i.isotope({
                  filter: n
              }));
              $(".choose.selected").removeClass("selected").text("انتخاب")
          });
          f = [];
          o = $.grep([f, $('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter")], Boolean).join("");
          $(".airLineRadio:checked").each(function() {
              f.push($(this).data("filter") + o)
          });
          s = $.grep(f, Boolean).join(",");
          i.isotope({
              filter: s
          });
          $("a.yesterday, a.tomorow").addClass("active");
          $("#forward-loading").hide();
          t && $("#backward-loading").hide();
          window.setTimeout(function() {
              i.isotope("layout");
              i.find("[data-toggle='tooltip']").tooltip({
                  container: "body"
              })
          }, 100);
          $(".sort").slideDown()
      }
      ;
      app.renderBusAvailable = function(n, t) {
          var i = $("#forward"), r, f, e, u, o, s;
          t && (i = $("#backward"));
          $(".hidden-on-interval").hide();
          $("#search-button.hidden-on-interval").addClass("search-wait").show();
          $(".sort").slideUp();
          r = [];
          n.BusAvailables.length !== 0 ? ($.each(n.BusAvailables, function(n, i) {
              i.IsReturn = t;
              r.push(i)
          }),
          r = app.hdfExclusiveCompartment === "1" ? sortByKey(r, "CompartmentCapacity", !1) : sortByKey(r, "FullPrice", !0),
          f = $("#bus-template").html(),
          Mustache.parse(f),
          e = Mustache.render(f, r),
          i.prepend(e),
          i.hasClass("hasSelectedItem") ? (i.find("article").hide(),
          i.find(".selected").parents("article").show()) : i.find("article:not(.loading)").show()) : $("#notAvailableMessage").show();
          i.addClass("stabled");
          $(".m-filters").on("change", "input", function() {
              var n = "";
              $(this).attr("id").includes("return") ? (n = $.grep([$('input[name="return-ticket-type"]:checked').data("filter"), $('input[name="returning-time"]:checked').data("filter")], Boolean).join(""),
              i.attr("id").includes("backward") && i.isotope({
                  filter: n
              })) : (n = $.grep([$('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter"), $('input[name="flight-stops-filter"]:checked').data("filter")], Boolean).join(""),
              i.attr("id").includes("forward") && i.isotope({
                  filter: n
              }));
              $(".choose.selected").removeClass("selected").text("انتخاب")
          });
          u = [];
          o = $.grep([u, $('input[name="ticket-type"]:checked').data("filter"), $('input[name="time"]:checked').data("filter")], Boolean).join("");
          $(".airLineRadio:checked").each(function() {
              u.push($(this).data("filter") + o)
          });
          s = $.grep(u, Boolean).join(",");
          i.isotope({
              filter: s
          });
          $("a.yesterday, a.tomorow").addClass("active");
          $("#forward-loading").hide();
          t && $("#backward-loading").hide();
          window.setTimeout(function() {
              i.isotope("layout");
              i.find("[data-toggle='tooltip']").tooltip({
                  container: "body"
              })
          }, 100);
          $(".sort").slideDown()
      }
      ;
      intervalIndex = 10;
      app.getForwardFlights = function(n) {
          $("#forward-loading").show();
          $.ajax({
              type: "GET",
              url: "/api/searchFlight",
              data: {
                  ffrom: app.hdfRFrom,
                  fto: app.hdfRTo,
                  datefrom: app.hdfRdateFrom,
                  adult: app.hdfRAdult,
                  child: app.hdfRChild,
                  infant: app.hdfRInfant
              },
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  console.error(n)
              },
              success: function(t) {
                  app.setBootstrapProgressBar(t.Interval, t.Interval, "#forward-loading");
                  app.getFlights({
                      Id: t.RequestId,
                      last: 0,
                      ffrom: app.hdfRFrom,
                      fto: app.hdfRTo,
                      datefrom: app.hdfRdateFrom,
                      parentElem: "#forward",
                      loadingElement: "#forward-loading",
                      flag: n
                  }, t.EstimatedDelay, t.Interval, !0, !1, !0)
              }
          })
      }
      ;
      app.getBackwardFlights = function(n) {
          $("#backward-loading").show();
          $.ajax({
              type: "GET",
              url: "/api/searchFlight",
              data: {
                  ffrom: app.hdfRTo,
                  fto: app.hdfRFrom,
                  datefrom: app.hdfRdateTo,
                  adult: app.hdfRAdult,
                  child: app.hdfRChild,
                  infant: app.hdfRInfant
              },
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  console.error(n)
              },
              success: function(t) {
                  app.setBootstrapProgressBar(t.Interval, t.Interval, "#backward-loading");
                  app.getFlights({
                      Id: t.RequestId,
                      last: 0,
                      ffrom: app.hdfRTo,
                      fto: app.hdfRFrom,
                      datefrom: app.hdfRdateTo,
                      parentElem: "#backward",
                      loadingElement: "#backward-loading",
                      flag: n
                  }, t.EstimatedDelay, t.Interval, !0, !0, !0)
              }
          })
      }
      ;
      internationalTimeFlag = !1;
      app.getInternationalFlights = function() {
          $("#forward-loading").show();
          var n, t = 0, i = 0;
          $("#imgloading").show();
          $("#hdfDistributer").val() != "on" && app.setBootstrapProgressBarByPercent(45e3, "#forward-loading");
          $.ajax({
              type: "POST",
              url: "/AirCtr.aspx/GetNewGuid",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              success: function(r) {
                  app.availableSessionId = r.d;
                  var u = $.ajax({
                      type: "POST",
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      timeout: 12e4,
                      url: "/api/SearchInternationalFlight",
                      data: JSON.stringify({
                          origin: app.hdfRFrom,
                          destination: app.hdfRTo,
                          departureDate: app.hdfRdateFrom,
                          returnDate: app.hdfRdateTo,
                          adult: app.hdfRAdult,
                          child: app.hdfRChild,
                          infant: app.hdfRInfant,
                          nonstopFlight: app.hdfNonstopFlight,
                          flightClass: app.hdfFlightClass,
                          airlines: app.hdfAirlines,
                          sessionId: app.availableSessionId
                      }),
                      error: function(n) {
                          $("#forward-loading").hide();
                          $("#imgloading").hide();
                          $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی هواپیمایی ها برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                          console.error(n)
                      },
                      success: function(r) {
                          if (console.log(JSON.stringify(u).length / 1024 + " kb"),
                          internationalFlightProposals = r,
                          r.IsSuccessful)
                              $(".sort").slideUp(),
                              (app.IsAirportInIran(app.hdfRFrom) || app.IsAirportInIran(app.hdfRTo)) && (app.sotositi = !0),
                              $("#hdfDistributer").val() == "on" ? (setTimeout(function() {
                                  internationalTimeFlag = !0
                              }, 6e4),
                              $("#imgloading").show(),
                              $(".airline-filter").addClass("disabledarea"),
                              app.GetNextInternationalFlights(app.availableSessionId, t, n, i)) : (r.FlightProposals != null && r.FlightProposals.length > 0 && ($("#show-filters-mobile").is(":visible") || $(".airline-filter-display").slideDown(),
                              app.renderInternationalFlights(r),
                              remainingDuplicates.length > 0 && $.each($("a.choose"), function(n, t) {
                                  var i = remainingDuplicates.indexOf($(t).attr("data-id").toString());
                                  i > -1 && ($(t).closest("article").removeClass("not-duplicate"),
                                  $(t).closest("article").addClass("is-duplicate"))
                              }),
                              app.afterInternationalAvailableSettings($("#forward")),
                              app.forcePushToCalendar(),
                              $("#show-filters-mobile").is(":visible") || $(".m-filters").slideDown()),
                              $(".sort").slideDown(),
                              $("#imgloading").hide(),
                              app.sessionExpired = 0,
                              window.setTimeout("app.warningClientSession(600)", 3e5),
                              window.setTimeout("app.expireClientSession()", 9e5),
                              $.ajax({
                                  type: "POST",
                                  url: "/AmadeusFlights.aspx/ClientLog",
                                  data: JSON.stringify({
                                      sessionid: r.SessionId
                                  }),
                                  contentType: "application/json; charset=utf-8",
                                  dataType: "json",
                                  async: !1,
                                  timeout: 12e4,
                                  error: function(n) {
                                      console.error(n)
                                  },
                                  success: function() {}
                              }),
                              app.sotositi && $("#btnBestPrice").slideDown("slow"));
                          else {
                              $("#forward-loading").hide();
                              $("#imgloading").hide();
                              var f = r.ErrorMessage;
                              (f == null || f.trim() == "" || f.toLowerCase() == "null") && (f = "در حال حاضر برای مسیر فوق پروازی یافت نشد.");
                              $("#flightSearchError").show().find("p").text(f)
                          }
                          $("#hdfDistributer").val() != "on" && $("#forward-loading").hide()
                      }
                  })
              }
          })
      }
      ;
      app.sotositi = !1;
      var failCount = 0, providersData = [], currentProviderName = "", activeProvidersCount = 0, lastGetTime;
      app.GetNextInternationalFlights = function(n, t, i, r) {
          var u = !1;
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/api/GetNextInternationalFlights",
              data: JSON.stringify({
                  sessionId: n,
                  startIndex: t,
                  isMobile: app.isMobile
              }),
              error: function(n) {
                  $("#forward-loading").hide();
                  $("#imgloading").hide();
                  $(".btn.choose").removeClass("disabled");
                  console.error(n)
              },
              success: function(f) {
                  var c, e, a, o, s, h, l, p;
                  if (lastGetTime == null && (lastGetTime = new Date),
                  f.FlightProposals != null && f.FlightProposals.length > 0 && (i == null ? (i = f.FlightProposals,
                  internationalFlightProposals.FlightProposals = f.FlightProposals,
                  $("#show-filters-mobile").is(":visible") || $(".airline-filter-display").slideDown()) : (i = i.concat(f.FlightProposals),
                  internationalFlightProposals.FlightProposals = internationalFlightProposals.FlightProposals.concat(f.FlightProposals))),
                  f.Success || (failCount++,
                  $.cookie("consolelog") && console.log(f.Message)),
                  f.ServiceFlightProposals != null && $.each(f.ServiceFlightProposals, function(n, t) {
                      var i, r;
                      currentProviderName = t.CurrentProviderName;
                      i = providersData.find(getProviderData);
                      i == undefined ? ($.cookie("consolelog") && console.log(t.CurrentProviderName + " : " + (new Date - lastGetTime) / 1e3),
                      r = {
                          name: t.CurrentProviderName,
                          total: t.CurrentProviderCount,
                          received: 1
                      },
                      providersData.push(r),
                      activeProvidersCount == 0 && (activeProvidersCount = t.ProviderCount)) : i.received = i.received + 1
                  }),
                  c = 0,
                  e = 0,
                  $.each(providersData, function(n, t) {
                      c += parseInt(t.received / t.total);
                      e += t.received / t.total
                  }),
                  r += f.ResponceCount,
                  r > c && (e += r - c),
                  activeProvidersCount == 0 && r >= f.ActiveProvidersCount && (failCount++,
                  failCount > 3 && (activeProvidersCount = r,
                  e = r)),
                  a = activeProvidersCount,
                  e = a > 0 ? parseInt(e / a * 100) : 0,
                  e > 100 && (e = 100),
                  u = e == 100,
                  app.setBootstrapProgressBarPercent(e, "#forward-loading"),
                  f.FlightProposals != null && f.FlightProposals.length > 0 && app.renderInternationalFlights(f),
                  i != null && (t = i.length),
                  $(".btn.choose:not(.disabled)").addClass("disabled").addClass("blurry-text"),
                  $(".flight-total:not(.disabledarea)").addClass("disabledarea"),
                  internationalTimeFlag && (u = internationalTimeFlag),
                  $(".available-count-number #filtered-count").text($("#forward").children("article:visible").length),
                  $(".available-count-number #all-count").text($("#forward").children("article").length),
                  !u && failCount < 4)
                      setTimeout(function() {
                          app.GetNextInternationalFlights(n, t, i, r)
                      }, 4e3);
                  else {
                      if ($.cookie("consolelog") && console.log("total : " + (new Date - lastGetTime) / 1e3),
                      int.FillAirports(),
                      remainingDuplicates.length > 0 && $.each($("a.choose"), function(n, t) {
                          var i = remainingDuplicates.indexOf($(t).data("id").toString());
                          i > -1 && ($(t).closest("article").removeClass("not-duplicate"),
                          $(t).closest("article").addClass("is-duplicate"))
                      }),
                      i != null && i.length > 0) {
                          internationalProposalPrices.sort(function(n, t) {
                              return n < t ? 1 : n == t ? 0 : -1
                          });
                          internationalProposalDurations.sort(function(n, t) {
                              return n < t ? 1 : n == t ? 0 : -1
                          });
                          o = [];
                          $.each(internationalProposalPrices, function(n, t) {
                              $.inArray(t, o) === -1 && o.push(t)
                          });
                          internationalProposalPrices = [];
                          s = [];
                          $.each(internationalProposalDurations, function(n, t) {
                              $.inArray(t, s) === -1 && s.push(t)
                          });
                          internationalProposalDurations = [];
                          var w = parseInt(o[Math.ceil(o.length / 5)])
                            , b = parseInt(s[Math.ceil(s.length / 5)])
                            , v = parseFloat($("#hdfBestflightCoefficient").val())
                            , y = [];
                          $.each($("#forward article"), function() {
                              var t = parseInt($(this).find("span.price-sort").html().replace(/,/g, ""))
                                , i = parseInt($(this).find("span.duration-sort").html())
                                , n = Math.pow(w / t, 1 / v) * Math.pow(b / i, v);
                              $(this).hasClass("not-duplicate") && y.push(n);
                              $(this).find("span.bestflight-sort").html(n)
                          });
                          h = [];
                          $.each(y, function(n, t) {
                              $.inArray(t, h) === -1 && h.push(t)
                          });
                          h.sort(function(n, t) {
                              return n < t ? 1 : n == t ? 0 : -1
                          });
                          $.each($("#forward article"), function() {
                              parseFloat($(this).find("span.bestflight-sort").html()) >= h[2] ? $(this).addClass("bestflight") : $(this).find("span.bestflight-sort").html("0")
                          });
                          l = [];
                          $.each($("article.bestflight.not-duplicate"), function() {
                              var n = parseFloat($(this).find("span.bestflight-sort").html());
                              l.push(n)
                          });
                          l.sort(function(n, t) {
                              return n < t ? 1 : n == t ? 0 : -1
                          });
                          $.each($("article.bestflight"), function() {
                              var n = parseFloat($(this).find("span.bestflight-sort").html());
                              l[2] > n && ($(this).find("span.bestflight-sort").html("0"),
                              $(this).removeClass("bestflight"))
                          });
                          $("#forward").append($("#bestflightsContainer"));
                          $("#bestflightsContainer").slideDown()
                      }
                      app.afterInternationalAvailableSettings($("#forward"));
                      $("#forward-loading").hide();
                      $("#imgloading").hide();
                      $(".airline-filter").removeClass("disabledarea");
                      i != null && i.length > 0 ? ($(".sort").slideDown(),
                      $("#show-filters-mobile").is(":visible") || $(".m-filters").slideDown(),
                      $(".btn.choose").removeClass("disabled").removeClass("blurry-text"),
                      $(".flight-total").removeClass("disabledarea"),
                      app.sotositi && (app.hdfRdateTo != "" && $("#availableHeader").slideDown(),
                      $("#btnBestPrice").slideDown("slow")),
                      app.forcePushToCalendar()) : (p = "در حال حاضر برای مسیر فوق پروازی یافت نشد.",
                      $("#flightSearchError").show().find("p").text(p));
                      app.sessionExpired = 0;
                      window.setTimeout("app.warningClientSession(600)", 3e5);
                      window.setTimeout("app.expireClientSession()", 9e5);
                      app.availableSessionId = n;
                      $.ajax({
                          type: "POST",
                          url: "/AmadeusFlights.aspx/ClientLog",
                          data: JSON.stringify({
                              sessionid: n
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          async: !1,
                          timeout: 12e4,
                          error: function(n) {
                              $.cookie("consolelog") && console.error(n)
                          },
                          success: function() {}
                      })
                  }
              }
          })
      }
      ;
      app.IsAirportInIran = function(n) {
          var t = !1;
          return $.ajax({
              type: "POST",
              url: "/api/IsAirportInIran",
              data: JSON.stringify({
                  airportIATAcode: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              async: !1,
              error: function() {
                  return !1
              },
              success: function(n) {
                  t = n
              }
          }),
          t
      }
      ;
      app.showExpirePopup = function() {
          $("#timeoutModal .modal-title")[0].innerText = "پایان اعتبار جستجو";
          $("#timeoutModal .modal-lead")[0].innerText = "مدت زمان اعتبار نتایج جستجو به اتمام رسید";
          $("#timeoutModal .modal-body")[0].innerText = "به منظور بروزرسانی قیمت ها  و پروازها، لطفا جستجوی خود را از ابتدا انجام دهید";
          $("#btnReload").show();
          $("#timeoutModal").modal("toggle");
          $("#back-to-edit").click()
      }
      ;
      app.expireClientSession = function() {
          app.sessionExpired = 1;
          app.showExpirePopup()
      }
      ;
      app.warningClientSession = function(n) {
          var r = new Date;
          r.setSeconds(r.getSeconds() + n);
          var i, t, u = document.title, f = "لطفا اطلاعات پرواز را نهایی کنید", e = setInterval(function() {
              var n = (r.getTime() - (new Date).getTime()) / 1e3, o;
              i = parseInt(n / 60, 10);
              t = parseInt(n % 60, 10);
              i = i < 10 ? "0" + i : i;
              t = t < 10 ? "0" + t : t;
              o = t % 2 == 0 ? u : f;
              document.title = i + ":" + t + " " + o;
              --n < 0 && (clearInterval(e),
              document.title = i + ":" + t + " " + u)
          }, 1e3)
      }
      ;
      app.startTimer = function() {}
      ;
      app.getTrainAvailables = function() {
          $("#forward-loading").show();
          app.setBootstrapProgressBarByPercent(3e4, "#forward-loading");
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/api/SearchTrainAvailables",
              data: JSON.stringify({
                  origin: app.hdfRFrom,
                  destination: app.hdfRTo,
                  departureDate: app.hdfRdateFrom,
                  returnDate: app.hdfRdateTo,
                  passengers: app.hdfPassengersCount,
                  ticketType: app.hdfTicketType,
                  exclusiveCompartment: app.hdfExclusiveCompartment
              }),
              error: function(n) {
                  $("#forward-loading").hide();
                  $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی قطارها برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                  console.error(n)
              },
              success: function(n) {
                  if (n.Successful)
                      app.renderTrainAvailable(n, !1),
                      set_sort_filter_flights($("#forward")),
                      setTimeout(function() {
                          $("#forward").isotope({
                              sortBy: ["hotelService", "leavingdeparttime"],
                              sortAscending: !0
                          })
                      }, 100);
                  else {
                      var t = n.ErrorMessage === "0" ? "متاسفانه قطاری برای این مسیر در این تاریخ وجود ندارد" : "مشکلی رخ داده، دوباره تلاش کنید";
                      $("#forward-loading").hide();
                      $("#flightSearchError").show().find("div").html(t);
                      console.error(n.ErrorMessage)
                  }
              }
          })
      }
      ;
      app.getBackTrainAvailables = function() {
          $("#backward-loading").show();
          app.setBootstrapProgressBarByPercent(3e4, "#forward-loading");
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/api/SearchTrainAvailables",
              data: JSON.stringify({
                  origin: app.hdfRTo,
                  destination: app.hdfRFrom,
                  departureDate: app.hdfRdateTo,
                  returnDate: app.hdfRdateFrom,
                  passengers: app.hdfPassengersCount,
                  ticketType: app.hdfTicketType,
                  exclusiveCompartment: app.hdfExclusiveCompartment
              }),
              error: function(n) {
                  $("#backward-loading").hide();
                  $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی قطارها برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                  console.error(n)
              },
              success: function(n) {
                  if (n.Successful)
                      app.renderTrainAvailable(n, !0),
                      set_sort_filter_flights($("#backward")),
                      setTimeout(function() {
                          $("#backward").isotope({
                              sortBy: "leavingdeparttime",
                              sortAscending: !0
                          })
                      }, 100);
                  else {
                      var t = n.ErrorMessage === "0" ? "متاسفانه قطاری برای برگشت این مسیر در این تاریخ وجود ندارد" : "مشکلی رخ داده، دوباره تلاش کنید";
                      $("#forward-loading").hide();
                      $("#flightSearchError").show().find("strong").text(t);
                      console.error(n.ErrorMessage)
                  }
              }
          })
      }
      ;
      app.getBusAvailables = function() {
          $("#forward-loading").show();
          app.setBootstrapProgressBarByPercent(3e4, "#forward-loading");
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/AirCtr.aspx/SearchBusAvailables",
              data: JSON.stringify({
                  origin: app.hdfRFrom,
                  destination: app.hdfRTo,
                  departureDate: app.hdfRdateFrom,
                  returnDate: app.hdfRdateTo,
                  passengers: app.hdfPassengersCount,
                  ticketType: app.hdfTicketType,
                  exclusiveCompartment: app.hdfExclusiveCompartment
              }),
              error: function(n) {
                  $("#forward-loading").hide();
                  $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی مسیر های اتوبوس ، برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                  console.error(n)
              },
              success: function(n) {
                  n.d.Successful ? (app.renderBusAvailable(n.d, !1),
                  set_sort_filter_flights($("#forward")),
                  setTimeout(function() {
                      $("#forward").isotope({
                          sortBy: "leavingdeparttime",
                          sortAscending: !0
                      })
                  }, 100)) : ($("#forward-loading").hide(),
                  $("#flightSearchError").show().find("p").text(n.d.ErrorMessage))
              }
          })
      }
      ;
      app.getBackBusAvailables = function() {
          $("#backward-loading").show();
          app.setBootstrapProgressBarByPercent(3e4, "#backward-loading");
          $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              url: "/AirCtr.aspx/SearchBusAvailables",
              data: JSON.stringify({
                  origin: app.hdfRTo,
                  destination: app.hdfRFrom,
                  departureDate: app.hdfRdateTo,
                  returnDate: app.hdfRdateFrom,
                  passengers: app.hdfPassengersCount,
                  ticketType: app.hdfTicketType,
                  exclusiveCompartment: app.hdfExclusiveCompartment
              }),
              error: function(n) {
                  $("#backward-loading").hide();
                  $("#flightSearchError").show().find("p").text("علی بابا در حال جستجوی تمامی مسیر های اتوبوس ، برای مسیر شما است. لطفا مجددا جستجو نمایید.");
                  console.error(n)
              },
              success: function(n) {
                  console.log(n);
                  n.d.Successful ? (app.renderBusAvailable(n.d, !0),
                  set_sort_filter_flights($("#backward")),
                  setTimeout(function() {
                      $("#backward").isotope({
                          sortBy: "leavingdeparttime",
                          sortAscending: !0
                      })
                  }, 100)) : ($("#backward-loading").hide(),
                  $("#flightSearchError").show().find("p").text(n.d.ErrorMessage))
              }
          })
      }
      ;
      app.checkCharactersTrain = function() {
          var n = ""
            , t = "";
          $(".passenger-name").on("input paste", function() {
              var i = $(this).prop("name")
                , f = $(this).val()
                , r = ""
                , u = "";
              (i == "fa_name" || i == "fa_family") && $("#passengers").find(".passenger-type:checked").val() != "foreign" && (r = /^[\\u0600-\\u06FF\\uFB8A\\u067E\\u0686\\u06AF ]+$/,
              u = "مشخصات خود را به فارسی وارد کنید");
              app.transit == 0 && (i == "nationalid" ? (r = /[0-9]/,
              u = "کد ملی را به عدد وارد کنید") : (i == "en_name" || i == "en_family") && (r = /^[A-Za-z_ ]*$/,
              u = "مشخصات خود را به انگلیسی وارد کنید"));
              r.test(f) || $(this).val() == "" ? (t = i,
              n = f) : (toastr.options.timeOut = 5e3,
              $("#toast-container").remove(),
              toastr.clear(),
              toastr.error(u),
              t == i ? $(this).val(n) : $(this).val(""))
          })
      }
      ;
      app.checkCharacters = function() {
          var n = ""
            , t = "";
          $(".passenger-name").on("input paste", function() {
              var i = $(this).prop("name")
                , f = $(this).val()
                , r = ""
                , u = "";
              (i == "fa_name" || i == "fa_family") && $("#passengers").find(".passenger-type:checked").val() != "foreign" && (r = /^[\\u0600-\\u06FF\\uFB8A\\u067E\\u0686\\u06AF ]+$/,
              u = "مشخصات خود را به فارسی وارد کنید");
              i == "nationalid" ? (r = /[0-9]/,
              u = "کد ملی را به عدد وارد کنید") : (i == "name" || i == "family") && (r = /^[A-Za-z_ ]*$/,
              u = "مشخصات خود را به انگلیسی وارد کنید");
              r.test(f) || $(this).val() == "" ? (t = i,
              n = f) : (toastr.options.timeOut = 5e3,
              $("#toast-container").remove(),
              toastr.clear(),
              toastr.error(u),
              t == i ? $(this).val(n) : $(this).val(""))
          })
      }
      ;
      app.SetReqiredFieldBasedOnAirLine = function(n, t) {
          $("#passengers").find(".FieldRequired").removeClass("FieldRequired");
          $("#passengers").find("input[name=age]").addClass("FieldRequired");
          $("#passengers").find("input[name=nationalid]").addClass("FieldRequired");
          $("#passengers").find("input[name=fa_name]").addClass("FieldRequired");
          $("#passengers").find("input[name=fa_family]").addClass("FieldRequired");
          $("#passengers").find("select[name=gender]").addClass("FieldRequired");
          var i = !0;
          switch (n) {
          case "IR":
              $("#passengers").find("input[name=nationalid]").addClass("FieldRequired");
              break;
          default:
              switch (t) {
              case "C":
                  $("#passengers").find("input[name=fa_name]").addClass("FieldRequired");
                  $("#passengers").find("input[name=fa_family]").addClass("FieldRequired");
                  i = !1
              }
          }
          i && ($("#passengers").find("input[name=name]").addClass("FieldRequired"),
          $("#passengers").find("input[name=family]").addClass("FieldRequired"))
      }
      ;
      app.setTrainReqiredFields = function() {
          $("#passengers").find(".FieldRequired").removeClass("FieldRequired");
          $("#passengers").find("input[name=tariff],input[name=age],input[name=nationalid],input[name=fa_name],input[name=fa_family],input[name=gender]").addClass("FieldRequired")
      }
      ;
      app.setTrainReqiredFieldsTransit = function() {
          $("#passengers").find(".FieldRequired").removeClass("FieldRequired");
          $("#passengers").find("input[name=fa_name],input[name=fa_family],input[name=pelakNumber]").addClass("FieldRequired")
      }
      ;
      app.setBusReqiredFields = function() {
          $("#passengers").find(".FieldRequired").removeClass("FieldRequired");
          $("#passengers").find("input[name=tariff],input[name=age],input[name=nationalid],input[name=fa_name],input[name=fa_family]").addClass("FieldRequired")
      }
      ;
      app.validatePassengers = function() {
          window.validatePassengerBound = !0
      }
      ;
      app.validateFlightPassengers = function() {
          function u() {
              var t, a;
              pauseTimer();
              acceptBeforePaymentTimer.resume();
              var u = app.AmadeusPage ? $("#txtNewDiscountCode").val() : $("#txtTicketSale").val()
                , e = ""
                , o = "";
              $("input.extra-passengerEmail[type=text]").each(function(n, t) {
                  e += t.value + ";"
              });
              $("input.extra-passengerCellphone[type=text]").each(function(n, t) {
                  o += t.value + ";"
              });
              var s = []
                , h = app.getFlightPassengers(s)
                , n = $("#forward .choose.selected")
                , c = $("#backward .choose.selected")
                , l = "";
              if (l = typeof $("#backward .choose.selected").attr("data-id") != "undefined" && $("#backward .choose.selected").attr("data-id") != null ? $("#backward .choose.selected").attr("data-id") : 0,
              typeof c == "undefined" && (c = 0),
              app.InternationalPage && f(h.toString())) {
                  app.alert.error("لطفا اطلاعات مسافر را به صورت لاتین وارد نمایید");
                  app.loading.close();
                  return
              }
              t = app.getCipPassengers();
              t.length > 0 && $("#btnCipEdit").show();
              SaveSelectFlightFormCookies(n.attr("data-id"), s, r, i, u);
              a = app.InternationalPage ? "/api/SaveInternationalTicketOrder" : "/api/SaveTicketOrder";
              app.OrderId = "";
              $.ajax({
                  type: "POST",
                  url: a,
                  data: JSON.stringify({
                      departTicket: $("#forward .choose.selected").attr("data-id"),
                      returnTicket: l,
                      cell: r,
                      email: i,
                      description: app.InternationalPage ? "" : flightRequestId,
                      priceFrom: $("#forward .choose.selected").data("price"),
                      priceTo: $("#backward .choose.selected").data("price"),
                      passengers: h,
                      cipPassengers: t,
                      saleTicket: u,
                      extraCells: o,
                      extraEmails: e,
                      systemKey: n.data("systemkey"),
                      sessionId: app.availableSessionId,
                      orderId: app.OrderId
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  error: function(n) {
                      app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید.");
                      console.error(n);
                      app.loading.close();
                      return
                  },
                  success: function(t) {
                      if (!t || !t.Id) {
                          if (t.Alert != "") {
                              app.alert.error(t.Alert);
                              app.loading.close();
                              return
                          }
                          app.alert.error("مدت زمان خرید شما نهایتا تا 20 دقیقه است. لطفا مجددا مراحل خرید را انجام دهید.");
                          app.loading.close();
                          return
                      }
                      if (t.balance < 0) {
                          app.alert.error("به دلیل منفی بودن موجودی حساب شما , امکان خرید بلیط وجود ندارد.");
                          app.loading.close();
                          return
                      }
                      var i = t.Id;
                      if (app.OrderId = t.Order != undefined ? t.Order.OrderId : null ,
                      i == -1) {
                          app.alert.error(t.Alert);
                          app.loading.close();
                          return
                      }
                      if (i == -2) {
                          app.alert.error(t.Alert);
                          app.loading.close();
                          return
                      }
                      if (t.Alert != null && t.Alert != "" && app.alert.info(t.Alert),
                      app.InternationalPage && (app.OrderId == "00000000-0000-0000-0000-000000000000" || app.OrderId == null )) {
                          app.alert.error("متاسفانه مشکلی در فرآیند ثبت سفارش بوجود آمده است، لطفا مجددا برای ادامه فرآیند خرید کلیک کنید");
                          app.loading.close();
                          return
                      }
                      app.hdfRFrom = $("#origin").val();
                      app.hdfRTo = $("#destination").val();
                      app.hdfRdateFrom = $("#txtfromDate").val();
                      app.hdfRdateTo = $("#txtEndDate").datepicker("option", "dateFormat", "yy/mm/dd").val();
                      app.hdfRAdult = $("#adultQuantity").text();
                      app.hdfRChild = $("#childQuantity").text();
                      app.hdfRInfant = $("#infantQuantity").text();
                      app.rqId = i;
                      app.confirmTicket(i);
                      app.LoadFlightStatus(StatusBarMenuType.AcceptInformation);
                      $("#selectFlightContainer").hide();
                      $("#confirmTicket").show("medium", function() {
                          app.scrollTo("#selectFlight")
                      });
                      setTimeout(function() {
                          ga("domesticTracker.ec:addProduct", {
                              id: $("article.selected-ticket").data("id"),
                              name: $("article.selected-ticket").data("flightnumber"),
                              category: "Flight/Domestic/" + ($("article.selected-ticket").find(".article__info__status").text().replace(/\\s/g, "") == "چارتر" ? "charter" : "system") + "/" + $("article.selected-ticket").data("systemkey") + "/" + $("article.selected-ticket").data("from") + "-" + $("article.selected-ticket").data("to"),
                              brand: $("article.selected-ticket").data("airlineen"),
                              variant: $("article.selected-ticket").find(".article__info__aircraft__title").text(),
                              price: $(".total-price-no__subtotal").text().replace(/\\D/g, "").toString().slice(0, -3),
                              quantity: Number($("#hdfRAdult").val()) + Number($("#hdfRChild").val()) + Number($("#hdfRInfant").val())
                          });
                          ga("domesticTracker.ec:setAction", "checkout", {
                              step: 2
                          });
                          ga("domesticTracker.send", "event", "enhanced ecommerce", "button click", "checkout 2");
                          window.hj = window.hj || function() {
                              (hj.q = hj.q || []).push(arguments)
                          }
                          ;
                          hj("trigger", "domestic_checkout_page")
                      }, 2e3);
                      $("#AlibabaCredit").off("click");
                      $("#AlibabaCredit").click(function() {
                          var t = n.data("sellerid")
                            , r = n.data("sellerreference");
                          ga("domesticTracker.ec:addProduct", {
                              id: $("article.selected-ticket").data("id"),
                              name: $("article.selected-ticket").data("flightnumber"),
                              category: "Flight/Domestic/" + ($("article.selected-ticket").find(".article__info__status").text().replace(/\\s/g, "") == "چارتر" ? "charter" : "system") + "/" + $("article.selected-ticket").data("systemkey") + "/" + $("article.selected-ticket").data("from") + "-" + $("article.selected-ticket").data("to"),
                              brand: $("article.selected-ticket").data("airlineen"),
                              variant: $("article.selected-ticket").find(".article__info__aircraft__title").text(),
                              price: $(".total-price-no__subtotal").text().replace(/\\D/g, "").toString().slice(0, -3),
                              quantity: Number($("#hdfRAdult").val()) + Number($("#hdfRChild").val()) + Number($("#hdfRInfant").val())
                          });
                          ga("domesticTracker.ec:setAction", "checkout", {
                              step: 3,
                              option: "AlibabaCredit"
                          });
                          ga("domesticTracker.send", "event", "enhanced ecommerce", "button click", "checkout 3 AlibabaCredit");
                          app.getFlightBeforeBuyTicket(i, "AlibabaCredit", t, r)
                      });
                      $("#CreditCard").off("click");
                      $("#CreditCard").click(function() {
                          var t = n.data("sellerid")
                            , r = n.data("sellerreference");
                          ga("domesticTracker.ec:addProduct", {
                              id: $("article.selected-ticket").data("id"),
                              name: $("article.selected-ticket").data("flightnumber"),
                              category: "Flight/Domestic/" + ($("article.selected-ticket").find(".article__info__status").text().replace(/\\s/g, "") == "چارتر" ? "charter" : "system") + "/" + $("article.selected-ticket").data("systemkey") + "/" + $("article.selected-ticket").data("from") + "-" + $("article.selected-ticket").data("to"),
                              brand: $("article.selected-ticket").data("airlineen"),
                              variant: $("article.selected-ticket").find(".article__info__aircraft__title").text(),
                              price: $(".total-price-no__subtotal").text().replace(/\\D/g, "").toString().slice(0, -3),
                              quantity: Number($("#hdfRAdult").val()) + Number($("#hdfRChild").val()) + Number($("#hdfRInfant").val())
                          });
                          ga("domesticTracker.ec:setAction", "checkout", {
                              step: 3,
                              option: "CreditCard"
                          });
                          ga("domesticTracker.send", "event", "enhanced ecommerce", "button click", "checkout 3 CreditCard");
                          app.getFlightBeforeBuyTicket(i, "CreditCard", t, r)
                      });
                      $("#ReserveFlight").length > 0 && ($("#ReserveFlight").off("click"),
                      $("#ReserveFlight").click(function() {
                          var t = n.data("sellerid")
                            , r = n.data("sellerreference");
                          app.getFlightBeforeBuyTicket(i, "ReserveFlight", t, r)
                      }))
                  }
              })
          }
          function f(n) {
              for (var t = 0; t < n.length; t++)
                  if (n.charCodeAt(t) > 255)
                      return !0;
              return !1
          }
          function e() {
              n == "" && (t = !1);
              t ? (app.loading.close(),
              toastr.error(n)) : (app.LoadFlightStatus(StatusBarMenuType.AcceptInformation, $("#selectFlightStatusplaceId")),
              u())
          }
          if (app.InternationalPage && app.sessionExpired === 1) {
              app.showExpirePopup();
              app.loading.close();
              return
          }
          var n = ""
            , t = !1
            , o = $("#forward .choose.selected").data("date")
            , s = $("#backward .choose.selected").data("date")
            , h = $("#forward .choose.selected").data("airline")
            , c = $("#backward .choose.selected").data("airline")
            , i = $("#passengerEmail").val()
            , r = $("#passengerCellphone").val()
            , l = $("#passengerDescription").val();
          e()
      }
      ;
      app.getFlightPassengers = function(n) {
          var i = [], u = 0, r, t = 0;
          return $("#passengers .passenger-detail-info-container:not(.hidden) fieldset").each(function(f, e) {
              var o = $(e).attr("data-age") == "0" ? "ADL" : $(e).attr("data-age") == "1" ? "CHD" : "INF";
              $(e).find(".passenger-detail-info").each(function(f, e) {
                  n[f] = {};
                  n[f].Id = $(e).closest(".passenger-detail-info")[0].id;
                  n[f].ageType = o;
                  n[f].title = $(e).find("select").val();
                  n[f].FirstName = $(e).find('input[name="name"]').val();
                  n[f].LastName = $(e).find('input[name="family"]').val();
                  n[f].PersianFirstName = $(e).find('input[name="fa_name"]').val() ? $(e).find('input[name="fa_name"]').val() : "";
                  n[f].PersianLastName = $(e).find('input[name="fa_family"]').val() ? $(e).find('input[name="fa_family"]').val() : "";
                  n[f].NationalID = $(e).find('input[name="nationalid"]').val();
                  n[f].DateOfBirth = $(e).find('input[name="age"]') ? $(e).find('input[name="age"]').val() : 0;
                  $(e).find(".passenger-type:checked").val() == "foreign" && (n[f].StateCode = $(e).find("input.passenger-statecode").val(),
                  n[f].PlaceOfIssue = $(e).find("input.passenger-placeOfIssue").val(),
                  n[f].PassportCode = $(e).find(".passenger-passportcode").val(),
                  n[f].ExpireDate = $(e).find("input.passenger-expiredate").val());
                  r = n[f].DateOfBirth ? n[f].DateOfBirth : "";
                  var s = n[f].ageType + "@" + n[f].title + "@" + n[f].FirstName + "@" + n[f].LastName + "@" + r + "@" + n[f].NationalID + "@" + n[f].PersianFirstName + "@" + n[f].PersianLastName;
                  $(e).find(".passenger-type:checked").val() == "foreign" && (s += "@" + n[f].StateCode + "@" + n[f].PlaceOfIssue + "@" + n[f].PassportCode + "@" + n[f].ExpireDate);
                  i[t] = s + "@" + n[f].Id;
                  t = t + 1;
                  u = f
              })
          }),
          i
      }
      ;
      app.getCipPassengers = function() {
          var n = [];
          return $("#cipPassengersModal input.cip-passenger:checked").each(function() {
              var t = {};
              t.nationalId = $(this).val();
              t.amount = $(this).attr("amount");
              t.type = $(this).attr("age-type");
              t.passportcode = $(this).attr("passportcode");
              n.push(t)
          }),
          n
      }
      ;
      app.validateFlightInputs = function() {
          var v, y, i;
          if (app.loading.start(),
          v = $("#passengers").find("#adult-passengers .passenger-detail-info").length + 
          $("#passengers").find("#child-passengers .passenger-detail-info").length,
          y = parseInt($("article.selected-ticket").attr("data-count")),
          y < v) {
              toastr.error("تعداد مسافران شما بیش از ظرفیت پرواز انتخابی است.");
              app.loading.close();
              return
          }
          var n = !1
            , p = $("#passengerEmail").val()
            , w = $("#passengerCellphone").val()
            , t = function(n) {
              app.loading.close();
              toastr.error(n)
          }
            , b = []
            , r = $("#passengers .passenger-detail-info-container:not(.hidden) ").find("fieldset");
          for (i = 0; i < r.length; i++)
              b.push($(r).data("age"));
          if (p != "" && app.emailValidation(p))
              if (w != "" && app.PhoneValidation(w)) {
                  if ($("#acceptTermsAndCondition").is(":checked") == !1)
                      return t("پذیرفتن قوانین و مقررات الزامی است."),
                      n = !0,
                      $(this).focus(),
                      $("#acceptTermsAndCondition + label").addClass("focus-label"),
                      setTimeout(function() {
                          $("#acceptTermsAndCondition + label").removeClass("focus-label")
                      }, 5e3),
                      !1
              } else
                  return t("تلفن همراه به درستی وارد نشده است"),
                  n = !0,
                  $(this).focus(),
                  !1;
          else
              return t("ایمیل به درستی وارد نشده است"),
              n = !0,
              $(this).focus(),
              !1;
          if (b.indexOf(0) == -1)
              return t("امکان صدور بلیط برای کوک و نوزاد تنها میسر نیست."),
              n = !0,
              !1;
          var c = function(n) {
              for (var i = n.split("/"), u, t, r = 0; r < i.length; r++)
                  i[r] = parseInt(i[r], 10);
              return i[0] > 1900 ? t = i : (u = dateConvertor.toGregorian.apply(this, i),
              t = u.split("-")),
              t[1] = t[1] - 1,
              new Date(t[0],t[1],t[2])
          }, ft = new Date, r = $("#passengers .passenger-detail-info:not(.hidden) "), h, nt = $("#hdfFlightDate").val(), l = new Date(nt);
          for (i = 0; i <= r.length; i++)
              if (h = $(r[i]).parent().parent(),
              $(h).data("age") == 0) {
                  var e = c($(r[i]).find("input.birthday").val())
                    , u = l.getTime() - e.getTime()
                    , f = Math.ceil(Math.abs(u) / 36e5);
                  if (f < 105193 || u < 0)
                      return t("تاریخ تولد بزرگسال به درستی وارد نشده است."),
                      $(r[i]).find("input.birthday").focus(),
                      n = !0,
                      !1
              } else if ($(h).data("age") == 1) {
                  var e = c($(r[i]).find("input.birthday").val())
                    , u = Math.abs(l.getTime() - e.getTime())
                    , f = Math.ceil(u / 36e5);
                  if (f >= 105193 || f <= 17544 || u < 0)
                      return t("تاریخ تولد کودک به درستی وارد نشده است."),
                      $(r[i]).find("input.birthday").focus(),
                      n = !0,
                      !1
              } else if ($(h).data("age") == 2) {
                  var e = c($(r[i]).find("input.birthday").val())
                    , u = parseInt(l.getTime() - e.getTime())
                    , f = Math.ceil(u / 36e5);
                  if (f > 17544 || f < 0 || u < 0)
                      return t("تاریخ تولد نوزاد به درستی وارد نشده است."),
                      $(r[i]).find("input.birthday").focus(),
                      n = !0,
                      !1;
                  if (f < 240)
                      return t("امکان صدور بلیط برای نوزاد کمتر از 10 روز وجود ندارد"),
                      $(r[i]).find("input.birthday").focus(),
                      n = !0,
                      !1
              }
          var k = []
            , tt = function(n) {
              var t = !1;
              return $.each(k, function(i, r) {
                  if (r == n) {
                      t = !0;
                      return
                  }
              }),
              k.push(o),
              t
          }
            , d = []
            , it = function(n) {
              var t = !1;
              return $.each(d, function(i, r) {
                  if (r == n) {
                      t = !0;
                      return
                  }
              }),
              d.push(s),
              t
          }
            , g = []
            , rt = function(n) {
              var t = !1;
              return $.each(g, function(i, r) {
                  if (r == n) {
                      t = !0;
                      return
                  }
              }),
              g.push(a),
              t
          }
            , et = function(n) {
              return ut(n, $(".selected-ticket").attr("data-id"))
          }
            , ut = function(t, i) {
              return $.ajax({
                  type: "POST",
                  url: "/api/IsPassengerExistsInFlight",
                  data: JSON.stringify({
                      nationalId: t,
                      id: i
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  async: !1,
                  error: function() {
                      n = !0
                  },
                  success: function(t) {
                      if (t == !1) {
                          n = !1;
                          return
                      }
                      n = !0
                  }
              }),
              !1
          }
            , o = ""
            , s = ""
            , a = "";
          return $('#passengers input[type="text"]').each(function(i, r) {
              if ($(r).hasClass("FieldRequired") && $(r).is(":visible")) {
                  if ($(r).prop("name") == "name" && (o = $(r).val(),
                  $(r).val().trim() == ""))
                      return t("لطفا نام انگلیسی مسافر را وارد کنید."),
                      n = !0,
                      $(r).focus(),
                      !1;
                  if ($(r).prop("name") == "family") {
                      if (o = o + " " + $(r).val(),
                      tt(o) === !0)
                          return t("نام و نام خانوادگی انگلیسی مسافران تکراری است."),
                          n = !0,
                          $(r).focus(),
                          !1;
                      if ($(r).val().trim() == "")
                          return t("لطفا نام خانوادگی انگلیسی مسافر را وارد کنید."),
                          n = !0,
                          $(r).focus(),
                          !1
                  }
                  if ($(r).prop("name") == "fa_name" && (s = $(r).val()),
                  $(r).prop("name") == "fa_family" && (s = s + " " + $(r).val(),
                  it(s) === !0))
                      return console.log("repeated"),
                      t("نام و نام خانوادگی فارسی مسافران تکراری است."),
                      n = !0,
                      $(r).focus(),
                      !1;
                  if ($(r).prop("name") == "passportcode") {
                      if ($(r).val() == "")
                          return t("شماره پاسپورت به درستی وارد نشده است"),
                          n = !0,
                          $(r).focus(),
                          !1;
                      if ($(r).parent().parent().find("input.placeOfIssue").val() == "IRN" && !/[a-zA-Z]/.test($(r).val()))
                          return t("شماره پاسپورت باید حداقل شامل یک حرف لاتین باشد"),
                          n = !0,
                          $(r).focus(),
                          !1
                  }
                  if ($(r).prop("name") != "nationalid") {
                      if ($(r).val() == "")
                          return t("مشخصات مسافران به درستی وارد نشده است"),
                          n = !0,
                          $(r).focus(),
                          !1
                  } else if ($(r).prop("name") == "nationalid") {
                      if (a = $(r).val(),
                      rt(a) === !0) {
                          t("کد ملی مسافران تکراری است.");
                          n = !0;
                          $(r).focus();
                          return
                      }
                      if (!app.NationalIDValidation($(r).val()))
                          return t("کد ملی مسافران به‌درستی وارد نشده است. کد ملی، باید ده رقمی و معتبر باشد."),
                          n = !0,
                          $(r).focus(),
                          !1
                  }
              }
          }),
          $('div[id*="residency"]').each(function() {
              if ($(this).is(":visible") && ($(this).select2("val") == "" || $(this).select2("val") == null ))
                  return t("محل تولد به درستی وارد نشده است"),
                  n = !0,
                  $("#residency").focus(),
                  !1
          }),
          $('div[id*="placeOfIssue"]').each(function() {
              if ($(this).is(":visible") && ($(this).select2("val") == "" || $(this).select2("val") == null ))
                  return t("کشور صادر کننده پاسپورت به درستی وارد نشده است"),
                  n = !0,
                  $("#placeOfIssue").focus(),
                  !1
          }),
          $('input[id*="passportDate"]').each(function() {
              if ($(this).is(":visible") && app.PassportDateValidation($(this).val()) == !1)
                  return t("پاسپورت باید حداقل 6 ماه اعتبار داشته باشد"),
                  n = !0,
                  !1
          }),
          $("#passengers select").each(function(i, r) {
              if ($(r).val() == "")
                  return t("جنسیت مسافران به درستی انتخاب نشده است"),
                  n = !0,
                  $(this).focus(),
                  !1
          }),
          $('input[name="age"]').each(function(n, i) {
              passengerBirthday = $(i).val();
              var r = function(n) {
                  n == 0 ? t("سن بزرگسال نباید زیر دوازده سال باشد.") : n == 1 ? t("سن کودک باید در زمان پرواز بین دو تا دوازده سال باشد.") : n == 2 && t("سن نوزاد باید در زمان پرواز، کمتر از دو سال باشد.")
              }
                , u = function(n) {
                  for (var i = n.split("/"), t = 0; t < i.length; t++)
                      i[t] = parseInt(i[t], 10);
                  return dateConvertor.toGregorian.apply(this, i)
              }
                , f = $(i).closest("fieldset").data("age")
          }),
          app.loading.close(),
          !n
      }
      ;
      app.validateTrainPassengers = function() {
          window.validatePassengerBound = !0;
          $("#validate-passengers").click(function() {
              if (app.transit === 1) {
                  var r = ""
                    , f = !0
                    , n = !1
                    , u = $("#forward .choose.selected").data("date")
                    , e = $("#backward .choose.selected").data("date")
                    , o = $("#forward .choose.selected").data("airline")
                    , s = $("#backward .choose.selected").data("airline")
                    , t = $("#passengerEmail").val()
                    , i = $("#passengerCellphone").val()
                    , h = $("#passengerDescription").val();
                  function c() {
                      var f = $("#txtTicketSale").val()
                        , e = ""
                        , o = "";
                      $("input.extra-passengerEmail[type=text]").each(function(n, t) {
                          e += t.value + ";"
                      });
                      $("input.extra-passengerCellphone[type=text]").each(function(n, t) {
                          o += t.value + ";"
                      });
                      var n = []
                        , s = []
                        , l = 0
                        , u = 0;
                      $("#passengers .train-detail-info-container fieldset").each(function(t, i) {
                          $(i).find(".passenger-detail-info").each(function(t, i) {
                              n[t] = {};
                              n[t].Tariff = "transitCar";
                              n[t].Title = $(i).find("select").val();
                              n[t].PersianFirstName = $(i).find('input[name="fa_name"]').val();
                              n[t].PersianLastName = $(i).find('input[name="fa_family"]').val();
                              n[t].EnglishFirstName = $(i).find('input[name="en_name"]').val();
                              n[t].EnglishLastName = $(i).find('input[name="en_family"]').val();
                              n[t].NationalID = $(i).find('input[name="nationalid"]').val();
                              n[t].pelakCar = $(i).find('input[name="pelakNumber"]').val();
                              var r = n[t].Tariff + "@" + n[t].Title + "@" + n[t].PersianFirstName + " " + n[t].PersianLastName + "@" + n[t].pelakCar + "@" + n[t].NationalID;
                              s[u] = r;
                              u = u + 1;
                              l = t
                          })
                      });
                      var r = $("#forward .choose.selected")
                        , h = $("#backward .choose.selected")
                        , c = "";
                      c = typeof $("#backward .choose.selected").data("uniquekey") != "undefined" && $("#backward .choose.selected").data("uniquekey") != null ? $("#backward .choose.selected").data("uniquekey") : 0;
                      typeof h == "undefined" && (h = 0);
                      SaveSelectFlightFormCookies(r.attr("data-id"), n, i, t, f);
                      $.ajax({
                          type: "POST",
                          url: "/api/SaveTrainTicketOrder",
                          data: JSON.stringify({
                              transit: app.transit,
                              departTicket: $("#forward .choose.selected").data("uniquekey"),
                              returnTicket: c,
                              cell: i,
                              email: t,
                              description: "",
                              priceFrom: $("#forward .choose.selected").data("price"),
                              priceTo: $("#backward .choose.selected").data("price"),
                              passengers: s,
                              saleTicket: f,
                              extraCells: o,
                              extraEmails: e,
                              exclusiveCompartment: app.hdfExclusiveCompartment == 1
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          error: function(n) {
                              app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید.");
                              console.error(n);
                              app.loading.close();
                              return
                          },
                          success: function(n) {
                              if (!n || !n.Id) {
                                  app.alert.error("مدت زمان خرید شما نهایتا تا 20 دقیقه است. لطفا مجددا مراحل خرید را انجام دهید.");
                                  return
                              }
                              var t = n.Id;
                              if (t == -1) {
                                  app.alert.error(n.Alert);
                                  app.loading.close();
                                  return
                              }
                              if (t == -2) {
                                  app.alert.error(n.Alert);
                                  app.loading.close();
                                  return
                              }
                              app.hdfRFrom = $("#origin").val();
                              app.hdfRTo = $("#destination").val();
                              app.hdfRdateFrom = $("#txtfromDate").val();
                              app.hdfRdateTo = $("#txtEndDate").datepicker("option", "dateFormat", "yy/mm/dd").val();
                              app.hdfRAdult = $("#adultQuantity").text();
                              app.hdfRChild = $("#childQuantity").text();
                              app.hdfRInfant = $("#infantQuantity").text();
                              app.confirmTrainTicket(t);
                              app.LoadFlightStatus(StatusBarMenuType.AcceptInformation);
                              $("#selectFlightContainer").hide();
                              $("#confirmTicket").show("medium", function() {
                                  app.scrollTo("#selectFlight")
                              });
                              $("#ReserveFlight").off("click");
                              $("#ReserveFlight").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "ReserveFlight", n, i)
                              });
                              $("#AlibabaCredit").off("click");
                              $("#AlibabaCredit").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "AlibabaCredit", n, i)
                              });
                              $("#CreditCard").off("click");
                              $("#CreditCard").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "CreditCard", n, i)
                              });
                              $("#chbOneWayAccept").change(function() {
                                  this.checked ? ($("#AlibabaCredit").removeAttr("disabled"),
                                  $("#CreditCard").removeAttr("disabled")) : ($("#AlibabaCredit").attr("disabled", "disabled"),
                                  $("#CreditCard").attr("disabled", "disabled"))
                              })
                          }
                      })
                  }
                  function l() {
                      app.loading.start();
                      var f = function(n) {
                          r == "" && (r = n)
                      }
                        , e = []
                        , o = $("#train-passengers .passenger-detail-info");
                      if (o.each(function(n, t) {
                          e.push($(t).find("[name=tariff]").val())
                      }),
                      t != "" && app.emailValidation(t))
                          if (i != "" && app.PhoneValidation(i)) {
                              if ($("#acceptTermsAndCondition").is(":checked") === !1) {
                                  f("پذیرفتن قوانین و مقررات الزامی است.");
                                  n = !0;
                                  $(this).focus();
                                  return
                              }
                          } else {
                              f("تلفن همراه به درستی وارد نشده است");
                              n = !0;
                              $(this).focus();
                              return
                          }
                      else {
                          f("ایمیل به درستی وارد نشده است");
                          n = !0;
                          $(this).focus();
                          return
                      }
                      if ($('#passengers input[type="text"]').each(function(t, i) {
                          if ($(i).hasClass("FieldRequired") && $(i).is(":visible"))
                              if ($(i).prop("name") !== "nationalid") {
                                  if ($(i).val() == "") {
                                      f("مشخصات مسافران به درستی وارد نشده است");
                                      n = !0;
                                      $(i).focus();
                                      return
                                  }
                              } else if ($(i).prop("name") === "nationalid" && !app.NationalIDValidation($(i).val())) {
                                  f("کد ملی مسافران به‌درستی وارد نشده است. کد ملی، باید ده رقمی و معتبر باشد.");
                                  n = !0;
                                  $(i).focus();
                                  return
                              }
                      }),
                      app.InternationalPage && ($.each($("input.passenger-statecode"), function() {
                          if ($(this).val() == "") {
                              f("لطفا کشور محل تولد را انتخاب نمایید");
                              n = !0;
                              return
                          }
                      }),
                      $.each($("input.passenger-placeOfIssue"), function() {
                          if ($(this).val() == "") {
                              f("لطفا کشور صادر کننده پاسپورت را انتخاب نمایید");
                              n = !0;
                              return
                          }
                      })),
                      $("#residency").is(":visible") && ($("#residency").select2("val") == "" || $("#residency").select2("val") == null )) {
                          f("محل تولد به درستی وارد نشده است");
                          n = !0;
                          $("#residency").focus();
                          return
                      }
                      if ($("#placeOfIssue").is(":visible") && ($("#placeOfIssue").select2("val") == "" || $("#placeOfIssue").select2("val") == null )) {
                          f("محل سکونت به درستی وارد نشده است");
                          n = !0;
                          $("#placeOfIssue").focus();
                          return
                      }
                      if ($("#passportDate").is(":visible") && app.PassportDateValidation($("#passportDate").val()) == !1) {
                          n = !0;
                          f("پاسپورت باید حداقل 6 ماه اعتبار داشته باشد");
                          return
                      }
                      $("#passengers select").each(function(t, i) {
                          if ($(i).val() == "") {
                              f("نوع مسافران به درستی انتخاب نشده است");
                              n = !0;
                              $(this).focus();
                              return
                          }
                      });
                      $('input[name="age"]').each(function(t, i) {
                          passengerBirthday = $(i).val();
                          var e = function(n) {
                              n == 0 ? f("سن بزرگسال نباید زیر دوازده سال باشد.") : n == 1 ? f("سن کودک باید در زمان پرواز بین دو تا دوازده سال باشد.") : n == 2 && f("سن نوزاد باید در زمان پرواز، کمتر از دو سال باشد.")
                          }
                            , o = $(i).closest(".passenger-detail-info").find("select").val()
                            , r = null ;
                          o === "Child" ? r = 1 : o === "Infant" && (r = 2);
                          passengerBirthday.length > 0 && r != null && $.ajax({
                              type: "POST",
                              url: "/api/IsChild",
                              data: JSON.stringify({
                                  persianBirthDate: passengerBirthday,
                                  persianFlightDate: u,
                                  agetype: r
                              }),
                              contentType: "application/json; charset=utf-8",
                              dataType: "json",
                              async: !1,
                              error: function() {
                                  n = !0;
                                  e(r)
                              },
                              success: function(t) {
                                  if (t == !1) {
                                      n = !0;
                                      e(r);
                                      return
                                  }
                              }
                          })
                      })
                  }
                  function a() {
                      n ? (app.loading.close(),
                      toastr.error(r)) : (app.LoadFlightStatus(StatusBarMenuType.AcceptInformation, $("#selectFlightStatusplaceId")),
                      c())
                  }
                  $.when(l()).then(a())
              } else {
                  var r = ""
                    , f = !0
                    , n = !1
                    , u = $("#forward .choose.selected").data("date")
                    , e = $("#backward .choose.selected").data("date")
                    , o = $("#forward .choose.selected").data("airline")
                    , s = $("#backward .choose.selected").data("airline")
                    , t = $("#passengerEmail").val()
                    , i = $("#passengerCellphone").val()
                    , h = $("#passengerDescription").val();
                  function v() {
                      $("article.item-highlight.selected-ticket").data("hotelservice") ? ($(".hotel-service-info").show(),
                      $(".hotel-service-info .hotel-service-percent").text($("article.item-highlight.selected-ticket").data("hoteldiscountpercent")),
                      $(".hotel-service-info .hotel-service-max").text($("article.item-highlight.selected-ticket").data("hotelceilingamount")),
                      $(".hotel-service-info .hotel-service-expireddate").text($("article.item-highlight.selected-ticket").data("hotelexpiredpersiandatetime"))) : $(".hotel-service-info").hide();
                      var e = $("#txtTicketSale").val()
                        , o = ""
                        , s = "";
                      $("input.extra-passengerEmail[type=text]").each(function(n, t) {
                          o += t.value + ";"
                      });
                      $("input.extra-passengerCellphone[type=text]").each(function(n, t) {
                          s += t.value + ";"
                      });
                      var n = [], h = [], a = 0, u, f = 0;
                      $("#passengers .train-detail-info-container fieldset").each(function(t, i) {
                          $(i).find(".passenger-detail-info").each(function(t, i) {
                              var s, o;
                              n[t] = {};
                              var e = document.getElementById("ddloriginFood" + (t + 1))
                                , c = e.options[e.selectedIndex].value + "#" + e.options[e.selectedIndex].text
                                , r = document.getElementById("ddldestinationFood" + (t + 1));
                              r != null && (s = r.options[r.selectedIndex].value + "#" + r.options[r.selectedIndex].text,
                              n[t].DestinationFood = s);
                              n[t].OriginFood = c;
                              n[t].Tariff = $(i).find("select.passenger-type").val();
                              n[t].Title = $(i).find("select.passenger-gender").val();
                              n[t].PersianFirstName = $(i).find('input[name="fa_name"]').val();
                              n[t].PersianLastName = $(i).find('input[name="fa_family"]').val();
                              n[t].EnglishFirstName = $(i).find('input[name="en_name"]').val();
                              n[t].EnglishLastName = $(i).find('input[name="en_family"]').val();
                              n[t].NationalID = $(i).find('input[name="nationalid"]').val();
                              n[t].DateOfBirth = $(i).find('input[name="age"]') ? $(i).find('input[name="age"]').val() : 0;
                              $(i).find(".passenger-type:checked").val() == "foreign" && (n[t].StateCode = "IRN",
                              n[t].PlaceOfIssue = "IRN",
                              n[t].PassportCode = $(i).find(".passenger-passportcode").val(),
                              n[t].ExpireDate = "2020/01/01");
                              u = n[t].DateOfBirth ? n[t].DateOfBirth : "";
                              o = r != null ? n[t].Tariff + "@" + n[t].Title + "@" + n[t].PersianFirstName + "@" + n[t].PersianLastName + "@" + n[t].EnglishFirstName + "@" + n[t].EnglishLastName + "@" + u + "@" + n[t].NationalID + "@" + n[t].OriginFood + "@" + n[t].DestinationFood : n[t].Tariff + "@" + n[t].Title + "@" + n[t].PersianFirstName + "@" + n[t].PersianLastName + "@" + n[t].EnglishFirstName + "@" + n[t].EnglishLastName + "@" + u + "@" + n[t].NationalID + "@" + n[t].OriginFood;
                              $(i).find(".passenger-type:checked").val() == "foreign" && (o += "@" + n[t].StateCode + "@" + n[t].PlaceOfIssue + "@" + n[t].PassportCode + "@" + n[t].ExpireDate);
                              h[f] = o;
                              f = f + 1;
                              a = t
                          })
                      });
                      var r = $("#forward .choose.selected")
                        , c = $("#backward .choose.selected")
                        , l = "";
                      l = typeof $("#backward .choose.selected").data("uniquekey") != "undefined" && $("#backward .choose.selected").data("uniquekey") != null ? $("#backward .choose.selected").data("uniquekey") : 0;
                      typeof c == "undefined" && (c = 0);
                      SaveSelectFlightFormCookies(r.attr("data-id"), n, i, t, e);
                      $.ajax({
                          type: "POST",
                          url: "/api/SaveTrainTicketOrder",
                          data: JSON.stringify({
                              departTicket: $("#forward .choose.selected").data("uniquekey"),
                              returnTicket: l,
                              cell: i,
                              email: t,
                              description: "",
                              priceFrom: $("#forward .choose.selected").data("price"),
                              priceTo: $("#backward .choose.selected").data("price"),
                              passengers: h,
                              saleTicket: e,
                              extraCells: s,
                              extraEmails: o,
                              exclusiveCompartment: app.hdfExclusiveCompartment == 1
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          error: function(n) {
                              app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید.");
                              console.error(n);
                              app.loading.close();
                              return
                          },
                          success: function(n) {
                              if (!n || !n.Id) {
                                  app.alert.error("مدت زمان خرید شما نهایتا تا 20 دقیقه است. لطفا مجددا مراحل خرید را انجام دهید.");
                                  return
                              }
                              var t = n.Id;
                              if (t == -1) {
                                  app.alert.error(n.Alert);
                                  app.loading.close();
                                  return
                              }
                              if (t == -2) {
                                  app.alert.error(n.Alert);
                                  app.loading.close();
                                  return
                              }
                              app.hdfRFrom = $("#origin").val();
                              app.hdfRTo = $("#destination").val();
                              app.hdfRdateFrom = $("#txtfromDate").val();
                              app.hdfRdateTo = $("#txtEndDate").datepicker("option", "dateFormat", "yy/mm/dd").val();
                              app.hdfRAdult = $("#adultQuantity").text();
                              app.hdfRChild = $("#childQuantity").text();
                              app.hdfRInfant = $("#infantQuantity").text();
                              app.confirmTrainTicket(t);
                              app.LoadFlightStatus(StatusBarMenuType.AcceptInformation);
                              $("#selectFlightContainer").hide();
                              $("#confirmTicket").show("medium", function() {
                                  app.scrollTo("#selectFlight")
                              });
                              $("#ReserveFlight").off("click");
                              $("#ReserveFlight").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "ReserveFlight", n, i)
                              });
                              $("#AlibabaCredit").off("click");
                              $("#AlibabaCredit").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "AlibabaCredit", n, i)
                              });
                              $("#CreditCard").off("click");
                              $("#CreditCard").click(function() {
                                  var n = r.data("sellerid")
                                    , i = r.data("sellerreference");
                                  app.getTrainFlightBeforeBuyTicket(t, "CreditCard", n, i)
                              });
                              $("#chbOneWayAccept").change(function() {
                                  this.checked ? ($("#AlibabaCredit").removeAttr("disabled"),
                                  $("#CreditCard").removeAttr("disabled")) : ($("#AlibabaCredit").attr("disabled", "disabled"),
                                  $("#CreditCard").attr("disabled", "disabled"))
                              })
                          }
                      })
                  }
                  function y() {
                      app.loading.start();
                      var f = function(n) {
                          r == "" && (r = n)
                      }
                        , e = []
                        , o = $("#train-passengers .passenger-detail-info");
                      if (o.each(function(n, t) {
                          e.push($(t).find("[name=tariff]").val())
                      }),
                      t != "" && app.emailValidation(t))
                          if (i != "" && app.PhoneValidation(i)) {
                              if ($("#acceptTermsAndCondition").is(":checked") === !1) {
                                  f("پذیرفتن قوانین و مقررات الزامی است.");
                                  n = !0;
                                  $(this).focus();
                                  return
                              }
                          } else {
                              f("تلفن همراه به درستی وارد نشده است");
                              n = !0;
                              $(this).focus();
                              return
                          }
                      else {
                          f("ایمیل به درستی وارد نشده است");
                          n = !0;
                          $(this).focus();
                          return
                      }
                      if (e[0] === "") {
                          f("نوع مسافر را انتخاب نمایید.");
                          n = !0;
                          return
                      }
                      if (e.indexOf("Adult") === -1 && e.indexOf("Veteran") === -1 && e.indexOf("Shahed") === -1) {
                          f("امکان صدور بلیط برای کوک و نوزاد تنها میسر نیست.");
                          n = !0;
                          return
                      }
                      if ($("#passengers").find(".passenger-detail-info").length < 2 && ($(".selected-ticket #wagontype")[0].innerHTML == "917" || $(".selected-ticket #wagontype")[0].innerHTML == "918" || $(".selected-ticket #wagontype")[0].innerHTML == "4359" || $(".selected-ticket #wagontype")[0].innerHTML == "4360" || $(".selected-ticket #wagontype")[0].innerHTML == "920" || $(".selected-ticket #wagontype")[0].innerHTML == "921" || $(".selected-ticket #wagontype")[0].innerHTML == "925")) {
                          f("برای خرید بلیط های قطار به همراه هتل، تعداد مسافران بایستی بیش از یک نفر باشد.");
                          n = !0;
                          return
                      }
                      if ($("#passengers").find(".passenger-detail-info").length < 2 && $("#backward .selected-ticket #wagontype")[0] != undefined && ($("#backward .selected-ticket #wagontype")[0].innerHTML == "917" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "918" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "4359" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "4360" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "920" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "925" || $("#backward .selected-ticket #wagontype")[0].innerHTML == "921")) {
                          f("برای خرید بلیط برگشت تعداد مسافران بایستی بیش از یک نفر باشد.");
                          n = !0;
                          return
                      }
                      if ($('#passengers input[type="text"]').each(function(t, i) {
                          if ($(i).hasClass("FieldRequired") && $(i).is(":visible"))
                              if (console.log($(i).prop("name")),
                              $(i).prop("name") !== "nationalid") {
                                  if ($(i).val() == "") {
                                      f("مشخصات مسافران به درستی وارد نشده است");
                                      n = !0;
                                      $(i).focus();
                                      return
                                  }
                              } else if ($(i).prop("name") === "nationalid" && !app.NationalIDValidation($(i).val())) {
                                  f("کد ملی مسافران به‌درستی وارد نشده است. کد ملی، باید ده رقمی و معتبر باشد.");
                                  n = !0;
                                  $(i).focus();
                                  return
                              }
                      }),
                      $("#residency").is(":visible") && ($("#residency").select2("val") == "" || $("#residency").select2("val") == null )) {
                          f("محل تولد به درستی وارد نشده است");
                          n = !0;
                          $("#residency").focus();
                          return
                      }
                      if ($("#placeOfIssue").is(":visible") && ($("#placeOfIssue").select2("val") == "" || $("#placeOfIssue").select2("val") == null )) {
                          f("محل سکونت به درستی وارد نشده است");
                          n = !0;
                          $("#placeOfIssue").focus();
                          return
                      }
                      if ($("#passportDate").is(":visible") && app.PassportDateValidation($("#passportDate").val()) == !1) {
                          n = !0;
                          f("پاسپورت باید حداقل 6 ماه اعتبار داشته باشد");
                          return
                      }
                      $("#passengers select").each(function(t, i) {
                          if ($(i).val() == "") {
                              f("نوع مسافران به درستی انتخاب نشده است");
                              n = !0;
                              $(this).focus();
                              return
                          }
                      });
                      $('input[name="age"]').each(function(t, i) {
                          passengerBirthday = $(i).val();
                          var e = function(n) {
                              n == 0 ? f("سن بزرگسال نباید زیر دوازده سال باشد.") : n == 1 ? f("سن کودک باید در زمان حرکت بین دو تا دوازده سال باشد.") : n == 2 && f("سن نوزاد باید در زمان حرکت، کمتر از دو سال باشد.")
                          }
                            , o = $(i).closest(".passenger-detail-info").find("select").val()
                            , r = null ;
                          o === "Child" ? r = 1 : o === "Infant" && (r = 2);
                          passengerBirthday.length > 0 && r != null && $.ajax({
                              type: "POST",
                              url: "/api/IsChild",
                              data: JSON.stringify({
                                  persianBirthDate: passengerBirthday,
                                  persianFlightDate: u,
                                  agetype: r
                              }),
                              contentType: "application/json; charset=utf-8",
                              dataType: "json",
                              async: !1,
                              error: function() {
                                  n = !0;
                                  e(r)
                              },
                              success: function(t) {
                                  if (t == !1) {
                                      n = !0;
                                      e(r);
                                      return
                                  }
                              }
                          })
                      })
                  }
                  function p() {
                      n ? (app.loading.close(),
                      toastr.error(r)) : (app.LoadFlightStatus(StatusBarMenuType.AcceptInformation, $("#selectFlightStatusplaceId")),
                      v())
                  }
                  $.when(y()).then(p())
              }
          })
      }
      ;
      app.validateBusPassengers = function() {
          window.validatePassengerBound = !0;
          $("#validate-passengers").click(function() {
              function f() {
                  var o = $("#txtTicketSale").val()
                    , s = ""
                    , h = "";
                  $("input.extra-passengerEmail[type=text]").each(function(n, t) {
                      s += t.value + ";"
                  });
                  $("input.extra-passengerCellphone[type=text]").each(function(n, t) {
                      h += t.value + ";"
                  });
                  var n = [], w = [], b = 0, c, f = 0;
                  $("#passengers .bus-detail-info-container fieldset").each(function(t, i) {
                      $(i).find(".passenger-detail-info").each(function(t, i) {
                          n[t] = {};
                          n[t].Tariff = $(i).find("select").val();
                          n[t].PersianFirstName = $(i).find('input[name="fa_name"]').val();
                          n[t].PersianLastName = $(i).find('input[name="fa_family"]').val();
                          n[t].NationalID = $(i).find('input[name="nationalid"]').val();
                          n[t].DateOfBirth = $(i).find('input[name="age"]') ? $(i).find('input[name="age"]').val() : 0;
                          $(i).find(".passenger-type:checked").val() == "foreign" && (n[t].StateCode = "IRN",
                          n[t].PlaceOfIssue = "IRN",
                          n[t].PassportCode = $(i).find(".passenger-passportcode").val(),
                          n[t].ExpireDate = "2020/01/01");
                          c = n[t].DateOfBirth ? n[t].DateOfBirth : "";
                          var r = n[t].Tariff + "@" + n[t].PersianFirstName + "@" + n[t].PersianLastName + "@" + c + "@" + n[t].NationalID;
                          $(i).find(".passenger-type:checked").val() == "foreign" && (r += "@" + n[t].StateCode + "@" + n[t].PlaceOfIssue + "@" + n[t].PassportCode + "@" + n[t].ExpireDate);
                          w[f] = r;
                          f = f + 1;
                          b = t
                      })
                  });
                  var r = $("#forward .choose.selected")
                    , l = $("#backward .choose.selected")
                    , a = ""
                    , u = null ;
                  typeof $("#backward .choose.selected").data("uniquekey") != "undefined" && $("#backward .choose.selected").data("uniquekey") != null ? (u = app.BackwardBusRequest,
                  a = $("#backward .choose.selected").data("uniquekey")) : a = 0;
                  typeof l == "undefined" && (l = 0);
                  SaveSelectFlightFormCookies(r.attr("data-id"), n, i, t, o);
                  var e = $("#passengers .bus-detail-info-container fieldset .passenger-detail-info").first()
                    , v = $(e).find('input[name="fa_name"]').val()
                    , y = $(e).find('input[name="fa_family"]').val()
                    , p = $(e).find('input[name="nationalid"]').val();
                  $.each(app.ForwardBusRequest.Passengers, function(n, t) {
                      t.FirstName = v;
                      t.LastName = y;
                      t.NationalId = p
                  });
                  u != null && $.each(u.Passengers, function(n, t) {
                      t.FirstName = v;
                      t.LastName = y;
                      t.NationalId = p
                  });
                  $.ajax({
                      type: "POST",
                      url: "/AirCtr.aspx/SaveBusTicketOrder",
                      data: JSON.stringify({
                          forwardBusRequest: app.ForwardBusRequest,
                          backwardBusRequest: u,
                          cell: i,
                          email: t,
                          description: "",
                          saleTicket: o,
                          extraCells: h,
                          extraEmails: s
                      }),
                      contentType: "application/json; charset=utf-8",
                      dataType: "json",
                      error: function(n) {
                          app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید.");
                          console.error(n);
                          app.loading.close();
                          return
                      },
                      success: function(n) {
                          if (!n.d || !n.d.Id) {
                              app.alert.error("مدت زمان خرید شما نهایتا تا 20 دقیقه است. لطفا مجددا مراحل خرید را انجام دهید.");
                              return
                          }
                          var t = n.d.Id;
                          if (t == -1) {
                              app.alert.error(n.d.Alert);
                              app.loading.close();
                              return
                          }
                          if (t == -2) {
                              app.alert.error(n.d.Alert);
                              app.loading.close();
                              return
                          }
                          app.hdfRFrom = $("#origin").val();
                          app.hdfRTo = $("#destination").val();
                          app.hdfRdateFrom = $("#txtfromDate").val();
                          app.hdfRdateTo = $("#txtEndDate").datepicker("option", "dateFormat", "yy/mm/dd").val();
                          app.hdfRAdult = $("#adultQuantity").text();
                          app.hdfRChild = $("#childQuantity").text();
                          app.hdfRInfant = $("#infantQuantity").text();
                          app.confirmBusTicket(t);
                          app.LoadFlightStatus(StatusBarMenuType.AcceptInformation);
                          $("#selectFlightContainer").hide();
                          $("#confirmTicket").show("medium", function() {
                              app.scrollTo("#selectFlight")
                          });
                          $("#ReserveFlight").off("click");
                          $("#ReserveFlight").click(function() {
                              var n = r.data("sellerid")
                                , i = r.data("sellerreference");
                              app.getBusBeforeBuyTicket(t, "ReserveFlight", n, i)
                          });
                          $("#AlibabaCredit").off("click");
                          $("#AlibabaCredit").click(function() {
                              var n = r.data("sellerid")
                                , i = r.data("sellerreference");
                              app.getBusBeforeBuyTicket(t, "AlibabaCredit", n, i)
                          });
                          $("#CreditCard").off("click");
                          $("#CreditCard").click(function() {
                              var n = r.data("sellerid")
                                , i = r.data("sellerreference");
                              app.getBusBeforeBuyTicket(t, "CreditCard", n, i)
                          });
                          $("#chbOneWayAccept").change(function() {
                              this.checked ? ($("#AlibabaCredit").removeAttr("disabled"),
                              $("#CreditCard").removeAttr("disabled")) : ($("#AlibabaCredit").attr("disabled", "disabled"),
                              $("#CreditCard").attr("disabled", "disabled"))
                          })
                      }
                  })
              }
              function e() {
                  app.loading.start();
                  var f = function(n) {
                      r == "" && (r = n)
                  }
                    , e = []
                    , o = $("#bus-passengers .passenger-detail-info");
                  if (o.each(function(n, t) {
                      e.push($(t).find("[name=tariff]").val())
                  }),
                  t != "" && app.emailValidation(t))
                      if (i != "" && app.PhoneValidation(i)) {
                          if ($("#acceptTermsAndCondition").is(":checked") === !1) {
                              f("پذیرفتن قوانین و مقررات الزامی است.");
                              n = !0;
                              $(this).focus();
                              return
                          }
                      } else {
                          f("تلفن همراه به درستی وارد نشده است");
                          n = !0;
                          $(this).focus();
                          return
                      }
                  else {
                      f("ایمیل به درستی وارد نشده است");
                      n = !0;
                      $(this).focus();
                      return
                  }
                  if ($('#passengers input[type="text"]').each(function(t, i) {
                      if ($(i).hasClass("FieldRequired") && $(i).is(":visible"))
                          if (console.log($(i).prop("name")),
                          $(i).prop("name") !== "nationalid") {
                              if ($(i).val() == "") {
                                  f("مشخصات مسافران به درستی وارد نشده است");
                                  n = !0;
                                  $(i).focus();
                                  return
                              }
                          } else if ($(i).prop("name") === "nationalid" && !app.NationalIDValidation($(i).val())) {
                              f("کد ملی مسافران به‌درستی وارد نشده است. کد ملی، باید ده رقمی و معتبر باشد.");
                              n = !0;
                              $(i).focus();
                              return
                          }
                  }),
                  $("#residency").is(":visible") && ($("#residency").select2("val") == "" || $("#residency").select2("val") == null )) {
                      f("محل تولد به درستی وارد نشده است");
                      n = !0;
                      $("#residency").focus();
                      return
                  }
                  if ($("#placeOfIssue").is(":visible") && ($("#placeOfIssue").select2("val") == "" || $("#placeOfIssue").select2("val") == null )) {
                      f("محل سکونت به درستی وارد نشده است");
                      n = !0;
                      $("#placeOfIssue").focus();
                      return
                  }
                  if ($("#passportDate").is(":visible") && app.PassportDateValidation($("#passportDate").val()) == !1) {
                      n = !0;
                      f("پاسپورت باید حداقل 6 ماه اعتبار داشته باشد");
                      return
                  }
                  if ($("#passengers select").each(function(t, i) {
                      if ($(i).val() == "") {
                          f("نوع مسافران به درستی انتخاب نشده است");
                          n = !0;
                          $(this).focus();
                          return
                      }
                  }),
                  $('input[name="age"]').each(function(t, i) {
                      passengerBirthday = $(i).val();
                      var e = function(n) {
                          n == 0 ? f("سن بزرگسال نباید زیر دوازده سال باشد.") : n == 1 ? f("سن کودک باید در زمان پرواز بین دو تا دوازده سال باشد.") : n == 2 && f("سن نوزاد باید در زمان پرواز، کمتر از دو سال باشد.")
                      }
                        , o = $(i).closest("fieldset").find("select")
                        , r = null ;
                      o === "Child" ? r = 1 : o === "Infant" && (r = 2);
                      passengerBirthday.length > 0 && r != null && $.ajax({
                          type: "POST",
                          url: "/AirCtr.aspx/IsChild",
                          data: JSON.stringify({
                              persianBirthDate: passengerBirthday,
                              persianFlightDate: u,
                              agetype: r
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          async: !1,
                          error: function() {
                              n = !0;
                              e(r)
                          },
                          success: function(t) {
                              var i = t.d;
                              if (i == !1) {
                                  n = !0;
                                  e(r);
                                  return
                              }
                          }
                      })
                  }),
                  app.ForwardBusRequest.Passengers.length === 0) {
                      f("مسافران مسیر رفت انتخاب نشده اند");
                      n = !0;
                      $(this).focus();
                      return
                  }
                  if (typeof $("#backward .choose.selected").data("uniquekey") != "undefined" && $("#backward .choose.selected").data("uniquekey") != null ) {
                      if (app.BackwardBusRequest.Passengers.length === 0) {
                          f("مسافران مسیر برگشت انتخاب نشده اند");
                          n = !0;
                          $(this).focus();
                          return
                      }
                      if (app.BackwardBusRequest.Passengers.length !== app.ForwardBusRequest.Passengers.length) {
                          f("تعداد مسافران مسیرهای رفت و برگشت برابر نیستند");
                          n = !0;
                          $(this).focus();
                          return
                      }
                  }
              }
              function o() {
                  n ? (app.loading.close(),
                  toastr.error(r)) : (app.LoadFlightStatus(StatusBarMenuType.AcceptInformation, $("#selectFlightStatusplaceId")),
                  f())
              }
              var r = ""
                , n = !1
                , u = $("#forward .choose.selected").data("date")
                , s = $("#backward .choose.selected").data("date")
                , h = $("#forward .choose.selected").data("airline")
                , c = $("#backward .choose.selected").data("airline")
                , t = $("#passengerEmail").val()
                , i = $("#passengerCellphone").val()
                , l = $("#passengerDescription").val();
              $.when(e()).then(o())
          })
      }
      ;
      app.saveNewInternationalTicketOrder = function(n, t) {
          var i, r, u, f;
          (app.Passengers == null || app.Passengers == undefined) && (app.Passengers = app.getFlightPassengers([]));
          (app.ProposalId == null || app.ProposalId == undefined) && (app.ProposalId = $("#forward .choose.selected").attr("data-id"));
          (app.SystemKey == null || app.SystemKey == undefined) && (app.SystemKey = $("#forward .choose.selected").data("systemkey"));
          i = "";
          r = "";
          $("input.extra-passengerEmail[type=text]").each(function(n, t) {
              i += t.value + ";"
          });
          $("input.extra-passengerCellphone[type=text]").each(function(n, t) {
              r += t.value + ";"
          });
          u = $("#passengerEmail").val();
          f = $("#passengerCellphone").val();
          $.ajax({
              type: "POST",
              url: "/api/SaveNewInternationalTicketOrder",
              data: JSON.stringify({
                  departTicket: app.ProposalId,
                  cell: f,
                  email: u,
                  description: "",
                  passengers: app.Passengers,
                  discountCode: $("#txtNewDiscountCode").val(),
                  extraCells: r,
                  extraEmails: i,
                  systemKey: app.SystemKey,
                  sessionId: app.availableSessionId,
                  orderId: app.OrderId
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید.");
                  console.error(n);
                  app.loading.close();
                  return
              },
              success: function(i) {
                  if ((!i || !i.Id || i.Id == "-1") && i.Alert != "") {
                      app.alert.error(i.Alert);
                      app.loading.close();
                      return
                  }
                  if (app.rqId = i.Id,
                  t) {
                      var r = n == "CreditCard" ? "/RedirectToBank?id=" + i.Id + "&alibababank=" + app.AlibabaBank : "/AmadeusBookFlight.aspx?id=" + i.Id + "&isAlibabaCredit=true";
                      window.location = r
                  } else
                      app.callGetFlightBeforeBuyTicket(i.Id, n, "", "", "/api/ReserveInternationalFlight");
                  return i.Id
              }
          })
      }
      ;
      app.getFlightBeforeBuyTicket = function(n, t, i, r) {
          if (app.loading.start(),
          app.InternationalPage && app.sessionExpired === 1) {
              app.showExpirePopup();
              app.loading.close();
              return
          }
          i || (i = "");
          r || (r = "");
          var u = "/api/GetFlightBeforeBuyTicket";
          app.InternationalPage && (u = "/api/ReserveInternationalFlight",
          $("#txtTicketSale").val() != "" && $("#hasDiscount").val() == "true" && (t != "ReserveFlight" ? (n = "",
          app.saveNewInternationalTicketOrder(t)) : toastr.info("فرآیند رزرو بدون درنظر گرفتن کد تخفیف وارد شده انجام می شود و کد تخفیف شما به منظور استفاده هنگام پرداخت مبلغ، قابل استفاده می باشد.")));
          n != "" && app.callGetFlightBeforeBuyTicket(n, t, i, r, u)
      }
      ;
      app.callGetFlightBeforeBuyTicket = function(n, t, i, r, u) {
          $.ajax({
              type: "POST",
              url: u,
              data: JSON.stringify({
                  id: n,
                  sellerId: i,
                  sellerReference: r,
                  orderId: app.OrderId,
                  discountCode: $("#txtTicketSale").val(),
                  proposalId: $("#forward .choose.selected").attr("data-id"),
                  passengers: app.getFlightPassengers([]),
                  systemKey: $("#forward .choose.selected").data("systemkey"),
                  sessionId: app.availableSessionId
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  return console.error(n),
                  app.alert.error("خطا در رزرو: " + n.responseText.Message),
                  app.loading.close(),
                  !1
              },
              success: function(i) {
                  if (i.Status == !1)
                      app.InternationalPage && i.Reference == "288" ? (app.removeUnavailableProposals(i),
                      app.alertMessage(i.Alert)) : i.PriceIsChanged ? ($("#btnReload").hide(),
                      $("#changePriceModal").find(".modal-footer .btn-close").unbind("click").click(function() {
                          $("#changePriceModal").modal("toggle")
                      }),
                      $("#changePriceModal").find(".modal-footer .btn-continue").unbind("click").click(function() {
                          app.validateFlightPassengers();
                          $("#changePriceModal").modal("toggle")
                      }),
                      $("#changePriceModal .modal-title")[0].innerHTML = "تغییر در قیمت",
                      $("#changePriceModal .modal-body")[0].innerHTML = i.Alert,
                      $("#changePriceModal .modal-body")[0].innerHTML += "<br/>",
                      $("#changePriceModal .modal-body")[0].innerHTML += "قیمت به روز شده: " + i.FlightProposal.TotalText,
                      $("#changePriceModal").modal("toggle")) : app.alertMessage(i.Alert);
                  else if (t == "CreditCard") {
                      var r = window.location.pathname;
                      window.location = r.toLowerCase().indexOf("international") !== -1 ? "/RedirectToBank?id=" + n + "&alibababank=" + app.AlibabaBank : "/eTicket.aspx?id=" + n
                  } else
                      t == "AlibabaCredit" ? window.location = app.InternationalPage ? "/AmadeusBookFlight.aspx?id=" + n + "&isAlibabaCredit=true" : "/book.aspx?id=" + n : t == "ReserveFlight" && (window.location = "/ReservedItems.aspx?rid=" + app.OrderId)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.alertMessage = function(n) {
          $("#timeoutModal .modal-title")[0].innerText = "خطا در رزرو";
          $("#timeoutModal .modal-lead")[0].innerText = "";
          $("#timeoutModal .modal-body")[0].innerText = n;
          $("#btnReload").hide();
          $("#timeoutModal").modal("toggle")
      }
      ;
      app.removeUnavailableProposals = function(n) {
          console.log(internationalFlightProposals.FlightProposals.length);
          var t = n.ExtraData == "" ? null : JSON.parse(n.ExtraData);
          t != null && ($.each(t.Flights, function(n, i) {
              $.each(internationalFlightProposals.FlightProposals, function(n, r) {
                  $.each(r.LeavingFlightGroup.FlightDetails, function(n, u) {
                      return r.LeavingFlightGroup.AirlineCode != t.AirlineCode || u.Class != i.Class ? !0 : u.FlightNumber == i.FlightNumber ? (internationalFlightProposals.FlightProposals = $.grep(internationalFlightProposals.FlightProposals, function(n) {
                          return n.Index != r.Index
                      }),
                      !1) : void 0
                  });
                  r.ReturningFlightGroup != null && $.each(r.ReturningFlightGroup.FlightDetails, function(n, u) {
                      return r.LeavingFlightGroup.AirlineCode != t.AirlineCode || u.Class != i.Class ? !0 : u.FlightNumber == i.FlightNumber ? (internationalFlightProposals.FlightProposals = $.grep(internationalFlightProposals.FlightProposals, function(n) {
                          return n.Index != r.Index
                      }),
                      !1) : void 0
                  })
              })
          }),
          $("a.choose.selected").click(),
          $("#forward").empty(),
          $(".airline-filter").empty(),
          app.renderInternationalFlights(internationalFlightProposals),
          $("#forward").isotope("destroy"),
          console.log(internationalFlightProposals.FlightProposals.length),
          $("#back-to-edit").click(),
          app.ReShowCalendar(),
          $("input.airLineRadio:checked").attr("checked", !1).click())
      }
      ;
      app.getTrainFlightBeforeBuyTicket = function(n, t) {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/api/ReserveTrainFlight",
              data: JSON.stringify({
                  id: n,
                  genderPreferenceId: $("#hdfTicketType").val()
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  return console.error(n),
                  app.alert.error("در حال حاضر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید."),
                  app.loading.close(),
                  !1
              },
              success: function(i) {
                  console.log(i);
                  i.Status == !1 ? app.alert.error(i.Alert) : t == "CreditCard" ? (pushTrainPayment("CreditCard"),
                  window.location = "/TrainRedirectToBank?id=" + n) : t == "AlibabaCredit" && (pushTrainPayment("AlibabaCredit"),
                  window.location = "/BookTrain.aspx?id=" + n)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.getBusBeforeBuyTicket = function(n, t) {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/AirCtr.aspx/ReserveBusTicket",
              data: JSON.stringify({
                  id: n,
                  genderPreferenceId: $("#hdfTicketType").val()
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  return console.error(n),
                  app.alert.error("در حال حاظر امکان پاسخگویی میسر نیست. لطفا دقایقی دیگر مجددا در خواست خود را ارسال نمایید."),
                  app.loading.close(),
                  !1
              },
              success: function(i) {
                  i.d.Status == !1 ? app.alert.error(i.d.Alert) : t == "CreditCard" ? window.location = "/BusRedirectToBank?id=" + n : t == "AlibabaCredit" && (window.location = "/BookBus.aspx?id=" + n)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.formValidator = function(n, t) {
          $("#" + n).validate({
              rules: t
          })
      }
      ;
      app.showAlert = function(n) {
          $("#show-alert div").html(n);
          $("#show-alert").addClass("show");
          $("#show-alert").click(function() {
              $("#show-alert").removeClass("show")
          });
          $("body").on("keyup", function(n) {
              n.keyCode == 27 && $("#show-alert").removeClass("show")
          })
      }
      ;
      app.textExists = function(n, t) {
          return n.search(t) >= 0 ? !0 : !1
      }
      ;
      app.removeAlert = function() {
          $("#show-alert").removeClass("show")
      }
      ;
      app.asignDefault = function() {
          $("input.city.from").attr("data-value", app.hdfRFrom);
          $("input.city.from").val($('ul.entire-cities li[data-value="' + app.hdfRFrom + '"]').first().text());
          $("input.city.to").attr("data-value", app.hdfRTo);
          $("input.city.to").val($('ul.entire-cities li[data-value="' + app.hdfRTo + '"]').first().text());
          $("#txtStartDate").val(app.hdfRdateFrom);
          $("#txtEndDate").val(app.hdfRdateTo);
          $("#passenger li.adult p").text(app.hdfRAdult);
          $("#passenger li.child p").text(app.hdfRChild);
          $("#passenger li.infant p").text(app.hdfRInfant);
          var n = parseInt(app.hdfRAdult) + parseInt(app.hdfRChild) + parseInt(app.hdfRInfant);
          $("#passenger").find("li.one-adult").text(n + " مسافر");
          app.hdfRTo != "" ? $("#round-trip").prop("checked", !0) : $("#one-way").prop("checked", !0)
      }
      ;
      app.CheckSearchObjectsForCityPermission = function(n, t) {
          var i = $(n).val()
            , r = $(t).val()
            , u = $(n).attr("data-value")
            , f = $(t).attr("data-value");
          return jQuery.inArray(u, ["PGU"]) != -1 ? (app.showAlert("شهر مبداء نمیتواند شامل " + i + " باشد ."),
          !1) : jQuery.inArray(f, []) != -1 ? (app.showAlert("شهر مقصد نمیتواند شامل " + r + " باشد ."),
          !1) : !0
      }
      ;
      app.emailValidation = function(n) {
          return /^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(n)
      }
      ;
      app.NationalIDValidation = function(n) {
          var r, t, i;
          return n == "" ? !1 : (r = new RegExp("[0-9]{10}"),
          r.test(n) == !1) ? !1 : (t = n.split("").reverse(),
          i = 0,
          $.each(t, function(n, t) {
              n > 0 && (i += t * (n + 1))
          }),
          NationalID_Remainder = i % 11,
          NationalID_Remainder < 2 && NationalID_Remainder - t[0] != 0) ? !1 : NationalID_Remainder >= 2 && 11 - NationalID_Remainder - t[0] != 0 ? !1 : !0
      }
      ;
      app.PassportDateValidation = function(n) {
          var t;
          return $.ajax({
              type: "POST",
              url: "/api/IsPassportValid",
              data: JSON.stringify({
                  passportDate: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              async: !1,
              error: function() {
                  return t = !1
              },
              success: function(n) {
                  return t = n == !1 ? !1 : !0
              }
          }),
          t
      }
      ;
      app.resiterUser = function() {
          function n(n, t, i, r) {
              $.ajax({
                  type: "POST",
                  url: "/api/fullRegister",
                  data: JSON.stringify({
                      name: "",
                      lname: "",
                      email: n.val(),
                      tell: t.val(),
                      cell: i.val(),
                      pass: r.val()
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  timeout: 12e4,
                  error: function(n) {
                      console.error(n.responseText)
                  },
                  success: function(t) {
                      if (t.ErrorCode) {
                          if (t.ErrorCode == "-3") {
                              app.showAlert("فرمت ایمیل صحیح نمی باشد");
                              return
                          }
                          if (t.ErrorCode == "-2")
                              return;
                          if (t.ErrorCode == "-1") {
                              app.showAlert("خطا در سرور لطفا دوباره تلاش کنید");
                              return
                          }
                      }
                      app.createCookie("user", n.val(), 1);
                      app.checkUser().then(function() {})
                  }
              })
          }
          $("#register-submit").on("click", function(t) {
              t.preventDefault();
              var r = $("#rejemail")
                , f = $("#rejNumber")
                , u = $("#rejCell")
                , i = $("#rejPass");
              if (!/^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(r.val())) {
                  app.showAlert("ایمیل با فرمت صحیح وارد نشده است");
                  return
              }
              if (u.val() == "") {
                  app.showAlert("لطفا شماره موبایل رو وارد کنید");
                  return
              }
              if (i.val() == "") {
                  app.showAlert("لطفا رمز عبور را وارد کنید");
                  return
              }
              if (i.val() != $("#passConfirm").val()) {
                  app.showAlert("رمز عبور و تکرار آن باید یکسان باشد");
                  return
              }
              n(r, f, u, i)
          })
      }
      ;
      app.loOutkUser = function() {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/api/logOut",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  console.error(n.responseText)
              },
              success: function() {
                  $.removeCookie("MembershipTokenId");
                  $.cookie.raw = !0;
                  $.removeCookie("MembershipTokenId", {
                      path: "/"
                  });
                  $.removeCookie("token", {
                      path: "/"
                  });
                  window.setTimeout(function() {
                      location.href = "/"
                  }, 100)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.logOutUser = function() {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/api/logOut",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  console.error(n.responseText)
              },
              success: function() {
                  $.removeCookie("MembershipTokenId");
                  $.cookie.raw = !0;
                  $.removeCookie("MembershipTokenId", {
                      path: "/"
                  });
                  $.removeCookie("token", {
                      path: "/"
                  });
                  window.setTimeout(function() {
                      location.reload()
                  }, 100)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.createCookie = function() {}
      ;
      app.confirmTicket = function(n) {
          app.loading.start();
          var t = "/api/getConfirm";
          app.InternationalPage && (t = "/api/GetInternationalConfirm");
          $.ajax({
              type: "POST",
              url: t,
              data: JSON.stringify({
                  id: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  toastr.error("در حال حاضر امکان پاسخگویی برای درخواست شما میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید. .");
                  console.error(n)
              },
              success: function(n) {
                  n == null ? app.InternationalPage ? toastr.error("در حال حاضر امکان پاسخگویی برای درخواست شما میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید. .") : toastr.error("در حال حاضر صدور بلیط به دلیل پر شدن پرواز امکان‌پذیر نمی‌باشد. لطفا دوباره جستجو کنید.") : app.renderConfirm(n)
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.renderConfirm = function(n) {
          var t, u, i, f, r, e;
          app.CanUseCredit = n.details.CanUseCredit;
          n.details.CanUseCredit == !1 ? $("#AlibabaCredit").fadeOut() : $("#AlibabaCredit").fadeIn();
          t = $("#passenger-template").html();
          Mustache.parse(t);
          u = Mustache.render(t, n);
          $("#passenger-target").html(u);
          i = $("#flight-template-confirm").html();
          Mustache.parse(i);
          f = Mustache.render(i, n);
          $("#ticket-target").html(f);
          app.backToEdit(n);
          r = $("#details-template").html();
          Mustache.parse(r);
          e = Mustache.render(r, n);
          $("#details-target").html(e)
      }
      ;
      app.confirmTrainTicket = function(n) {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/api/GetTrainConfirm",
              data: JSON.stringify({
                  id: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  toastr.error("در حال حاضر امکان پاسخگویی برای درخواست شما میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید.");
                  console.error(n)
              },
              success: function(n) {
                  var c = "", l = "", r, t, i, u, o, f, s, e, h;
                  app.transit == 1 ? n == null ? toastr.error("در حال حاضر صدور بلیط به دلیل پر شدن ظرفیت امکان‌پذیر نمی‌باشد. لطفا دوباره جستجو کنید.") : (n.details.CanUseCredit == !1 ? $("#AlibabaCredit").fadeOut() : $("#AlibabaCredit").fadeIn(),
                  r = " - " + $("#trainTicketType option[value=" + defaultValue.ticketType + "]").text(),
                  defaultValue.exclusiveCompartment == "1" && (r += " - " + $("#exclusiveCompartment").parent().text().trim()),
                  t = $("#forward article.selected-ticket .train-title-detail-info"),
                  n.ticket[0].WagonName = t.text().trim() + r,
                  c = t.text().trim(),
                  n.ticket[0].Media = t.find(".train-media-option").length ? !0 : !1,
                  n.ticket[0].AirCondition = t.find(".train-aircondition-option").length ? !0 : !1,
                  n.ticket.length > 1 && (i = $("#backward article.selected-ticket .train-title-detail-info"),
                  i.length > 0 && (n.ticket[1].WagonName = t.text().trim() + r,
                  l = i.text().trim(),
                  n.ticket[1].Media = t.find(".train-media-option").length ? !0 : !1,
                  n.ticket[1].AirCondition = t.find(".train-aircondition-option").length ? !0 : !1)),
                  u = $("#passenger-template-Transit").html(),
                  Mustache.parse(u),
                  o = Mustache.render(u, n),
                  $("#passenger-target").html(o),
                  f = $("#train-template-confirm").html(),
                  Mustache.parse(f),
                  s = Mustache.render(f, n),
                  $("#ticket-target").html(s),
                  app.backToEdit(n),
                  e = $("#details-template").html(),
                  Mustache.parse(e),
                  h = Mustache.render(e, n),
                  $("#details-target").html(h),
                  pushTrainCardReview(n, c, l)) : n == null ? toastr.error("در حال حاضر صدور بلیط به دلیل پر شدن ظرفیت امکان‌پذیر نمی‌باشد. لطفا دوباره جستجو کنید.") : (n.details.CanUseCredit == !1 ? $("#AlibabaCredit").fadeOut() : $("#AlibabaCredit").fadeIn(),
                  r = " - " + $("#trainTicketType option[value=" + defaultValue.ticketType + "]").text(),
                  defaultValue.exclusiveCompartment == "1" && (r += " - " + $("#exclusiveCompartment").parent().text().trim()),
                  t = $("#forward article.selected-ticket .train-title-detail-info"),
                  n.ticket[0].WagonName = t.text().trim() + r,
                  c = t.text().trim(),
                  n.ticket[0].Media = t.find(".train-media-option").length ? !0 : !1,
                  n.ticket[0].AirCondition = t.find(".train-aircondition-option").length ? !0 : !1,
                  n.ticket.length > 1 && (i = $("#backward article.selected-ticket .train-title-detail-info"),
                  i.length > 0 && (n.ticket[1].WagonName = i.text().trim() + r,
                  l = i.text().trim(),
                  n.ticket[1].Media = i.find(".train-media-option").length ? !0 : !1,
                  n.ticket[1].AirCondition = i.find(".train-aircondition-option").length ? !0 : !1)),
                  u = $("#passenger-template").html(),
                  Mustache.parse(u),
                  o = Mustache.render(u, n),
                  $("#passenger-target").html(o),
                  f = $("#train-template-confirm").html(),
                  Mustache.parse(f),
                  s = Mustache.render(f, n),
                  $("#ticket-target").html(s),
                  app.backToEdit(n),
                  e = $("#details-template").html(),
                  Mustache.parse(e),
                  h = Mustache.render(e, n),
                  $("#details-target").html(h),
                  pushTrainCardReview(n, c, l))
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.confirmBusTicket = function(n) {
          app.loading.start();
          $.ajax({
              type: "POST",
              url: "/AirCtr.aspx/GetBusConfirm",
              data: JSON.stringify({
                  id: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              timeout: 12e4,
              error: function(n) {
                  toastr.error("در حال حاضر امکان پاسخگویی برای درخواست شما میسر نیست. لطفا دقایقی دیگر مجددا تلاش کنید.");
                  console.error(n)
              },
              success: function(n) {
                  var t, f, i, e, r, o, u, s;
                  n == null || n.d == null ? toastr.error("در حال حاضر صدور بلیط    امکان‌پذیر نمی‌باشد. لطفا دوباره جستجو کنید.") : (n.d.details.CanUseCredit == !1 ? $("#AlibabaCredit").fadeOut() : $("#AlibabaCredit").fadeIn(),
                  t = $("#forward article.selected-ticket .bus-title-detail-info"),
                  n.d.ticket[0].WagonName = t.text().trim(),
                  n.d.ticket.length > 1 && (f = $("#backward article.selected-ticket .bus-title-detail-info"),
                  f.length > 0 && (n.d.ticket[1].WagonName = t.text().trim())),
                  i = $("#passenger-template").html(),
                  Mustache.parse(i),
                  e = Mustache.render(i, n.d),
                  $("#passenger-target").html(e),
                  r = $("#bus-template-confirm").html(),
                  Mustache.parse(r),
                  o = Mustache.render(r, n.d),
                  $("#ticket-target").html(o),
                  app.backToEdit(n.d),
                  u = $("#details-template").html(),
                  Mustache.parse(u),
                  s = Mustache.render(u, n.d),
                  $("#details-target").html(s))
              },
              complete: function() {
                  app.loading.close()
              }
          })
      }
      ;
      app.searchAgain = function() {
          $("#btnSearch")[0].click()
      }
      ;
      app.forcePushToCalendar = function() {
          $.ajax({
              type: "POST",
              url: "/api/ForcePushToCalendar",
              data: JSON.stringify({
                  bestPriceProposalId: app.bestPriceProposalId,
                  sessionId: app.availableSessionId
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  console.error(n)
              },
              success: function() {}
          })
      }
      ;
      app.ReShowCalendar = function() {
          app.sotositi && ($("#btnBestPrice").hasClass("clicked") && (app.hdfRdateTo != "" ? $("#internationalCalendar").slideDown("slow") : $("#internationalCalendarOneway").slideDown("slow")),
          $("#availableHeader").slideDown("slow"))
      }
      ;
      app.internationalCalendar = function() {
          app.loadingButton($("#btnBestPrice"));
          $.ajax({
              type: "POST",
              url: "/api/MakeCalendar",
              data: JSON.stringify({
                  departureDate: $("#hdfRdateFrom").val(),
                  returnDate: $("#hdfRdateTo").val(),
                  origin: app.hdfRFrom,
                  destination: app.hdfRTo,
                  adults: app.hdfRAdult,
                  children: app.hdfRChild,
                  infants: app.hdfRInfant
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  console.error(n)
              },
              success: function(n) {
                  var t, u, i, r;
                  app.endLoadingButton($("#btnBestPrice"));
                  $("#btnBestPrice").addClass("clicked");
                  t = 0;
                  u = 0;
                  $.each(n.ResultItem.Data, function(n, i) {
                      n == 24 && (i.Price = parseInt($("#hdfBestPrice").val()),
                      i.LocalPrice = $("#hdfBestPrice").val().toString().slice(0, -4).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ","));
                      (t == 0 || i.Price > 0 && i.Price < t) && (t = i.Price);
                      (u == 0 || i.Price > u) && (u = i.Price)
                  });
                  var f = u - t
                    , e = Math.floor(f / t * 100)
                    , o = 0;
                  o = e < 40 ? t + Math.floor(f * .2) : e < 80 ? t + Math.floor(f * .15) : t + Math.floor(f * .1);
                  i = "";
                  r = window.location.href.substr(getPosition(window.location.href, "/", 5) + 1, 10).startsWith("2");
                  $.each(n.ResultItem.Data, function(n, t) {
                      if (n > 6)
                          return !1;
                      i = "<div class='col-xs-3'><span>" + t.LocalDepartureDayName + "<\\/span><br/><small>" + (r ? new Date(t.DepartureDate).getMonth() + 1 + "/" + new Date(t.DepartureDate).getDate() : t.LocalDepartureDate) + "<\\/small><\\/div>";
                      n < 3 ? $("#internationalCalendar #daysrow").append(i) : $("#internationalCalendar #daysrow2").append(i)
                  });
                  i = "";
                  $.each(n.ResultItem.Data, function(n, f) {
                      var e;
                      n % 7 == 0 && (i += "<div class='col-xs-6 right'><div class='row'><div class='col-xs-3 firstcol'><small>" + (r ? new Date(f.ReturnDate).getMonth() + 1 + "/" + new Date(f.ReturnDate).getDate() : f.LocalReturnDate) + "<\\/small><span>" + f.LocalReturnDayName + " <\\/span><\\/div>");
                      n % 7 == 3 && (i += "<\\/div><\\/div><div class='col-xs-6 left'><div class='row'>");
                      e = window.location.href.substring(0, getPosition(window.location.href, "/", 5) + 1) + (r ? f.DepartureGregorianDate : f.DeparturePersianDate) + "/" + (r ? f.ReturnGregorianDate : f.ReturnPersianDate) + window.location.href.substring(getPosition(window.location.href, "/", 7)) + "'>";
                      f.LocalPrice == "غیرممکن" && (e = "javascript:;' class='link-impossible'>");
                      var s = f.Price == t
                        , h = f.Price == o
                        , c = f.Price == u
                        , l = "رفت: " + (r ? f.DepartureGregorianDate : f.DeparturePersianDate) + "&#013; برگشت: " + (r ? f.ReturnGregorianDate : f.ReturnPersianDate);
                      i += "<div class='col-xs-3 calendar-price-box' data-colnumber='" + (n % 7 + 1) + "' data-rownumber='" + (Math.floor(n / 7) + 1) + "'><a target='_blank' data-toggle='tooltip'  data-original-title='" + l.replace(/-/g, "/") + "'  href='" + e + "<span class='" + (n == 24 ? "current-price " : "") + (s ? "best-price" : f.Price == 0 ? f.LocalPrice == "غیرممکن" ? "impossible" : "unavailable" : h ? "good-price" : c ? "bad-price" : "") + "' >" + f.LocalPrice + "<\\/span><\\/a><\\/div>";
                      n % 7 == 6 && (i += "<\\/div><\\/div>")
                  });
                  $("#internationalCalendar").append(i).hide().slideDown();
                  $("#internationalCalendar .calendar-info").show();
                  $(".calendar-price-box").mouseover(function() {
                      var n = $('<span class="overlay">&nbsp;<\\/span>')
                        , t = $(this).data("colnumber")
                        , i = $(this).data("rownumber");
                      $(".calendar-price-box").filter(function() {
                          return $(this).attr("data-colnumber") == t
                      }).filter(function() {
                          return $(this).attr("data-rownumber") <= i
                      }).find("a").prepend(n);
                      $(".calendar-price-box").filter(function() {
                          return $(this).attr("data-rownumber") == i
                      }).filter(function() {
                          return $(this).attr("data-colnumber") <= t
                      }).find("a").prepend(n);
                      $(".overlay").width($(".current-price").width() + 3);
                      $(".overlay").height($(".current-price").height() + 1)
                  });
                  $(".calendar-price-box").mouseleave(function() {
                      $(".overlay").remove()
                  });
                  $('[data-toggle="tooltip"]').tooltip()
              }
          })
      }
      ;
      app.internationalCalendarOneway = function() {
          app.loadingButton($("#btnBestPrice"));
          $.ajax({
              type: "POST",
              url: "/api/MakeCalendar",
              data: JSON.stringify({
                  departureDate: $("#hdfRdateFrom").val(),
                  origin: app.hdfRFrom,
                  destination: app.hdfRTo,
                  adults: app.hdfRAdult,
                  children: app.hdfRChild,
                  infants: app.hdfRInfant
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  console.error(n)
              },
              success: function(n) {
                  app.endLoadingButton($("#btnBestPrice"));
                  $("#btnBestPrice").addClass("clicked");
                  $("#internationalCalendarOneway").show();
                  var u = window.location.href.substr(getPosition(window.location.href, "/", 5) + 1, 10).startsWith("2")
                    , t = 0
                    , i = 0;
                  $.each(n.ResultItem.Data, function(n, r) {
                      n == 3 && (r.Price = parseInt($("#hdfBestPrice").val()),
                      r.LocalPrice = $("#hdfBestPrice").val().toString().slice(0, -4).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ","));
                      (t == 0 || r.Price > 0 && r.Price < t) && (t = r.Price);
                      (i == 0 || r.Price > i) && (i = r.Price)
                  });
                  var r = i - t
                    , f = Math.floor(r / t * 100)
                    , e = 0;
                  e = f < 40 ? t + Math.floor(r * .2) : f < 80 ? t + Math.floor(r * .15) : t + Math.floor(r * .1);
                  $.each(n.ResultItem.Data, function(n, r) {
                      var f;
                      if (n > 6)
                          return !1;
                      f = "";
                      n == 0 && (f = "<div class='col-xs-3 no-padding'><span class='arrow'>روز<br/>تاریخ<small><\\/small><\\/span><br/><div class='calendar-price-box'><a><span class='arrow'>قیمت<\\/span><\\/a><\\/div><\\/div>");
                      var o = getPosition(window.location.href, "/", 5)
                        , s = getPosition(window.location.href, "/", 7)
                        , h = window.location.href.substring(0, o) + "/" + (u ? r.DepartureGregorianDate : r.DeparturePersianDate) + (s > o ? window.location.href.substring(s - 6) : "/1-0-0/3-0-all") + "'>";
                      r.LocalPrice == "غیرممکن" && (h = "javascript:;' class='link-impossible'>");
                      var c = r.Price == t
                        , l = r.Price == e
                        , a = r.Price == i;
                      f += "<div class='col-xs-3 no-padding'><span>" + r.LocalDepartureDayName + "<br/><small>" + (u ? new Date(r.DepartureDate).getMonth() + 1 + "/" + new Date(r.DepartureDate).getDate() : r.LocalDepartureDate) + "<\\/small><\\/span><br/><div class='calendar-price-box'><a  target='_blank' title='" + (c ? "کمترین قیمت" : l ? "قیمت کمتر" : a ? "بیشترین قیمت" : "") + "' href='" + h + "<span class='" + (n == 3 ? "current-price " : "") + (c ? "best-price" : r.Price == 0 ? r.LocalPrice == "غیرممکن" ? "impossible" : "unavailable" : l ? "good-price" : a ? "bad-price" : "") + "'>" + r.LocalPrice + "<\\/span><\\/a><\\/div><\\/div>";
                      n % 7 == 6 && (f += "<\\/div><\\/div>");
                      n < 3 ? $("#daysrowOneway").append(f).hide().slideDown() : $("#daysrow2Oneway").append(f).hide().slideDown()
                  });
                  $("#internationalCalendarOneway .calendar-info").slideDown()
              }
          })
      }
      ;
      app.loadingButton = function(n) {
          var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "", t;
          ($(n).find("#loadFacebookG") == null || $(n).find("#loadFacebookG").length == 0) && (t = '<div id="loadFacebookG"><div id="blockG_1" class="facebook_blockG"><\\/div><div id="blockG_2" class="facebook_blockG"><\\/div><div id="blockG_3" class="facebook_blockG"><\\/div><\\/div>',
          $(n).attr("defaulttext", $(n).html()),
          $(n).html(""),
          $(n).addClass("disabled"),
          $(n).append(t),
          $(n).append(i))
      }
      ;
      app.endLoadingButton = function(n) {
          $(n).find("#loadFacebookG").remove();
          $(n).removeClass("disabled");
          $(n).html($(n).attr("defaulttext"))
      }
      ;
      app.backToEdit = function() {
          $("#back-to-edit").click(function(n) {
              n.preventDefault();
              startCountdown(time, 1e3, timerEnded);
              acceptBeforePaymentTimer.pause();
              $("#confirmTicket").hide();
              $("#selectFlightContainer").show("medium", function() {
                  app.scrollTo(".l-primary-col")
              })
          })
      }
      ;
      app.bookFlights = function(n) {
          function t(r, u) {
              $.ajax({
                  type: "POST",
                  url: "/api/GetBookResult",
                  data: JSON.stringify({
                      id: r,
                      brId: u,
                      user: ""
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  timeout: 12e4,
                  error: function(n) {
                      console.error(n)
                  },
                  success: function(r) {
                      r.Status == "Succeed" ? ($("#forward-target").html($.parseHTML(r.ItinraryReceipts[0])),
                      $(".print").fadeIn(),
                      $("#hdfTo").val() != "" && parseInt($("#hdfTo").val()) > 0 && ($("#backward-target").slideDown("slow"),
                      $.ajax({
                          type: "POST",
                          url: "/api/GetBookQueId",
                          data: JSON.stringify({
                              id: $("#hdfTo").val()
                          }),
                          contentType: "application/json; charset=utf-8",
                          dataType: "json",
                          timeout: 12e4,
                          error: function(n) {
                              console.log(n)
                          },
                          success: function(n) {
                              n.IsValid ? i(n.RequestId, $("#hdfTo").val()) : ($("#forward-target").html('<div style="font-size: 2em; text-align: center;">' + n.ErrorCode + "<\\/div>"),
                              app.showAlert(n.ErrorMessage + "<div>" + n.ErrorCode + "<\\/div>"))
                          }
                      }))) : r.Status == "Failed" ? ($("#forward-target").html($.parseHTML("<h3>خطا در دریافت اطلاعات بلیط<\\/h3>")),
                      console.log(r.ErrorMessage),
                      app.showAlert("<h2>متاسفانه بلیط شما صادر نشد<\\/h2>")) : setTimeout(function() {
                          t(r.RequestId, n)
                      }, 2e3)
                  }
              })
          }
          function i(i, r) {
              $.ajax({
                  type: "POST",
                  url: "/api/GetBookResult",
                  data: JSON.stringify({
                      id: i,
                      brId: r,
                      user: ""
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  timeout: 12e4,
                  error: function(n) {
                      console.error(n)
                  },
                  success: function(i) {
                      i.Status == "Succeed" ? $("#backward-target").html($.parseHTML(i.ItinraryReceipts[0])) : i.Status == "Failed" ? ($("#backward-target").html('<div style="font-size: 2em; text-align: center;">' + i.ErrorCode + "<\\/div>"),
                      app.showAlert(i.ErrorMessage + "<div>" + i.ErrorCode + "<\\/div>")) : t(i.RequestId, n)
                  }
              })
          }
          $.ajax({
              type: "POST",
              url: "/api/GetBookQueId",
              data: JSON.stringify({
                  id: n
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  console.error(n)
              },
              success: function(i) {
                  i.IsValid ? t(i.RequestId, n) : app.showAlert(i.ErrorMessage)
              }
          })
      }
      ;
      app.unSelectFlight = function(n) {
          var t = document.getElementById(n);
          $.each($("#forward>article>ul>li>.choose"), function() {
              $(this).removeClass("selected");
              $("#" + n).text("انتخاب")
          });
          $("#" + n).removeClass("selected");
          $("#forward>article").show();
          $("#backward>article").show();
          $(".selected").parents("article").show();
          $("#forward").hasClass("stabled") || $("#forward").after().hasClass(".loading") && $("#forward").after().show();
          $("#backward").hasClass("stabled") || $("#backward").after().hasClass(".loading") && $("#backward").after().show();
          $("#backward").show();
          $("#backwardHeader").show();
          $("#forward").isotope("destroy");
          $("#backward").isotope("destroy");
          $("#forward").removeClass("hasSelectedItem");
          setTimeout(function() {
              $("#forward").isotope({
                  itemSelector: "article",
                  getSortData: {
                      time: function(n) {
                          var t = $(n).find(".time-sort").text();
                          return parseFloat(t.replace(/:/g, ""))
                      },
                      price: function(n) {
                          var t = $(n).find(".price-sort").text();
                          return parseFloat(t.replace(/,/g, ""))
                      },
                      ordersort: function(n) {
                          var t = $(n).find(".order-sort").text();
                          return parseFloat(t.replace(/,/g, ""))
                      }
                  },
                  sortBy: ["ordersort", "time", "price"]
              })
          }, 500);
          setTimeout(function() {
              $("#backward").isotope({
                  itemSelector: "article",
                  getSortData: {
                      time: function(n) {
                          var t = $(n).find(".time-sort").text();
                          return parseFloat(t.replace(/:/g, ""))
                      },
                      price: function(n) {
                          var t = $(n).find(".price-sort").text();
                          return parseFloat(t.replace(/,/g, ""))
                      },
                      ordersort: function(n) {
                          var t = $(n).find(".order-sort").text();
                          return parseFloat(t.replace(/,/g, ""))
                      }
                  },
                  sortBy: ["ordersort", "time", "price"]
              })
          }, 500)
      }
      ;
      StatusBarMenuType = {
          SelectFlight: 1,
          PassengerInfo: 2,
          AcceptInformation: 3,
          Payment: 4,
          IssuingTicket: 5,
          Finished: 6
      };
      app.LoadFlightStatus = function(n) {
          switch (n) {
          case StatusBarMenuType.SelectFlight:
              $("#SelectFlightStep").addClass("active");
              break;
          case StatusBarMenuType.PassengerInfo:
              $("#PassengerInformationStep").addClass("active");
              $("#PassengerInformationStep").prev("li").addClass("done");
              break;
          case StatusBarMenuType.AcceptInformation:
              $("#ConfirmDataStep").addClass("active");
              $("#ConfirmDataStep").prev("li").addClass("done");
              break;
          case StatusBarMenuType.Payment:
              $("#PaymentStep").addClass("active");
              $("#PaymentStep").prev("li").addClass("done");
              break;
          case StatusBarMenuType.IssuingTicket:
              $("#FinishStep").addClass("active");
              $("#SelectFlightStep").prev("li").addClass("done");
              break;
          case StatusBarMenuType.Finished:
              break;
          default:
              $(".nav.nav-wizard li.active").removeClass("active").addClass("done");
              $("#SelectFlightStep").prev("li").addClass("done")
          }
      }
      ;
      $(function() {
          $("#modalGoToRegister").click(function() {
              Login_Register_FormShow(!1)
          });
          $("#modalGoToLogin").click(function() {
              Login_Register_FormShow(!0)
          });
          $(".btn-referesh-for-captcha").click(function(n) {
              n.preventDefault();
              var t = $(this).closest(".singup-container");
              getImageUrlForCaptchaRegistration(t)
          });
          $(".modalRegister").click(function() {
              var n = $(this).closest(".singup-container");
              $(".error-message").remove();
              var i = $.trim(n.find(".txtRegisterUsername").val())
                , r = $.trim(n.find(".txtRegisterCellphone").val())
                , u = $.trim(n.find(".txtRegisterPassword").val())
                , f = $.trim(n.find(".txtRegisterConfitmPassword").val())
                , e = $.trim(n.find(".txtRegisterCaptcha").val())
                , o = $.trim(n.find(".capSessionKey").val())
                , t = !0;
              i !== "" && app.emailValidation(i) || (n.find(".txtRegisterUsername").after('<div class="error-message">لطفا ایمیل‌ خود را با فُرمت درست وارد کنید<\\/div>'),
              t = !1);
              r !== "" && app.PhoneValidation(r) || (n.find(".txtRegisterCellphone").after('<div class="error-message">لطفا شماره‌ی موبایل‌ خود را با فُرمت درست وارد کنید<\\/div>'),
              t = !1);
              (u === "" || u.length < 6) && (n.find(".txtRegisterPassword").after('<div class="error-message">لطفا رمز عبور خود را حداقل 6 حرف وارد کنید<\\/div>'),
              t = !1);
              (f === "" || f != u) && (n.find(".txtRegisterConfitmPassword").after('<div class="error-message">لطفا تکرار رمز عبور را حداقل 6 حرف وارد کنید<\\/div>'),
              t = !1);
              e === "" && (n.find(".txtRegisterCaptcha").after('<div class="error-message">لطفا تصویر امنیتی را وارد کنید<\\/div>'),
              t = !1);
              t && (n.find(".login-form-container").block({
                  message: '<img src="/static/img/MetroPreloader_60.GIF" />',
                  css: {
                      padding: 0,
                      margin: 0,
                      width: "30%",
                      top: "20%",
                      left: "35%",
                      textAlign: "center",
                      color: "#000",
                      backgroundColor: "transparent",
                      cursor: "default",
                      opacity: 1,
                      border: "none",
                      "margin-top": "-25px"
                  },
                  overlayCSS: {
                      backgroundColor: "#fff",
                      opacity: .8,
                      cursor: "default"
                  }
              }),
              app.SignUpPage && app.loading.start(),
              $.ajax({
                  type: "POST",
                  url: "/api/fullRegister",
                  data: JSON.stringify({
                      name: "",
                      lname: "",
                      email: i,
                      tell: "",
                      cell: r,
                      pass: u,
                      HowKnowId: 0,
                      HowKnowText: "",
                      captcha: e,
                      sessionKey: o,
                      privateKey: app.SignUpPage
                  }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  timeout: 12e4,
                  error: function(n) {
                      app.SignUpPage && app.loading.close();
                      console.error(n);
                      app.SignUpPage && app.loading.close()
                  },
                  success: function(t) {
                      if (app.SignUpPage && app.loading.close(),
                      $(".login-form-container").unblock(),
                      t.ErrorCode) {
                          if (t.ErrorCode == "-4") {
                              toastr.error("تصویر امنیتی به درستی وارد نشده است.");
                              getImageUrlForCaptchaRegistration(n);
                              return
                          }
                          if (t.ErrorCode === "-2") {
                              toastr.error("قبلاً با این ایمیل (نام کاربری) در سایت ثبت ‌نام شده است.");
                              return
                          }
                          if (t.ErrorCode === "-3") {
                              toastr.error("فرمت ایمیل وارد شده صحیح نمی باشد");
                              return
                          }
                          if (t.ErrorCode === "-1") {
                              toastr.error("خطا در سرور لطفا دوباره تلاش کنید");
                              return
                          }
                      }
                      if (ga)
                          try {
                              var u = ga.getAll()[0].get("name");
                              ga(u + ".send", "pageview", "/sign-up.html")
                          } catch (f) {
                              console.log(f.message)
                          }
                      app.createCookie("user", i, 1);
                      app.checkUser().then(function() {
                          app.SignUpPage && app.loading.close();
                          toastr.success("ثبت نام با موفقیت انجام شد");
                          $.unblockUI();
                          $("#buy-ticket").click();
                          $("#passengerEmail").val(i);
                          $("#passengerCellphone").val(r)
                      })
                  }
              }))
          });
          $("#chbRegisterConfirmAgreelaw").change(function() {
              ChangeDisablesAtrr($("#chbRegisterConfirmAgreelaw"), $("#modalRegister"))
          });
          $("#chbGetTicketAccept").change(function() {
              ChangeDisablesAtrr($("#chbGetTicketAccept"), $("#modalGetTicketAccept"))
          });
          $("#one-way").click();
          $("input.land").attr("disabled", "disabled").addClass("disabled")
      }),
      function(n) {
          n.fn.DigitGrouping = function() {
              var i = n(this).val() + "";
              i = i.replace(/\\,/g, "");
              for (var r = i.split("."), t = r[0], f = r.length > 1 ? "." + r[1] : "", u = /(\\d+)(\\d{3})/; u.test(t); )
                  t = t.replace(u, "$1,$2");
              n(this).val(t + f)
          }
          ;
          n(".open-signup").click(function(t) {
              t.preventDefault();
              n("#sign").click()
          })
      }(jQuery);
      app.setBootstrapProgressBar = function(n, t, i) {
          var r = Math.round((n - t + 1) * (100 / (n + 1)));
          $(i).find(".progress-bar").css("width", r + "%");
          $(i).find(".progress-bar").attr("aria-valuenow", r);
          $(i).find(".progress-bar").html(r + "%")
      }
      ;
      app.setBootstrapProgressBarByPercent = function(n, t) {
          var r = n / 100
            , i = 0
            , u = window.setInterval(function() {
              if (i++,
              i > 100) {
                  window.clearInterval(u);
                  return
              }
              $(t).find(".progress-bar").css("width", i + "%").attr("aria-valuenow", i).html(i + "%")
          }, r)
      }
      ;
      app.setBootstrapProgressBarPercent = function(n, t) {
          $(t).find(".progress-bar").css("width", n + "%").attr("aria-valuenow", n).html(n + "%")
      }
      ;
      $(function() {
          $(".m-filters > h3").click(function(n) {
              n.preventDefault();
              $(".m-filters .filters-content").slideToggle();
              $(".m-filters").find(".fa").toggleClass("fa-plus-circle").toggleClass("fa-minus-circle")
          });
          window.setTimeout(function() {
              $("body").css("zoom", "100.1%");
              window.setTimeout(function() {
                  $("body").css("zoom", "100%")
              }, 100)
          }, 1e3)
      });
      dateConvertor = function() {
          function i(n) {
              return n % 4 == 0 && (n % 100 != 0 || n % 400 == 0)
          }
          function n(n) {
              return n = (n - 474) % 128,
              n = (n >= 30 ? 0 : 29) + n,
              n = n - Math.floor(n / 33) - 1,
              n % 4 == 0
          }
          function e(i, r, u) {
              for (var f = i - 1376 + t[0][r - 1] + u - 1, e = 1380; e < i; e++)
                  n(e) && f++;
              for (e = i; e < 1380; e++)
                  n(e) && f--;
              return f = f % 7,
              f < 0 && (f = f + 7),
              f
          }
          function o(n) {
              return f("df", n % 7)
          }
          function f(n, t) {
              switch (n) {
              case "hf":
                  return Array("فروردين", "ارديبهشت", "خرداد", "تير", "مرداد", "شهريور", "مهر", "آبان", "آذر", "دی", "بهمن", "اسفند")[t];
              case "ge":
                  return Array(" January ", " February ", " March ", " April ", " May ", " June ", " July ", " August ", " September ", " October ", " November ", " December ")[t];
              case "gf":
                  return Array("ژانویه", "فوریه", "مارس", "آوریل", "مه", "ژوثن", "ژوییه", "اوت", "سپتامبر", "اكتبر", "نوامبر", "دسامبر")[t];
              case "df":
                  return Array("شنبه", "یک‌شنبه", "دوشنبه", "سه‌شنبه", "چهارشنبه", "پنج‌شنبه", "جمعه")[t];
              case "de":
                  return Array("Saturday", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday")[t]
              }
          }
          var r = Array(Array(0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365), Array(0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366))
            , t = Array(Array(0, 31, 62, 93, 124, 155, 186, 216, 246, 276, 306, 336, 365), Array(0, 31, 62, 93, 124, 155, 186, 216, 246, 276, 306, 336, 366))
            , u = {};
          return u.toShamsi = function(u, s, h, c) {
              var l = u - 621, p, w, b = i(u), v = n(l - 1), y, k = r[b ? 1 : 0][s - 1] + h, d = v && b ? 80 : 79, a;
              for (k <= d ? (y = k + 286,
              l--,
              v && !b && y++) : (y = k - d,
              v = n(l)),
              a = 1; a <= 12; a++)
                  if (t[v ? 1 : 0][a] >= y) {
                      p = a;
                      w = y - t[v ? 1 : 0][a - 1];
                      break
                  }
              return c == "Long" ? o(e(l, p, w)) + "  " + w + " " + f("hf", p - 1) + " " + l : l + " /" + p + " /" + w
          }
          ,
          u.toGregorian = function(u, f, e) {
              var h = u + 621, v, y, l = n(u), s = i(h), a = t[l ? 1 : 0][f - 1] + e, c, o;
              for (f > 10 || f == 10 && a > 286 + (s ? 1 : 0) ? (c = a - (286 + (s ? 1 : 0)),
              s = i(++h)) : (l = n(u - 1),
              c = a + 79 + (l ? 1 : 0) - (i(h - 1) ? 1 : 0)),
              o = 1; o <= 12; o++)
                  if (r[s ? 1 : 0][o] >= c) {
                      v = o;
                      y = c - r[s ? 1 : 0][o - 1];
                      break
                  }
              return h + "-" + v + "-" + y
          }
          ,
          u
      }();
      app.loading = function() {
          var n = {};
          return n.start = function() {
              $.blockUI({
                  message: "<h1>لطفا صبر کنید...<\\/h1>"
              })
          }
          ,
          n.close = function() {
              $.unblockUI()
          }
          ,
          n
      }();
      app.alert = function() {
          var n = {};
          return n.error = function(n) {
              toastr.error(n)
          }
          ,
          n.info = function(n) {
              toastr.error(n)
          }
          ,
          n
      }();
      app.RemmemberPassword = function(n) {
          function f(n, t) {
              t !== "" && (n === "alibaba" ? (bootbox.alert(t),
              u && $("#btnCloseRemmeberPasword").click()) : (alert(t),
              location.href = "/"))
          }
          var i = $("#txrEmail").val()
            , r = $("#txtImg").val()
            , t = ""
            , u = !1;
          i == "" ? t = "لطفا ایمیل را وارد فرمایید." : r == "" ? t = "لطفا کد امنیتی را وارد فرمایید." : $.ajax({
              type: "POST",
              url: "/api/RemmemberPassword",
              data: JSON.stringify({
                  EmailAddress: i,
                  Captcha: r
              }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              error: function(n) {
                  alert(n.responseText)
              },
              success: function(i) {
                  var r = $("#imgCaptchaLog").attr("src");
                  $("#imgCaptchaLog").attr("src", r + "&t=" + (new Date).getTime());
                  i == "" && (i = "با موفقیت ارسال شد . ایمیل خود را بررسی کنید",
                  u = !0);
                  t = i;
                  f(n, t)
              }
          });
          f(n, t)
      }
      ;
      app.flightLegFilter = function() {
          var n = {};
          return n.init = function(n) {
              n.on("change", ".flight-leg-select", function() {
                  var t = $(this), i;
                  t.is(":checked") ? (i = "." + t.data("index"),
                  filterAmadeusFilter(n, i),
                  $(".flight-leg-select[data-index=" + t.data("index") + "]").closest(".flight-leg").addClass("filtered-leg"),
                  $(".flight-leg-select[data-index=" + t.data("index") + "]").attr("checked", "checked"),
                  $(".flight-leg-select:not([data-index=" + t.data("index") + "])").attr("disabled", "disabled")) : (filterAmadeusFilter(n, ""),
                  $(".flight-leg-select").removeAttr("checked disabled"),
                  $(".flight-leg").removeClass("filtered-leg"))
              })
          }
          ,
          n
      }();
      app.convertOtherLanguageName = function() {
          var n = function(n, t, i) {
              var r = n.closest(".passenger-detail-info").find(t)
                , u = n.closest(".passenger-detail-info").find(".passenger-type:checked").val() == "foreign";
              n.val().trim() !== "" && r.val().trim() === "" && u === !1 && $.ajax({
                  contentType: "application/json; charset=utf-8",
                  dataType: "json",
                  type: "POST",
                  url: "/api/ConvertOtherLanguage",
                  data: JSON.stringify({
                      name: n.val(),
                      language: i
                  }),
                  success: function(n) {
                      n && r.val(n)
                  }
              })
          };
          $("#passengers").on("blur", "[name=name]", function() {
              n($(this), "[name=fa_name]", "fa")
          });
          $("#passengers").on("blur", "[name=family]", function() {
              n($(this), "[name=fa_family]", "fa")
          });
          $("#passengers").on("blur", "[name=fa_name]", function() {
              n($(this), "[name=name]", "en")
          });
          $("#passengers").on("blur", "[name=fa_family]", function() {
              n($(this), "[name=family]", "en")
          })
      }
      ;
      app.CheckCaptchaValidation = function() {
          var n = $("#frmReCaptcha");
          $.ajax({
              type: "POST",
              url: "/api/Recaptcha",
              data: n.serialize(),
              error: function(n) {
                  console.error(n)
              },
              success: function(n) {
                  n == !1 ? (grecaptcha.reset(),
                  toastr.error("خطا", "لطفا دوباره تلاش کنید")) : ($("#CaptchaModal").modal("hide"),
                  redirect())
              }
          })
      }
      ;
      preferencesCookie = {
          preferencesCookieName: "preferencesCookie",
          data: {},
          load: function() {
              var t, n, i;
              try {
                  return t = function() {
                      for (var i = preferencesCookie.preferencesCookieName + "=", r = document.cookie.split(";"), n, t = 0; t < r.length; t++) {
                          for (n = r[t]; n.charAt(0) == " "; )
                              n = n.substring(1, n.length);
                          if (n.indexOf(i) == 0)
                              return n.substring(i.length, n.length)
                      }
                      return null
                  }
                  ,
                  n = t(),
                  n && (i = unescape(n),
                  this.data = JSON.parse(i.toString())),
                  this.data
              } catch (r) {
                  return null
              }
          },
          save: function(n, t) {
              var i = n || new Date(2020,02,02)
                , r = t || "/";
              document.cookie = preferencesCookie.preferencesCookieName + "=" + escape(JSON.stringify(this.data)) + ";path=" + r + ";expires=" + i.toUTCString()
          }
      };
      card = function(n) {
          var t = n.Url
            , r = n.ImageUrl
            , i = n.Description;
          return '\\n                  <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 text-center margintop hidden-xs cardViewMobile">\\n                      <div class="row img-thumbnail" style="overflow:hidden">\\n                          <div>\\n                              <a href=\\'' + t + "' target='_blank' rel=\\"nofollow\\"><img style=\\"height:185px;margin-top:-10px;\\" src='https://tourservice.alibaba.ir/Content/Images/" + r + "' alt='" + i + "' /><\\/a>\\n                              <div class=\\"row text-center linkopacity\\">\\n                                  <h3>\\n                                      <a href='" + t + '\\' traget=\\'_blank\\' rel="nofollow" class="titleAsiatech">' + i + '<span class="glyphicon glyphicon-chevron-left"><\\/span><\\/a>\\n                                  <\\/h3>\\n                              <\\/div>\\n                          <\\/div>\\n                      <\\/div>\\n                    <\\/div>\\n    '
      }
      ;
      window.location.pathname === "/" && getCardView(),
      function(n) {
          typeof n.fn.each2 == "undefined" && n.extend(n.fn, {
              each2: function(t) {
                  for (var i = n([0]), r = -1, u = this.length; ++r < u && (i.context = i[0] = this[r]) && t.call(i[0], r, i) !== !1; )
                      ;
                  return this
              }
          })
      }(jQuery),
      function(n, t) {
          "use strict";
          function tt(t) {
              var i = n(document.createTextNode(""));
              t.before(i);
              i.before(t);
              i.remove()
          }
          function o(n) {
              function t(n) {
                  return at[n] || n
              }
              return n.replace(/[^\\u0000-\\u007E]/g, t)
          }
          function e(n, t) {
              for (var i = 0, r = t.length; i < r; i = i + 1)
                  if (f(n, t[i]))
                      return i;
              return -1
          }
          function vt() {
              var t = n(lt), i;
              return t.appendTo(document.body),
              i = {
                  width: t.width() - t[0].clientWidth,
                  height: t.height() - t[0].clientHeight
              },
              t.remove(),
              i
          }
          function f(n, i) {
              return n === i ? !0 : n === t || i === t ? !1 : n === null || i === null ? !1 : n.constructor === String ? n + "" == i + "" : i.constructor === String ? i + "" == n + "" : !1
          }
          function b(n, t, i) {
              var u, r, f;
              if (n === null || n.length < 1)
                  return [];
              for (u = n.split(t),
              r = 0,
              f = u.length; r < f; r = r + 1)
                  u[r] = i(u[r]);
              return u
          }
          function it(n) {
              return n.outerWidth(!1) - n.width()
          }
          function rt(i) {
              var r = "keyup-change-value";
              i.on("keydown", function() {
                  n.data(i, r) === t && n.data(i, r, i.val())
              });
              i.on("keyup", function() {
                  var u = n.data(i, r);
                  u !== t && i.val() !== u && (n.removeData(i, r),
                  i.trigger("keyup-change"))
              })
          }
          function yt(i) {
              i.on("mousemove", function(i) {
                  var r = y;
                  (r === t || r.x !== i.pageX || r.y !== i.pageY) && n(i.target).trigger("mousemove-filtered", i)
              })
          }
          function ut(n, i, r) {
              r = r || t;
              var u;
              return function() {
                  var t = arguments;
                  window.clearTimeout(u);
                  u = window.setTimeout(function() {
                      i.apply(r, t)
                  }, n)
              }
          }
          function pt(n, t) {
              var i = ut(n, function(n) {
                  t.trigger("scroll-debounced", n)
              });
              t.on("scroll", function(n) {
                  e(n.target, t.get()) >= 0 && i(n)
              })
          }
          function wt(n) {
              n[0] !== document.activeElement && window.setTimeout(function() {
                  var t = n[0], r = n.val().length, i, u;
                  n.focus();
                  u = t.offsetWidth > 0 || t.offsetHeight > 0;
                  u && t === document.activeElement && (t.setSelectionRange ? t.setSelectionRange(r, r) : t.createTextRange && (i = t.createTextRange(),
                  i.collapse(!1),
                  i.select()))
              }, 0)
          }
          function bt(t) {
              var i, r, u;
              return t = n(t)[0],
              i = 0,
              r = 0,
              "selectionStart"in t ? (i = t.selectionStart,
              r = t.selectionEnd - i) : "selection"in document && (t.focus(),
              u = document.selection.createRange(),
              r = document.selection.createRange().text.length,
              u.moveStart("character", -t.value.length),
              i = u.text.length - r),
              {
                  offset: i,
                  length: r
              }
          }
          function r(n) {
              n.preventDefault();
              n.stopPropagation()
          }
          function kt(n) {
              n.preventDefault();
              n.stopImmediatePropagation()
          }
          function dt(t) {
              if (!h) {
                  var i = t[0].currentStyle || window.getComputedStyle(t[0], null );
                  h = n(document.createElement("div")).css({
                      position: "absolute",
                      left: "-10000px",
                      top: "-10000px",
                      display: "none",
                      fontSize: i.fontSize,
                      fontFamily: i.fontFamily,
                      fontStyle: i.fontStyle,
                      fontWeight: i.fontWeight,
                      letterSpacing: i.letterSpacing,
                      textTransform: i.textTransform,
                      whiteSpace: "nowrap"
                  });
                  h.attr("class", "select2-sizer");
                  n(document.body).append(h)
              }
              return h.text(t.val()),
              h.width()
          }
          function a(t, i, r) {
              var u, f = [], e;
              u = n.trim(t.attr("class"));
              u && (u = "" + u,
              n(u.split(/\\s+/)).each2(function() {
                  this.indexOf("select2-") === 0 && f.push(this)
              }));
              u = n.trim(i.attr("class"));
              u && (u = "" + u,
              n(u.split(/\\s+/)).each2(function() {
                  this.indexOf("select2-") !== 0 && (e = r(this),
                  e && f.push(e))
              }));
              t.attr("class", f.join(" "))
          }
          function ft(n, t, i, r) {
              var u = o(n.toUpperCase()).indexOf(o(t.toUpperCase()))
                , f = t.length;
              if (u < 0) {
                  i.push(r(n));
                  return
              }
              i.push(r(n.substring(0, u)));
              i.push("<span class='select2-match'>");
              i.push(r(n.substring(u, u + f)));
              i.push("<\\/span>");
              i.push(r(n.substring(u + f, n.length)))
          }
          function gt(n, t, i, r) {
              var u = o(n.substring(3).toUpperCase()).indexOf(o(t.toUpperCase())) + 3
                , f = t.length;
              if (i.push("<span class='select2-iata'>"),
              i.push(r(n.substring(0, 3))),
              i.push("<\\/span>"),
              u < 3) {
                  i.push(r(n.substring(3)));
                  return
              }
              i.push(r(n.substring(3, u)));
              i.push("<span class='select2-match'>");
              i.push(r(n.substring(u, u + f)));
              i.push("<\\/span>");
              i.push(r(n.substring(u + f, n.length)))
          }
          function et(n) {
              var t = {
                  "\\\\": "&#92;",
                  "&": "&amp;",
                  "<": "&lt;",
                  ">": "&gt;",
                  '"': "&quot;",
                  "'": "&#39;",
                  "/": "&#47;"
              };
              return String(n).replace(/[&<>"'\\/\\\\]/g, function(n) {
                  return t[n]
              })
          }
          function ot(i) {
              var f, r = null , e = i.quietMillis || 100, o = i.url, u = this;
              return function(s) {
                  window.clearTimeout(f);
                  f = window.setTimeout(function() {
                      var e = i.data
                        , f = o
                        , c = i.transport || n.fn.select2.ajaxDefaults.transport
                        , l = {
                          type: i.type || "GET",
                          cache: i.cache || !1,
                          jsonpCallback: i.jsonpCallback || t,
                          dataType: i.dataType || "json"
                      }
                        , h = n.extend({}, n.fn.select2.ajaxDefaults.params, l);
                      e = e ? e.call(u, s.term, s.page, s.context) : null ;
                      f = typeof f == "function" ? f.call(u, s.term, s.page, s.context) : f;
                      r && typeof r.abort == "function" && r.abort();
                      i.params && (n.isFunction(i.params) ? n.extend(h, i.params.call(u)) : n.extend(h, i.params));
                      n.extend(h, {
                          url: f,
                          dataType: i.dataType,
                          data: e,
                          success: function(n) {
                              var t = i.results(n, s.page, s);
                              s.callback(t)
                          },
                          error: function(n, t, i) {
                              var r = {
                                  hasError: !0,
                                  jqXHR: n,
                                  textStatus: t,
                                  errorThrown: i
                              };
                              s.callback(r)
                          }
                      });
                      r = c.call(u, h)
                  }, e)
              }
          }
          function st(t) {
              var i = t, e, u, r = function(n) {
                  return "" + n.text
              }, f;
              return n.isArray(i) && (u = i,
              i = {
                  results: u
              }),
              n.isFunction(i) === !1 && (u = i,
              i = function() {
                  return u
              }
              ),
              f = i(),
              f.text && (r = f.text,
              n.isFunction(r) || (e = f.text,
              r = function(n) {
                  return n[e]
              }
              )),
              function(t) {
                  var u = t.term, e = {
                      results: []
                  }, f;
                  if (u === "") {
                      t.callback(i());
                      return
                  }
                  f = function(i, e) {
                      var o, s;
                      if (i = i[0],
                      i.children) {
                          o = {};
                          for (s in i)
                              i.hasOwnProperty(s) && (o[s] = i[s]);
                          o.children = [];
                          n(i.children).each2(function(n, t) {
                              f(t, o.children)
                          });
                          (o.children.length || t.matcher(u, r(o), i)) && e.push(o)
                      } else
                          t.matcher(u, r(i), i) && e.push(i)
                  }
                  ;
                  n(i().results).each2(function(n, t) {
                      f(t, e.results)
                  });
                  t.callback(e)
              }
          }
          function ht(i) {
              var r = n.isFunction(i);
              return function(u) {
                  var f = u.term
                    , e = {
                      results: []
                  }
                    , o = r ? i(u) : i;
                  n.isArray(o) && (n(o).each(function() {
                      var n = this.text !== t
                        , i = n ? this.text : this;
                      (f === "" || u.matcher(f, i)) && e.results.push(n ? this : {
                          id: this,
                          text: this
                      })
                  }),
                  u.callback(e))
              }
          }
          function s(t, i) {
              if (n.isFunction(t))
                  return !0;
              if (!t)
                  return !1;
              if (typeof t == "string")
                  return !0;
              throw new Error(i + " must be a string, function, or falsy value");
          }
          function u(t, i) {
              if (n.isFunction(t)) {
                  var r = Array.prototype.slice.call(arguments, 2);
                  return t.apply(i, r)
              }
              return t
          }
          function ct(t) {
              var i = 0;
              return n.each(t, function(n, t) {
                  t.children ? i += ct(t.children) : i++
              }),
              i
          }
          function ni(n, i, r, u) {
              var a = n, c = !1, e, s, o, h, l;
              if (!u.createSearchChoice || !u.tokenSeparators || u.tokenSeparators.length < 1)
                  return t;
              for (; ; ) {
                  for (s = -1,
                  o = 0,
                  h = u.tokenSeparators.length; o < h; o++)
                      if (l = u.tokenSeparators[o],
                      s = n.indexOf(l),
                      s >= 0)
                          break;
                  if (s < 0)
                      break;
                  if (e = n.substring(0, s),
                  n = n.substring(s + l.length),
                  e.length > 0 && (e = u.createSearchChoice.call(this, e, i),
                  e !== t && e !== null && u.id(e) !== t && u.id(e) !== null )) {
                      for (c = !1,
                      o = 0,
                      h = i.length; o < h; o++)
                          if (f(u.id(e), u.id(i[o]))) {
                              c = !0;
                              break
                          }
                      c || r(e)
                  }
              }
              if (a !== n)
                  return n
          }
          function k() {
              var t = this;
              n.each(arguments, function(n, i) {
                  t[i].remove();
                  t[i] = null
              })
          }
          function d(t, i) {
              var r = function() {};
              return r.prototype = new t,
              r.prototype.constructor = r,
              r.prototype.parent = t.prototype,
              r.prototype = n.extend(r.prototype, i),
              r
          }
          var v;
          if (window.Select2 === t) {
              var l, g, nt, c, h, y = {
                  x: 0,
                  y: 0
              }, p, w, i = {
                  TAB: 9,
                  ENTER: 13,
                  ESC: 27,
                  SPACE: 32,
                  LEFT: 37,
                  UP: 38,
                  RIGHT: 39,
                  DOWN: 40,
                  SHIFT: 16,
                  CTRL: 17,
                  ALT: 18,
                  PAGE_UP: 33,
                  PAGE_DOWN: 34,
                  HOME: 36,
                  END: 35,
                  BACKSPACE: 8,
                  DELETE: 46,
                  isArrow: function(n) {
                      n = n.which ? n.which : n;
                      switch (n) {
                      case i.LEFT:
                      case i.RIGHT:
                      case i.UP:
                      case i.DOWN:
                          return !0
                      }
                      return !1
                  },
                  isControl: function(n) {
                      var t = n.which;
                      switch (t) {
                      case i.SHIFT:
                      case i.CTRL:
                      case i.ALT:
                          return !0
                      }
                      return n.metaKey ? !0 : !1
                  },
                  isFunctionKey: function(n) {
                      return n = n.which ? n.which : n,
                      n >= 112 && n <= 123
                  }
              }, lt = "<div class='select2-measure-scrollbar'><\\/div>", at = {
                  "Ⓐ": "A",
                  "Ａ": "A",
                  "À": "A",
                  "Á": "A",
                  "Â": "A",
                  "Ầ": "A",
                  "Ấ": "A",
                  "Ẫ": "A",
                  "Ẩ": "A",
                  "Ã": "A",
                  "Ā": "A",
                  "Ă": "A",
                  "Ằ": "A",
                  "Ắ": "A",
                  "Ẵ": "A",
                  "Ẳ": "A",
                  "Ȧ": "A",
                  "Ǡ": "A",
                  "Ä": "A",
                  "Ǟ": "A",
                  "Ả": "A",
                  "Å": "A",
                  "Ǻ": "A",
                  "Ǎ": "A",
                  "Ȁ": "A",
                  "Ȃ": "A",
                  "Ạ": "A",
                  "Ậ": "A",
                  "Ặ": "A",
                  "Ḁ": "A",
                  "Ą": "A",
                  "Ⱥ": "A",
                  "Ɐ": "A",
                  "Ꜳ": "AA",
                  "Æ": "AE",
                  "Ǽ": "AE",
                  "Ǣ": "AE",
                  "Ꜵ": "AO",
                  "Ꜷ": "AU",
                  "Ꜹ": "AV",
                  "Ꜻ": "AV",
                  "Ꜽ": "AY",
                  "Ⓑ": "B",
                  "Ｂ": "B",
                  "Ḃ": "B",
                  "Ḅ": "B",
                  "Ḇ": "B",
                  "Ƀ": "B",
                  "Ƃ": "B",
                  "Ɓ": "B",
                  "Ⓒ": "C",
                  "Ｃ": "C",
                  "Ć": "C",
                  "Ĉ": "C",
                  "Ċ": "C",
                  "Č": "C",
                  "Ç": "C",
                  "Ḉ": "C",
                  "Ƈ": "C",
                  "Ȼ": "C",
                  "Ꜿ": "C",
                  "Ⓓ": "D",
                  "Ｄ": "D",
                  "Ḋ": "D",
                  "Ď": "D",
                  "Ḍ": "D",
                  "Ḑ": "D",
                  "Ḓ": "D",
                  "Ḏ": "D",
                  "Đ": "D",
                  "Ƌ": "D",
                  "Ɗ": "D",
                  "Ɖ": "D",
                  "Ꝺ": "D",
                  "Ǳ": "DZ",
                  "Ǆ": "DZ",
                  "ǲ": "Dz",
                  "ǅ": "Dz",
                  "Ⓔ": "E",
                  "Ｅ": "E",
                  "È": "E",
                  "É": "E",
                  "Ê": "E",
                  "Ề": "E",
                  "Ế": "E",
                  "Ễ": "E",
                  "Ể": "E",
                  "Ẽ": "E",
                  "Ē": "E",
                  "Ḕ": "E",
                  "Ḗ": "E",
                  "Ĕ": "E",
                  "Ė": "E",
                  "Ë": "E",
                  "Ẻ": "E",
                  "Ě": "E",
                  "Ȅ": "E",
                  "Ȇ": "E",
                  "Ẹ": "E",
                  "Ệ": "E",
                  "Ȩ": "E",
                  "Ḝ": "E",
                  "Ę": "E",
                  "Ḙ": "E",
                  "Ḛ": "E",
                  "Ɛ": "E",
                  "Ǝ": "E",
                  "Ⓕ": "F",
                  "Ｆ": "F",
                  "Ḟ": "F",
                  "Ƒ": "F",
                  "Ꝼ": "F",
                  "Ⓖ": "G",
                  "Ｇ": "G",
                  "Ǵ": "G",
                  "Ĝ": "G",
                  "Ḡ": "G",
                  "Ğ": "G",
                  "Ġ": "G",
                  "Ǧ": "G",
                  "Ģ": "G",
                  "Ǥ": "G",
                  "Ɠ": "G",
                  "Ꞡ": "G",
                  "Ᵹ": "G",
                  "Ꝿ": "G",
                  "Ⓗ": "H",
                  "Ｈ": "H",
                  "Ĥ": "H",
                  "Ḣ": "H",
                  "Ḧ": "H",
                  "Ȟ": "H",
                  "Ḥ": "H",
                  "Ḩ": "H",
                  "Ḫ": "H",
                  "Ħ": "H",
                  "Ⱨ": "H",
                  "Ⱶ": "H",
                  "Ɥ": "H",
                  "Ⓘ": "I",
                  "Ｉ": "I",
                  "Ì": "I",
                  "Í": "I",
                  "Î": "I",
                  "Ĩ": "I",
                  "Ī": "I",
                  "Ĭ": "I",
                  "İ": "I",
                  "Ï": "I",
                  "Ḯ": "I",
                  "Ỉ": "I",
                  "Ǐ": "I",
                  "Ȉ": "I",
                  "Ȋ": "I",
                  "Ị": "I",
                  "Į": "I",
                  "Ḭ": "I",
                  "Ɨ": "I",
                  "Ⓙ": "J",
                  "Ｊ": "J",
                  "Ĵ": "J",
                  "Ɉ": "J",
                  "Ⓚ": "K",
                  "Ｋ": "K",
                  "Ḱ": "K",
                  "Ǩ": "K",
                  "Ḳ": "K",
                  "Ķ": "K",
                  "Ḵ": "K",
                  "Ƙ": "K",
                  "Ⱪ": "K",
                  "Ꝁ": "K",
                  "Ꝃ": "K",
                  "Ꝅ": "K",
                  "Ꞣ": "K",
                  "Ⓛ": "L",
                  "Ｌ": "L",
                  "Ŀ": "L",
                  "Ĺ": "L",
                  "Ľ": "L",
                  "Ḷ": "L",
                  "Ḹ": "L",
                  "Ļ": "L",
                  "Ḽ": "L",
                  "Ḻ": "L",
                  "Ł": "L",
                  "Ƚ": "L",
                  "Ɫ": "L",
                  "Ⱡ": "L",
                  "Ꝉ": "L",
                  "Ꝇ": "L",
                  "Ꞁ": "L",
                  "Ǉ": "LJ",
                  "ǈ": "Lj",
                  "Ⓜ": "M",
                  "Ｍ": "M",
                  "Ḿ": "M",
                  "Ṁ": "M",
                  "Ṃ": "M",
                  "Ɱ": "M",
                  "Ɯ": "M",
                  "Ⓝ": "N",
                  "Ｎ": "N",
                  "Ǹ": "N",
                  "Ń": "N",
                  "Ñ": "N",
                  "Ṅ": "N",
                  "Ň": "N",
                  "Ṇ": "N",
                  "Ņ": "N",
                  "Ṋ": "N",
                  "Ṉ": "N",
                  "Ƞ": "N",
                  "Ɲ": "N",
                  "Ꞑ": "N",
                  "Ꞥ": "N",
                  "Ǌ": "NJ",
                  "ǋ": "Nj",
                  "Ⓞ": "O",
                  "Ｏ": "O",
                  "Ò": "O",
                  "Ó": "O",
                  "Ô": "O",
                  "Ồ": "O",
                  "Ố": "O",
                  "Ỗ": "O",
                  "Ổ": "O",
                  "Õ": "O",
                  "Ṍ": "O",
                  "Ȭ": "O",
                  "Ṏ": "O",
                  "Ō": "O",
                  "Ṑ": "O",
                  "Ṓ": "O",
                  "Ŏ": "O",
                  "Ȯ": "O",
                  "Ȱ": "O",
                  "Ö": "O",
                  "Ȫ": "O",
                  "Ỏ": "O",
                  "Ő": "O",
                  "Ǒ": "O",
                  "Ȍ": "O",
                  "Ȏ": "O",
                  "Ơ": "O",
                  "Ờ": "O",
                  "Ớ": "O",
                  "Ỡ": "O",
                  "Ở": "O",
                  "Ợ": "O",
                  "Ọ": "O",
                  "Ộ": "O",
                  "Ǫ": "O",
                  "Ǭ": "O",
                  "Ø": "O",
                  "Ǿ": "O",
                  "Ɔ": "O",
                  "Ɵ": "O",
                  "Ꝋ": "O",
                  "Ꝍ": "O",
                  "Ƣ": "OI",
                  "Ꝏ": "OO",
                  "Ȣ": "OU",
                  "Ⓟ": "P",
                  "Ｐ": "P",
                  "Ṕ": "P",
                  "Ṗ": "P",
                  "Ƥ": "P",
                  "Ᵽ": "P",
                  "Ꝑ": "P",
                  "Ꝓ": "P",
                  "Ꝕ": "P",
                  "Ⓠ": "Q",
                  "Ｑ": "Q",
                  "Ꝗ": "Q",
                  "Ꝙ": "Q",
                  "Ɋ": "Q",
                  "Ⓡ": "R",
                  "Ｒ": "R",
                  "Ŕ": "R",
                  "Ṙ": "R",
                  "Ř": "R",
                  "Ȑ": "R",
                  "Ȓ": "R",
                  "Ṛ": "R",
                  "Ṝ": "R",
                  "Ŗ": "R",
                  "Ṟ": "R",
                  "Ɍ": "R",
                  "Ɽ": "R",
                  "Ꝛ": "R",
                  "Ꞧ": "R",
                  "Ꞃ": "R",
                  "Ⓢ": "S",
                  "Ｓ": "S",
                  "ẞ": "S",
                  "Ś": "S",
                  "Ṥ": "S",
                  "Ŝ": "S",
                  "Ṡ": "S",
                  "Š": "S",
                  "Ṧ": "S",
                  "Ṣ": "S",
                  "Ṩ": "S",
                  "Ș": "S",
                  "Ş": "S",
                  "Ȿ": "S",
                  "Ꞩ": "S",
                  "Ꞅ": "S",
                  "Ⓣ": "T",
                  "Ｔ": "T",
                  "Ṫ": "T",
                  "Ť": "T",
                  "Ṭ": "T",
                  "Ț": "T",
                  "Ţ": "T",
                  "Ṱ": "T",
                  "Ṯ": "T",
                  "Ŧ": "T",
                  "Ƭ": "T",
                  "Ʈ": "T",
                  "Ⱦ": "T",
                  "Ꞇ": "T",
                  "Ꜩ": "TZ",
                  "Ⓤ": "U",
                  "Ｕ": "U",
                  "Ù": "U",
                  "Ú": "U",
                  "Û": "U",
                  "Ũ": "U",
                  "Ṹ": "U",
                  "Ū": "U",
                  "Ṻ": "U",
                  "Ŭ": "U",
                  "Ü": "U",
                  "Ǜ": "U",
                  "Ǘ": "U",
                  "Ǖ": "U",
                  "Ǚ": "U",
                  "Ủ": "U",
                  "Ů": "U",
                  "Ű": "U",
                  "Ǔ": "U",
                  "Ȕ": "U",
                  "Ȗ": "U",
                  "Ư": "U",
                  "Ừ": "U",
                  "Ứ": "U",
                  "Ữ": "U",
                  "Ử": "U",
                  "Ự": "U",
                  "Ụ": "U",
                  "Ṳ": "U",
                  "Ų": "U",
                  "Ṷ": "U",
                  "Ṵ": "U",
                  "Ʉ": "U",
                  "Ⓥ": "V",
                  "Ｖ": "V",
                  "Ṽ": "V",
                  "Ṿ": "V",
                  "Ʋ": "V",
                  "Ꝟ": "V",
                  "Ʌ": "V",
                  "Ꝡ": "VY",
                  "Ⓦ": "W",
                  "Ｗ": "W",
                  "Ẁ": "W",
                  "Ẃ": "W",
                  "Ŵ": "W",
                  "Ẇ": "W",
                  "Ẅ": "W",
                  "Ẉ": "W",
                  "Ⱳ": "W",
                  "Ⓧ": "X",
                  "Ｘ": "X",
                  "Ẋ": "X",
                  "Ẍ": "X",
                  "Ⓨ": "Y",
                  "Ｙ": "Y",
                  "Ỳ": "Y",
                  "Ý": "Y",
                  "Ŷ": "Y",
                  "Ỹ": "Y",
                  "Ȳ": "Y",
                  "Ẏ": "Y",
                  "Ÿ": "Y",
                  "Ỷ": "Y",
                  "Ỵ": "Y",
                  "Ƴ": "Y",
                  "Ɏ": "Y",
                  "Ỿ": "Y",
                  "Ⓩ": "Z",
                  "Ｚ": "Z",
                  "Ź": "Z",
                  "Ẑ": "Z",
                  "Ż": "Z",
                  "Ž": "Z",
                  "Ẓ": "Z",
                  "Ẕ": "Z",
                  "Ƶ": "Z",
                  "Ȥ": "Z",
                  "Ɀ": "Z",
                  "Ⱬ": "Z",
                  "Ꝣ": "Z",
                  "ⓐ": "a",
                  "ａ": "a",
                  "ẚ": "a",
                  "à": "a",
                  "á": "a",
                  "â": "a",
                  "ầ": "a",
                  "ấ": "a",
                  "ẫ": "a",
                  "ẩ": "a",
                  "ã": "a",
                  "ā": "a",
                  "ă": "a",
                  "ằ": "a",
                  "ắ": "a",
                  "ẵ": "a",
                  "ẳ": "a",
                  "ȧ": "a",
                  "ǡ": "a",
                  "ä": "a",
                  "ǟ": "a",
                  "ả": "a",
                  "å": "a",
                  "ǻ": "a",
                  "ǎ": "a",
                  "ȁ": "a",
                  "ȃ": "a",
                  "ạ": "a",
                  "ậ": "a",
                  "ặ": "a",
                  "ḁ": "a",
                  "ą": "a",
                  "ⱥ": "a",
                  "ɐ": "a",
                  "ꜳ": "aa",
                  "æ": "ae",
                  "ǽ": "ae",
                  "ǣ": "ae",
                  "ꜵ": "ao",
                  "ꜷ": "au",
                  "ꜹ": "av",
                  "ꜻ": "av",
                  "ꜽ": "ay",
                  "ⓑ": "b",
                  "ｂ": "b",
                  "ḃ": "b",
                  "ḅ": "b",
                  "ḇ": "b",
                  "ƀ": "b",
                  "ƃ": "b",
                  "ɓ": "b",
                  "ⓒ": "c",
                  "ｃ": "c",
                  "ć": "c",
                  "ĉ": "c",
                  "ċ": "c",
                  "č": "c",
                  "ç": "c",
                  "ḉ": "c",
                  "ƈ": "c",
                  "ȼ": "c",
                  "ꜿ": "c",
                  "ↄ": "c",
                  "ⓓ": "d",
                  "ｄ": "d",
                  "ḋ": "d",
                  "ď": "d",
                  "ḍ": "d",
                  "ḑ": "d",
                  "ḓ": "d",
                  "ḏ": "d",
                  "đ": "d",
                  "ƌ": "d",
                  "ɖ": "d",
                  "ɗ": "d",
                  "ꝺ": "d",
                  "ǳ": "dz",
                  "ǆ": "dz",
                  "ⓔ": "e",
                  "ｅ": "e",
                  "è": "e",
                  "é": "e",
                  "ê": "e",
                  "ề": "e",
                  "ế": "e",
                  "ễ": "e",
                  "ể": "e",
                  "ẽ": "e",
                  "ē": "e",
                  "ḕ": "e",
                  "ḗ": "e",
                  "ĕ": "e",
                  "ė": "e",
                  "ë": "e",
                  "ẻ": "e",
                  "ě": "e",
                  "ȅ": "e",
                  "ȇ": "e",
                  "ẹ": "e",
                  "ệ": "e",
                  "ȩ": "e",
                  "ḝ": "e",
                  "ę": "e",
                  "ḙ": "e",
                  "ḛ": "e",
                  "ɇ": "e",
                  "ɛ": "e",
                  "ǝ": "e",
                  "ⓕ": "f",
                  "ｆ": "f",
                  "ḟ": "f",
                  "ƒ": "f",
                  "ꝼ": "f",
                  "ⓖ": "g",
                  "ｇ": "g",
                  "ǵ": "g",
                  "ĝ": "g",
                  "ḡ": "g",
                  "ğ": "g",
                  "ġ": "g",
                  "ǧ": "g",
                  "ģ": "g",
                  "ǥ": "g",
                  "ɠ": "g",
                  "ꞡ": "g",
                  "ᵹ": "g",
                  "ꝿ": "g",
                  "ⓗ": "h",
                  "ｈ": "h",
                  "ĥ": "h",
                  "ḣ": "h",
                  "ḧ": "h",
                  "ȟ": "h",
                  "ḥ": "h",
                  "ḩ": "h",
                  "ḫ": "h",
                  "ẖ": "h",
                  "ħ": "h",
                  "ⱨ": "h",
                  "ⱶ": "h",
                  "ɥ": "h",
                  "ƕ": "hv",
                  "ⓘ": "i",
                  "ｉ": "i",
                  "ì": "i",
                  "í": "i",
                  "î": "i",
                  "ĩ": "i",
                  "ī": "i",
                  "ĭ": "i",
                  "ï": "i",
                  "ḯ": "i",
                  "ỉ": "i",
                  "ǐ": "i",
                  "ȉ": "i",
                  "ȋ": "i",
                  "ị": "i",
                  "į": "i",
                  "ḭ": "i",
                  "ɨ": "i",
                  "ı": "i",
                  "ⓙ": "j",
                  "ｊ": "j",
                  "ĵ": "j",
                  "ǰ": "j",
                  "ɉ": "j",
                  "ⓚ": "k",
                  "ｋ": "k",
                  "ḱ": "k",
                  "ǩ": "k",
                  "ḳ": "k",
                  "ķ": "k",
                  "ḵ": "k",
                  "ƙ": "k",
                  "ⱪ": "k",
                  "ꝁ": "k",
                  "ꝃ": "k",
                  "ꝅ": "k",
                  "ꞣ": "k",
                  "ⓛ": "l",
                  "ｌ": "l",
                  "ŀ": "l",
                  "ĺ": "l",
                  "ľ": "l",
                  "ḷ": "l",
                  "ḹ": "l",
                  "ļ": "l",
                  "ḽ": "l",
                  "ḻ": "l",
                  "ſ": "l",
                  "ł": "l",
                  "ƚ": "l",
                  "ɫ": "l",
                  "ⱡ": "l",
                  "ꝉ": "l",
                  "ꞁ": "l",
                  "ꝇ": "l",
                  "ǉ": "lj",
                  "ⓜ": "m",
                  "ｍ": "m",
                  "ḿ": "m",
                  "ṁ": "m",
                  "ṃ": "m",
                  "ɱ": "m",
                  "ɯ": "m",
                  "ⓝ": "n",
                  "ｎ": "n",
                  "ǹ": "n",
                  "ń": "n",
                  "ñ": "n",
                  "ṅ": "n",
                  "ň": "n",
                  "ṇ": "n",
                  "ņ": "n",
                  "ṋ": "n",
                  "ṉ": "n",
                  "ƞ": "n",
                  "ɲ": "n",
                  "ŉ": "n",
                  "ꞑ": "n",
                  "ꞥ": "n",
                  "ǌ": "nj",
                  "ⓞ": "o",
                  "ｏ": "o",
                  "ò": "o",
                  "ó": "o",
                  "ô": "o",
                  "ồ": "o",
                  "ố": "o",
                  "ỗ": "o",
                  "ổ": "o",
                  "õ": "o",
                  "ṍ": "o",
                  "ȭ": "o",
                  "ṏ": "o",
                  "ō": "o",
                  "ṑ": "o",
                  "ṓ": "o",
                  "ŏ": "o",
                  "ȯ": "o",
                  "ȱ": "o",
                  "ö": "o",
                  "ȫ": "o",
                  "ỏ": "o",
                  "ő": "o",
                  "ǒ": "o",
                  "ȍ": "o",
                  "ȏ": "o",
                  "ơ": "o",
                  "ờ": "o",
                  "ớ": "o",
                  "ỡ": "o",
                  "ở": "o",
                  "ợ": "o",
                  "ọ": "o",
                  "ộ": "o",
                  "ǫ": "o",
                  "ǭ": "o",
                  "ø": "o",
                  "ǿ": "o",
                  "ɔ": "o",
                  "ꝋ": "o",
                  "ꝍ": "o",
                  "ɵ": "o",
                  "ƣ": "oi",
                  "ȣ": "ou",
                  "ꝏ": "oo",
                  "ⓟ": "p",
                  "ｐ": "p",
                  "ṕ": "p",
                  "ṗ": "p",
                  "ƥ": "p",
                  "ᵽ": "p",
                  "ꝑ": "p",
                  "ꝓ": "p",
                  "ꝕ": "p",
                  "ⓠ": "q",
                  "ｑ": "q",
                  "ɋ": "q",
                  "ꝗ": "q",
                  "ꝙ": "q",
                  "ⓡ": "r",
                  "ｒ": "r",
                  "ŕ": "r",
                  "ṙ": "r",
                  "ř": "r",
                  "ȑ": "r",
                  "ȓ": "r",
                  "ṛ": "r",
                  "ṝ": "r",
                  "ŗ": "r",
                  "ṟ": "r",
                  "ɍ": "r",
                  "ɽ": "r",
                  "ꝛ": "r",
                  "ꞧ": "r",
                  "ꞃ": "r",
                  "ⓢ": "s",
                  "ｓ": "s",
                  "ß": "s",
                  "ś": "s",
                  "ṥ": "s",
                  "ŝ": "s",
                  "ṡ": "s",
                  "š": "s",
                  "ṧ": "s",
                  "ṣ": "s",
                  "ṩ": "s",
                  "ș": "s",
                  "ş": "s",
                  "ȿ": "s",
                  "ꞩ": "s",
                  "ꞅ": "s",
                  "ẛ": "s",
                  "ⓣ": "t",
                  "ｔ": "t",
                  "ṫ": "t",
                  "ẗ": "t",
                  "ť": "t",
                  "ṭ": "t",
                  "ț": "t",
                  "ţ": "t",
                  "ṱ": "t",
                  "ṯ": "t",
                  "ŧ": "t",
                  "ƭ": "t",
                  "ʈ": "t",
                  "ⱦ": "t",
                  "ꞇ": "t",
                  "ꜩ": "tz",
                  "ⓤ": "u",
                  "ｕ": "u",
                  "ù": "u",
                  "ú": "u",
                  "û": "u",
                  "ũ": "u",
                  "ṹ": "u",
                  "ū": "u",
                  "ṻ": "u",
                  "ŭ": "u",
                  "ü": "u",
                  "ǜ": "u",
                  "ǘ": "u",
                  "ǖ": "u",
                  "ǚ": "u",
                  "ủ": "u",
                  "ů": "u",
                  "ű": "u",
                  "ǔ": "u",
                  "ȕ": "u",
                  "ȗ": "u",
                  "ư": "u",
                  "ừ": "u",
                  "ứ": "u",
                  "ữ": "u",
                  "ử": "u",
                  "ự": "u",
                  "ụ": "u",
                  "ṳ": "u",
                  "ų": "u",
                  "ṷ": "u",
                  "ṵ": "u",
                  "ʉ": "u",
                  "ⓥ": "v",
                  "ｖ": "v",
                  "ṽ": "v",
                  "ṿ": "v",
                  "ʋ": "v",
                  "ꝟ": "v",
                  "ʌ": "v",
                  "ꝡ": "vy",
                  "ⓦ": "w",
                  "ｗ": "w",
                  "ẁ": "w",
                  "ẃ": "w",
                  "ŵ": "w",
                  "ẇ": "w",
                  "ẅ": "w",
                  "ẘ": "w",
                  "ẉ": "w",
                  "ⱳ": "w",
                  "ⓧ": "x",
                  "ｘ": "x",
                  "ẋ": "x",
                  "ẍ": "x",
                  "ⓨ": "y",
                  "ｙ": "y",
                  "ỳ": "y",
                  "ý": "y",
                  "ŷ": "y",
                  "ỹ": "y",
                  "ȳ": "y",
                  "ẏ": "y",
                  "ÿ": "y",
                  "ỷ": "y",
                  "ẙ": "y",
                  "ỵ": "y",
                  "ƴ": "y",
                  "ɏ": "y",
                  "ỿ": "y",
                  "ⓩ": "z",
                  "ｚ": "z",
                  "ź": "z",
                  "ẑ": "z",
                  "ż": "z",
                  "ž": "z",
                  "ẓ": "z",
                  "ẕ": "z",
                  "ƶ": "z",
                  "ȥ": "z",
                  "ɀ": "z",
                  "ⱬ": "z",
                  "ꝣ": "z",
                  "Ά": "Α",
                  "Έ": "Ε",
                  "Ή": "Η",
                  "Ί": "Ι",
                  "Ϊ": "Ι",
                  "Ό": "Ο",
                  "Ύ": "Υ",
                  "Ϋ": "Υ",
                  "Ώ": "Ω",
                  "ά": "α",
                  "έ": "ε",
                  "ή": "η",
                  "ί": "ι",
                  "ϊ": "ι",
                  "ΐ": "ι",
                  "ό": "ο",
                  "ύ": "υ",
                  "ϋ": "υ",
                  "ΰ": "υ",
                  "ω": "ω",
                  "ς": "σ"
              };
              p = n(document);
              c = function() {
                  var n = 1;
                  return function() {
                      return n++
                  }
              }();
              l = d(Object, {
                  bind: function(n) {
                      var t = this;
                      return function() {
                          n.apply(t, arguments)
                      }
                  },
                  init: function(i) {
                      var f, e, o = ".select2-results", s, h;
                      this.opts = i = this.prepareOpts(i);
                      this.id = i.id;
                      i.element.data("select2") !== t && i.element.data("select2") !== null && i.element.data("select2").destroy();
                      this.container = this.createContainer();
                      this.liveRegion = n(".select2-hidden-accessible");
                      this.liveRegion.length == 0 && (this.liveRegion = n("<span>", {
                          role: "status",
                          "aria-live": "polite"
                      }).addClass("select2-hidden-accessible").appendTo(document.body));
                      this.containerId = "s2id_" + (i.element.attr("id") || "autogen" + c());
                      this.containerEventName = this.containerId.replace(/([.])/g, "_").replace(/([;&,\\-\\.\\+\\*\\~':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, "\\\\$1");
                      this.container.attr("id", this.containerId);
                      this.container.attr("title", i.element.attr("title"));
                      this.body = n(document.body);
                      a(this.container, this.opts.element, this.opts.adaptContainerCssClass);
                      this.container.attr("style", i.element.attr("style"));
                      this.container.css(u(i.containerCss, this.opts.element));
                      this.container.addClass(u(i.containerCssClass, this.opts.element));
                      this.elementTabIndex = this.opts.element.attr("tabindex");
                      this.opts.element.data("select2", this).attr("tabindex", "-1").before(this.container).on("click.select2", r);
                      this.container.data("select2", this);
                      this.dropdown = this.container.find(".select2-drop");
                      a(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);
                      this.dropdown.addClass(u(i.dropdownCssClass, this.opts.element));
                      this.dropdown.data("select2", this);
                      this.dropdown.on("click", r);
                      this.results = f = this.container.find(o);
                      this.search = e = this.container.find("input.select2-input");
                      this.queryCount = 0;
                      this.resultsPage = 0;
                      this.context = null ;
                      this.initContainer();
                      this.container.on("click", r);
                      yt(this.results);
                      this.dropdown.on("mousemove-filtered", o, this.bind(this.highlightUnderEvent));
                      this.dropdown.on("touchstart touchmove touchend", o, this.bind(function(n) {
                          this._touchEvent = !0;
                          this.highlightUnderEvent(n)
                      }));
                      this.dropdown.on("touchmove", o, this.bind(this.touchMoved));
                      this.dropdown.on("touchstart touchend", o, this.bind(this.clearTouchMoved));
                      this.dropdown.on("click", this.bind(function() {
                          this._touchEvent && (this._touchEvent = !1,
                          this.selectHighlighted())
                      }));
                      pt(80, this.results);
                      this.dropdown.on("scroll-debounced", o, this.bind(this.loadMoreIfNeeded));
                      n(this.container).on("change", ".select2-input", function(n) {
                          n.stopPropagation()
                      });
                      n(this.dropdown).on("change", ".select2-input", function(n) {
                          n.stopPropagation()
                      });
                      n.fn.mousewheel && f.mousewheel(function(n, t, i, u) {
                          var e = f.scrollTop();
                          u > 0 && e - u <= 0 ? (f.scrollTop(0),
                          r(n)) : u < 0 && f.get(0).scrollHeight - f.scrollTop() + u <= f.height() && (f.scrollTop(f.get(0).scrollHeight - f.height()),
                          r(n))
                      });
                      rt(e);
                      e.on("keyup-change input paste", this.bind(this.updateResults));
                      e.on("focus", function() {
                          e.addClass("select2-focused")
                      });
                      e.on("blur", function() {
                          e.removeClass("select2-focused")
                      });
                      this.dropdown.on("mouseup", o, this.bind(function(t) {
                          n(t.target).closest(".select2-result-selectable").length > 0 && (this.highlightUnderEvent(t),
                          this.selectHighlighted(t))
                      }));
                      this.dropdown.on("click mouseup mousedown touchstart touchend focusin", function(n) {
                          n.stopPropagation()
                      });
                      this.nextSearchTerm = t;
                      n.isFunction(this.opts.initSelection) && (this.initSelection(),
                      this.monitorSource());
                      i.maximumInputLength !== null && this.search.attr("maxlength", i.maximumInputLength);
                      s = i.element.prop("disabled");
                      s === t && (s = !1);
                      this.enable(!s);
                      h = i.element.prop("readonly");
                      h === t && (h = !1);
                      this.readonly(h);
                      w = w || vt();
                      this.autofocus = i.element.prop("autofocus");
                      i.element.prop("autofocus", !1);
                      this.autofocus && this.focus();
                      this.search.attr("placeholder", i.searchInputPlaceholder)
                  },
                  destroy: function() {
                      var n = this.opts.element
                        , i = n.data("select2")
                        , r = this;
                      this.close();
                      n.length && n[0].detachEvent && r._sync && n.each(function() {
                          r._sync && this.detachEvent("onpropertychange", r._sync)
                      });
                      this.propertyObserver && (this.propertyObserver.disconnect(),
                      this.propertyObserver = null );
                      this._sync = null ;
                      i !== t && (i.container.remove(),
                      i.liveRegion.remove(),
                      i.dropdown.remove(),
                      n.show().removeData("select2").off(".select2").prop("autofocus", this.autofocus || !1),
                      this.elementTabIndex ? n.attr({
                          tabindex: this.elementTabIndex
                      }) : n.removeAttr("tabindex"),
                      n.show());
                      k.call(this, "container", "liveRegion", "dropdown", "results", "search")
                  },
                  optionToData: function(n) {
                      return n.is("option") ? {
                          id: n.prop("value"),
                          text: n.text(),
                          element: n.get(),
                          css: n.attr("class"),
                          disabled: n.prop("disabled"),
                          locked: f(n.attr("locked"), "locked") || f(n.data("locked"), !0)
                      } : n.is("optgroup") ? {
                          text: n.attr("label"),
                          children: [],
                          element: n.get(),
                          css: n.attr("class")
                      } : void 0
                  },
                  prepareOpts: function(i) {
                      var e, o, s, u, r = this;
                      if (e = i.element,
                      e.get(0).tagName.toLowerCase() === "select" && (this.select = o = i.element),
                      o && n.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function() {
                          if (this in i)
                              throw new Error("Option '" + this + "' is not allowed for Select2 when attached to a <select> element.");
                      }),
                      i = n.extend({}, {
                          populateResults: function(u, f, e) {
                              var o, s = this.opts.id, h = this.liveRegion;
                              o = function(u, f, l) {
                                  var w, tt, y, it, k, d, a, p, b, g, nt;
                                  for (u = i.sortResults(u, f, e),
                                  nt = [],
                                  w = 0,
                                  tt = u.length; w < tt; w = w + 1)
                                      y = u[w],
                                      k = y.disabled === !0,
                                      it = !k && s(y) !== t,
                                      d = y.children && y.children.length > 0,
                                      a = n("<li><\\/li>"),
                                      a.addClass("select2-results-dept-" + l),
                                      a.addClass("select2-result"),
                                      a.addClass(it ? "select2-result-selectable" : "select2-result-unselectable"),
                                      k && a.addClass("select2-disabled"),
                                      d && a.addClass("select2-result-with-children"),
                                      a.addClass(r.opts.formatResultCssClass(y)),
                                      a.attr("role", "presentation"),
                                      p = n(document.createElement("div")),
                                      p.addClass("select2-result-label"),
                                      p.attr("id", "select2-result-label-" + c()),
                                      p.attr("role", "option"),
                                      v = n("#InternationalTicket").hasClass("active") && r.containerId.indexOf("origin") + r.containerId.indexOf("destination") > 0,
                                      g = i.formatResult(y, p, e, r.opts.escapeMarkup, l),
                                      g !== t && (p.html(g),
                                      a.append(p)),
                                      d && (b = n("<ul><\\/ul>"),
                                      b.addClass("select2-result-sub"),
                                      o(y.children, b, l + 1),
                                      a.append(b)),
                                      a.data("select2-data", y),
                                      nt.push(a[0]);
                                  f.append(nt);
                                  h.text(i.formatMatches(u.length))
                              }
                              ;
                              o(f, u, 0)
                          }
                      }, n.fn.select2.defaults, i),
                      typeof i.id != "function" && (s = i.id,
                      i.id = function(n) {
                          return n[s]
                      }
                      ),
                      n.isArray(i.element.data("select2Tags"))) {
                          if ("tags"in i)
                              throw "tags specified as both an attribute 'data-select2-tags' and in options of Select2 " + i.element.attr("id");
                          i.tags = i.element.data("select2Tags")
                      }
                      if (o ? (i.query = this.bind(function(n) {
                          var o = {
                              results: [],
                              more: !1
                          }, s = n.term, i, u, f;
                          f = function(t, i) {
                              var u;
                              t.is("option") ? n.matcher(s, t.text(), t) && i.push(r.optionToData(t)) : t.is("optgroup") && (u = r.optionToData(t),
                              t.children().each2(function(n, t) {
                                  f(t, u.children)
                              }),
                              u.children.length > 0 && i.push(u))
                          }
                          ;
                          i = e.children();
                          this.getPlaceholder() !== t && i.length > 0 && (u = this.getPlaceholderOption(),
                          u && (i = i.not(u)));
                          i.each2(function(n, t) {
                              f(t, o.results)
                          });
                          n.callback(o)
                      }),
                      i.id = function(n) {
                          return n.id
                      }
                      ) : "query"in i || ("ajax"in i ? (u = i.element.data("ajax-url"),
                      u && u.length > 0 && (i.ajax.url = u),
                      i.query = ot.call(i.element, i.ajax)) : "data"in i ? i.query = st(i.data) : "tags"in i && (i.query = ht(i.tags),
                      i.createSearchChoice === t && (i.createSearchChoice = function(t) {
                          return {
                              id: n.trim(t),
                              text: n.trim(t)
                          }
                      }
                      ),
                      i.initSelection === t && (i.initSelection = function(t, r) {
                          var u = [];
                          n(b(t.val(), i.separator, i.transformVal)).each(function() {
                              var r = {
                                  id: this,
                                  text: this
                              }
                                , t = i.tags;
                              n.isFunction(t) && (t = t());
                              n(t).each(function() {
                                  if (f(this.id, r.id))
                                      return r = this,
                                      !1
                              });
                              u.push(r)
                          });
                          r(u)
                      }
                      ))),
                      typeof i.query != "function")
                          throw "query function not defined for Select2 " + i.element.attr("id");
                      if (i.createSearchChoicePosition === "top")
                          i.createSearchChoicePosition = function(n, t) {
                              n.unshift(t)
                          }
                          ;
                      else if (i.createSearchChoicePosition === "bottom")
                          i.createSearchChoicePosition = function(n, t) {
                              n.push(t)
                          }
                          ;
                      else if (typeof i.createSearchChoicePosition != "function")
                          throw "invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";
                      return i
                  },
                  monitorSource: function() {
                      var i = this.opts.element, r, f = this;
                      i.on("change.select2", this.bind(function() {
                          this.opts.element.data("select2-change-triggered") !== !0 && this.initSelection()
                      }));
                      this._sync = this.bind(function() {
                          var r = i.prop("disabled"), n;
                          r === t && (r = !1);
                          this.enable(!r);
                          n = i.prop("readonly");
                          n === t && (n = !1);
                          this.readonly(n);
                          this.container && (a(this.container, this.opts.element, this.opts.adaptContainerCssClass),
                          this.container.addClass(u(this.opts.containerCssClass, this.opts.element)));
                          this.dropdown && (a(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass),
                          this.dropdown.addClass(u(this.opts.dropdownCssClass, this.opts.element)))
                      });
                      i.length && i[0].attachEvent && i.each(function() {
                          this.attachEvent("onpropertychange", f._sync)
                      });
                      r = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
                      r !== t && (this.propertyObserver && (delete this.propertyObserver,
                      this.propertyObserver = null ),
                      this.propertyObserver = new r(function(t) {
                          n.each(t, f._sync)
                      }
                      ),
                      this.propertyObserver.observe(i.get(0), {
                          attributes: !0,
                          subtree: !1
                      }))
                  },
                  triggerSelect: function(t) {
                      var i = n.Event("select2-selecting", {
                          val: this.id(t),
                          object: t,
                          choice: t
                      });
                      return this.opts.element.trigger(i),
                      !i.isDefaultPrevented()
                  },
                  triggerChange: function(t) {
                      t = t || {};
                      t = n.extend({}, t, {
                          type: "change",
                          val: this.val()
                      });
                      this.opts.element.data("select2-change-triggered", !0);
                      this.opts.element.trigger(t);
                      this.opts.element.data("select2-change-triggered", !1);
                      this.opts.element.click();
                      this.opts.blurOnChange && this.opts.element.blur()
                  },
                  isInterfaceEnabled: function() {
                      return this.enabledInterface === !0
                  },
                  enableInterface: function() {
                      var n = this._enabled && !this._readonly
                        , t = !n;
                      return n === this.enabledInterface ? !1 : (this.container.toggleClass("select2-container-disabled", t),
                      this.close(),
                      this.enabledInterface = n,
                      !0)
                  },
                  enable: function(n) {
                      (n === t && (n = !0),
                      this._enabled !== n) && (this._enabled = n,
                      this.opts.element.prop("disabled", !n),
                      this.enableInterface())
                  },
                  disable: function() {
                      this.enable(!1)
                  },
                  readonly: function(n) {
                      (n === t && (n = !1),
                      this._readonly !== n) && (this._readonly = n,
                      this.opts.element.prop("readonly", n),
                      this.enableInterface())
                  },
                  opened: function() {
                      return this.container ? this.container.hasClass("select2-dropdown-open") : !1
                  },
                  positionDropdown: function() {
                      var t = this.dropdown, l = this.container, i = l.offset(), v = l.outerHeight(!1), o = l.outerWidth(!1), s = t.outerHeight(!1), e = n(window), d = e.width(), g = e.height(), y = e.scrollLeft() + d, nt = e.scrollTop() + g, a = i.top + v, h = i.left, tt = a + s <= nt, it = i.top - s >= e.scrollTop(), r = t.outerWidth(!1), rt = function() {
                          return h + r <= y
                      }, ut = function() {
                          return i.left + y + l.outerWidth(!1) > r
                      }, ft = t.hasClass("select2-drop-above"), p, c, b, f, k;
                      ft ? (c = !0,
                      !it && tt && (b = !0,
                      c = !1)) : (c = !1,
                      !tt && it && (b = !0,
                      c = !0));
                      b && (t.hide(),
                      i = this.container.offset(),
                      v = this.container.outerHeight(!1),
                      o = this.container.outerWidth(!1),
                      s = t.outerHeight(!1),
                      y = e.scrollLeft() + d,
                      nt = e.scrollTop() + g,
                      a = i.top + v,
                      h = i.left,
                      r = t.outerWidth(!1),
                      t.show(),
                      this.focusSearch());
                      this.opts.dropdownAutoWidth ? (k = n(".select2-results", t)[0],
                      t.addClass("select2-drop-auto-width"),
                      t.css("width", ""),
                      r = t.outerWidth(!1) + (k.scrollHeight === k.clientHeight ? 0 : w.width),
                      r > o ? o = r : r = o,
                      s = t.outerHeight(!1)) : this.container.removeClass("select2-drop-auto-width");
                      this.body.css("position") !== "static" && (p = this.body.offset(),
                      a -= p.top,
                      h -= p.left);
                      !rt() && ut() && (h = i.left + this.container.outerWidth(!1) - r);
                      f = {
                          left: h,
                          width: o
                      };
                      c ? (f.top = i.top - s,
                      f.bottom = "auto",
                      this.container.addClass("select2-drop-above"),
                      t.addClass("select2-drop-above")) : (f.top = a,
                      f.bottom = "auto",
                      this.container.removeClass("select2-drop-above"),
                      t.removeClass("select2-drop-above"));
                      f = n.extend(f, u(this.opts.dropdownCss, this.opts.element));
                      t.css(f)
                  },
                  shouldOpen: function() {
                      var t;
                      return this.opened() ? !1 : this._enabled === !1 || this._readonly === !0 ? !1 : (t = n.Event("select2-opening"),
                      this.opts.element.trigger(t),
                      !t.isDefaultPrevented())
                  },
                  clearDropdownAlignmentPreference: function() {
                      this.container.removeClass("select2-drop-above");
                      this.dropdown.removeClass("select2-drop-above")
                  },
                  open: function() {
                      if (!this.shouldOpen())
                          return !1;
                      this.opening();
                      p.on("mousemove.select2Event", function(n) {
                          y.x = n.pageX;
                          y.y = n.pageY
                      });
                      return !0
                  },
                  opening: function() {
                      var i = this.containerEventName, u = "scroll." + i, f = "resize." + i, e = "orientationchange." + i, t, r;
                      if (this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),
                      this.clearDropdownAlignmentPreference(),
                      this.dropdown[0] !== this.body.children().last()[0] && this.dropdown.detach().appendTo(this.body),
                      t = n("#select2-drop-mask"),
                      t.length === 0) {
                          t = n(document.createElement("div"));
                          t.attr("id", "select2-drop-mask").attr("class", "select2-drop-mask");
                          t.hide();
                          t.appendTo(this.body);
                          t.on("mousedown touchstart click", function(i) {
                              tt(t);
                              var u = n("#select2-drop"), r;
                              u.length > 0 && (r = u.data("select2"),
                              r.opts.selectOnBlur && r.selectHighlighted({
                                  noFocus: !0
                              }),
                              r.close(),
                              i.preventDefault(),
                              i.stopPropagation())
                          })
                      }
                      this.dropdown.prev()[0] !== t[0] && this.dropdown.before(t);
                      n("#select2-drop").removeAttr("id");
                      this.dropdown.attr("id", "select2-drop");
                      t.show();
                      this.positionDropdown();
                      this.dropdown.show();
                      this.positionDropdown();
                      this.dropdown.addClass("select2-drop-active");
                      r = this;
                      this.container.parents().add(window).each(function() {
                          n(this).on(f + " " + u + " " + e, function() {
                              r.opened() && r.positionDropdown()
                          })
                      })
                  },
                  close: function() {
                      if (this.opened()) {
                          var t = this.containerEventName
                            , i = "scroll." + t
                            , r = "resize." + t
                            , u = "orientationchange." + t;
                          this.container.parents().add(window).each(function() {
                              n(this).off(i).off(r).off(u)
                          });
                          this.clearDropdownAlignmentPreference();
                          n("#select2-drop-mask").hide();
                          this.dropdown.removeAttr("id");
                          this.dropdown.hide();
                          this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");
                          this.results.empty();
                          p.off("mousemove.select2Event");
                          this.clearSearch();
                          this.search.removeClass("select2-active");
                          this.opts.element.trigger(n.Event("select2-close"))
                      }
                  },
                  externalSearch: function(n) {
                      this.open();
                      this.search.val(n);
                      this.updateResults(!1)
                  },
                  clearSearch: function() {},
                  getMaximumSelectionSize: function() {
                      return u(this.opts.maximumSelectionSize, this.opts.element)
                  },
                  ensureHighlightVisible: function() {
                      var t = this.results, e, i, r, u, o, s, f, h;
                      if (i = this.highlight(),
                      !(i < 0)) {
                          if (i == 0) {
                              t.scrollTop(0);
                              return
                          }
                          e = this.findHighlightableChoices().find(".select2-result-label");
                          r = n(e[i]);
                          h = (r.offset() || {}).top || 0;
                          u = h + r.outerHeight(!0);
                          i === e.length - 1 && (f = t.find("li.select2-more-results"),
                          f.length > 0 && (u = f.offset().top + f.outerHeight(!0)));
                          o = t.offset().top + t.outerHeight(!1);
                          u > o && t.scrollTop(t.scrollTop() + (u - o));
                          s = h - t.offset().top;
                          s < 0 && r.css("display") != "none" && t.scrollTop(t.scrollTop() + s)
                      }
                  },
                  findHighlightableChoices: function() {
                      return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")
                  },
                  moveHighlight: function(t) {
                      for (var u = this.findHighlightableChoices(), i = this.highlight(), r; i > -1 && i < u.length; )
                          if (i += t,
                          r = n(u[i]),
                          r.hasClass("select2-result-selectable") && !r.hasClass("select2-disabled") && !r.hasClass("select2-selected")) {
                              this.highlight(i);
                              break
                          }
                  },
                  highlight: function(t) {
                      var i = this.findHighlightableChoices(), r, u;
                      if (arguments.length === 0)
                          return e(i.filter(".select2-highlighted")[0], i.get());
                      t >= i.length && (t = i.length - 1);
                      t < 0 && (t = 0);
                      this.removeHighlight();
                      r = n(i[t]);
                      r.addClass("select2-highlighted");
                      this.search.attr("aria-activedescendant", r.find(".select2-result-label").attr("id"));
                      this.ensureHighlightVisible();
                      this.liveRegion.text(r.text());
                      u = r.data("select2-data");
                      u && this.opts.element.trigger({
                          type: "select2-highlight",
                          val: this.id(u),
                          choice: u
                      })
                  },
                  removeHighlight: function() {
                      this.results.find(".select2-highlighted").removeClass("select2-highlighted")
                  },
                  touchMoved: function() {
                      this._touchMoved = !0
                  },
                  clearTouchMoved: function() {
                      this._touchMoved = !1
                  },
                  countSelectableResults: function() {
                      return this.findHighlightableChoices().length
                  },
                  highlightUnderEvent: function(t) {
                      var i = n(t.target).closest(".select2-result-selectable"), r;
                      i.length > 0 && !i.is(".select2-highlighted") ? (r = this.findHighlightableChoices(),
                      this.highlight(r.index(i))) : i.length == 0 && this.removeHighlight()
                  },
                  loadMoreIfNeeded: function() {
                      var t = this.results, i = t.find("li.select2-more-results"), f, r = this.resultsPage + 1, n = this, e = this.search.val(), o = this.context;
                      i.length !== 0 && (f = i.offset().top - t.offset().top - t.height(),
                      f <= this.opts.loadMorePadding && (i.addClass("select2-active"),
                      this.opts.query({
                          element: this.opts.element,
                          term: e,
                          page: r,
                          context: o,
                          matcher: this.opts.matcher,
                          callback: this.bind(function(f) {
                              n.opened() && (n.opts.populateResults.call(this, t, f.results, {
                                  term: e,
                                  page: r,
                                  context: o
                              }),
                              n.postprocessResults(f, !1, !1),
                              f.more === !0 ? (i.detach().appendTo(t).html(n.opts.escapeMarkup(u(n.opts.formatLoadMore, n.opts.element, r + 1))),
                              window.setTimeout(function() {
                                  n.loadMoreIfNeeded()
                              }, 10)) : i.remove(),
                              n.positionDropdown(),
                              n.resultsPage = r,
                              n.context = f.context,
                              this.opts.element.trigger({
                                  type: "select2-loaded",
                                  items: f
                              }))
                          })
                      })))
                  },
                  tokenize: function() {},
                  updateResults: function(i) {
                      function b() {
                          e.removeClass("select2-active");
                          o.positionDropdown();
                          c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length ? o.liveRegion.text(c.text()) : o.liveRegion.text(o.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))
                      }
                      function h(n) {
                          c.html(n);
                          b()
                      }
                      var e = this.search, c = this.results, r = this.opts, v, o = this, l, y = e.val(), p = n.data(this.container, "select2-last-term"), w, a;
                      if ((i === !0 || !p || !f(y, p)) && (n.data(this.container, "select2-last-term", y),
                      i === !0 || this.showSearchInput !== !1 && this.opened())) {
                          if (w = ++this.queryCount,
                          a = this.getMaximumSelectionSize(),
                          a >= 1 && (v = this.data(),
                          n.isArray(v) && v.length >= a && s(r.formatSelectionTooBig, "formatSelectionTooBig"))) {
                              h("<li class='select2-selection-limit'>" + u(r.formatSelectionTooBig, r.element, a) + "<\\/li>");
                              return
                          }
                          if (e.val().length < r.minimumInputLength) {
                              s(r.formatInputTooShort, "formatInputTooShort") ? h("<li class='select2-no-results'>" + u(r.formatInputTooShort, r.element, e.val(), r.minimumInputLength) + "<\\/li>") : h("");
                              i && this.showSearch && this.showSearch(!0);
                              return
                          }
                          if (r.maximumInputLength && e.val().length > r.maximumInputLength) {
                              s(r.formatInputTooLong, "formatInputTooLong") ? h("<li class='select2-no-results'>" + u(r.formatInputTooLong, r.element, e.val(), r.maximumInputLength) + "<\\/li>") : h("");
                              return
                          }
                          r.formatSearching && this.findHighlightableChoices().length === 0 && h("<li class='select2-searching'>" + u(r.formatSearching, r.element) + "<\\/li>");
                          e.addClass("select2-active");
                          this.removeHighlight();
                          l = this.tokenize();
                          l != t && l != null && e.val(l);
                          this.resultsPage = 1;
                          r.query({
                              element: r.element,
                              term: e.val(),
                              page: this.resultsPage,
                              context: null ,
                              matcher: r.matcher,
                              callback: this.bind(function(l) {
                                  var a;
                                  if (w == this.queryCount) {
                                      if (!this.opened()) {
                                          this.search.removeClass("select2-active");
                                          return
                                      }
                                      if (l.hasError !== t && s(r.formatAjaxError, "formatAjaxError")) {
                                          h("<li class='select2-ajax-error'>" + u(r.formatAjaxError, r.element, l.jqXHR, l.textStatus, l.errorThrown) + "<\\/li>");
                                          return
                                      }
                                      if (this.context = l.context === t ? null : l.context,
                                      this.opts.createSearchChoice && e.val() !== "" && (a = this.opts.createSearchChoice.call(o, e.val(), l.results),
                                      a !== t && a !== null && o.id(a) !== t && o.id(a) !== null && n(l.results).filter(function() {
                                          return f(o.id(this), o.id(a))
                                      }).length === 0 && this.opts.createSearchChoicePosition(l.results, a)),
                                      l.results.length === 0 && s(r.formatNoMatches, "formatNoMatches")) {
                                          h("<li class='select2-no-results'>" + u(r.formatNoMatches, r.element, e.val()) + "<\\/li>");
                                          return
                                      }
                                      c.empty();
                                      o.opts.populateResults.call(this, c, l.results, {
                                          term: e.val(),
                                          page: this.resultsPage,
                                          context: null
                                      });
                                      l.more === !0 && s(r.formatLoadMore, "formatLoadMore") && (c.append("<li class='select2-more-results'>" + r.escapeMarkup(u(r.formatLoadMore, r.element, this.resultsPage)) + "<\\/li>"),
                                      window.setTimeout(function() {
                                          o.loadMoreIfNeeded()
                                      }, 10));
                                      this.postprocessResults(l, i);
                                      b();
                                      this.opts.element.trigger({
                                          type: "select2-loaded",
                                          items: l
                                      })
                                  }
                              })
                          })
                      }
                  },
                  cancel: function() {
                      this.close()
                  },
                  blur: function() {
                      this.opts.selectOnBlur && this.selectHighlighted({
                          noFocus: !0
                      });
                      this.close();
                      this.container.removeClass("select2-container-active");
                      this.search[0] === document.activeElement && this.search.blur();
                      this.clearSearch();
                      this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")
                  },
                  focusSearch: function() {
                      wt(this.search)
                  },
                  selectHighlighted: function(n) {
                      if (this._touchMoved) {
                          this.clearTouchMoved();
                          return
                      }
                      var i = this.highlight()
                        , r = this.results.find(".select2-highlighted")
                        , t = r.closest(".select2-result").data("select2-data");
                      if (t) {
                          this.highlight(i);
                          this.onSelect(t, n)
                      } else
                          n && n.noFocus && this.close()
                  },
                  getPlaceholder: function() {
                      var n;
                      return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder || ((n = this.getPlaceholderOption()) !== t ? n.text() : t)
                  },
                  getPlaceholderOption: function() {
                      if (this.select) {
                          var i = this.select.children("option").first();
                          if (this.opts.placeholderOption !== t)
                              return this.opts.placeholderOption === "first" && i || typeof this.opts.placeholderOption == "function" && this.opts.placeholderOption(this.select);
                          if (n.trim(i.text()) === "" && i.val() === "")
                              return i
                      }
                  },
                  initContainerWidth: function() {
                      function r() {
                          var i, f, u, r, e, o;
                          if (this.opts.width === "off")
                              return null ;
                          if (this.opts.width === "element")
                              return this.opts.element.outerWidth(!1) === 0 ? "auto" : this.opts.element.outerWidth(!1) + "px";
                          if (this.opts.width === "copy" || this.opts.width === "resolve") {
                              if (i = this.opts.element.attr("style"),
                              i !== t)
                                  for (f = i.split(";"),
                                  r = 0,
                                  e = f.length; r < e; r = r + 1)
                                      if (o = f[r].replace(/\\s/g, ""),
                                      u = o.match(/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
                                      u !== null && u.length >= 1)
                                          return u[1];
                              return this.opts.width === "resolve" ? (i = this.opts.element.css("width"),
                              i.indexOf("%") > 0) ? i : this.opts.element.outerWidth(!1) === 0 ? "auto" : this.opts.element.outerWidth(!1) + "px" : null
                          }
                          return n.isFunction(this.opts.width) ? this.opts.width() : this.opts.width
                      }
                      var i = r.call(this);
                      i !== null && this.container.css("width", i)
                  }
              });
              g = d(l, {
                  createContainer: function() {
                      return n(document.createElement("div")).attr({
                          "class": "select2-container"
                      }).html("<a href='javascript:void(0)' class='select2-choice alibaba-noborder' tabindex='-1'>   <span class='select2-chosen'>&#160;<\\/span><abbr class='select2-search-choice-close'><\\/abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'><\\/b><\\/span><\\/a><label for='' class='select2-offscreen'><\\/label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'><\\/label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   <\\/div>   <ul class='select2-results' role='listbox'>   <\\/ul><\\/div>")
                  },
                  enableInterface: function() {
                      this.parent.enableInterface.apply(this, arguments) && this.focusser.prop("disabled", !this.isInterfaceEnabled())
                  },
                  opening: function() {
                      var i, r, u;
                      this.opts.minimumResultsForSearch >= 0 && this.showSearch(!0);
                      this.parent.opening.apply(this, arguments);
                      this.showSearchInput !== !1 && this.search.val(this.focusser.val());
                      this.opts.shouldFocusInput(this) && (this.search.focus(),
                      i = this.search.get(0),
                      i.createTextRange ? (r = i.createTextRange(),
                      r.collapse(!1),
                      r.select()) : i.setSelectionRange && (u = this.search.val().length,
                      i.setSelectionRange(u, u)));
                      this.search.val() === "" && this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm),
                      this.search.select());
                      this.focusser.prop("disabled", !0).val("");
                      this.updateResults(!0);
                      this.opts.element.trigger(n.Event("select2-open"))
                  },
                  close: function() {
                      this.opened() && (this.parent.close.apply(this, arguments),
                      this.focusser.prop("disabled", !1),
                      this.opts.shouldFocusInput(this) && this.focusser.focus())
                  },
                  focus: function() {
                      this.opened() ? this.close() : (this.focusser.prop("disabled", !1),
                      this.opts.shouldFocusInput(this) && this.focusser.focus())
                  },
                  isFocused: function() {
                      return this.container.hasClass("select2-container-active")
                  },
                  cancel: function() {
                      this.parent.cancel.apply(this, arguments);
                      this.focusser.prop("disabled", !1);
                      this.opts.shouldFocusInput(this) && this.focusser.focus()
                  },
                  destroy: function() {
                      n("label[for='" + this.focusser.attr("id") + "']").attr("for", this.opts.element.attr("id"));
                      this.parent.destroy.apply(this, arguments);
                      k.call(this, "selection", "focusser")
                  },
                  initContainer: function() {
                      var t, e = this.container, s = this.dropdown, u = c(), f, o;
                      this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1) : this.showSearch(!0);
                      this.selection = t = e.find(".select2-choice");
                      this.focusser = e.find(".select2-focusser");
                      t.find(".select2-chosen").attr("id", "select2-chosen-" + u);
                      this.focusser.attr("aria-labelledby", "select2-chosen-" + u);
                      this.results.attr("id", "select2-results-" + u);
                      this.search.attr("aria-owns", "select2-results-" + u);
                      this.focusser.attr("id", "s2id_autogen" + u);
                      f = n("label[for='" + this.opts.element.attr("id") + "']");
                      this.opts.element.focus(this.bind(function() {
                          this.focus()
                      }));
                      this.focusser.prev().text(f.text()).attr("for", this.focusser.attr("id"));
                      o = this.opts.element.attr("title");
                      this.opts.element.attr("title", o || f.text());
                      this.focusser.attr("tabindex", this.elementTabIndex);
                      this.search.attr("id", this.focusser.attr("id") + "_search");
                      this.search.prev().text(n("label[for='" + this.focusser.attr("id") + "']").text()).attr("for", this.search.attr("id"));
                      this.search.on("keydown", this.bind(function(n) {
                          if (this.isInterfaceEnabled() && 229 != n.keyCode) {
                              if (n.which === i.PAGE_UP || n.which === i.PAGE_DOWN) {
                                  r(n);
                                  return
                              }
                              switch (n.which) {
                              case i.UP:
                              case i.DOWN:
                                  this.moveHighlight(n.which === i.UP ? -1 : 1);
                                  r(n);
                                  return;
                              case i.ENTER:
                                  this.selectHighlighted();
                                  r(n);
                                  return;
                              case i.TAB:
                                  this.selectHighlighted({
                                      noFocus: !0
                                  });
                                  return;
                              case i.ESC:
                                  this.cancel(n);
                                  r(n);
                                  return
                              }
                          }
                      }));
                      this.search.on("blur", this.bind(function() {
                          document.activeElement === this.body.get(0) && window.setTimeout(this.bind(function() {
                              this.opened() && this.search.focus()
                          }), 0)
                      }));
                      this.focusser.on("keydown", this.bind(function(n) {
                          if (this.isInterfaceEnabled() && n.which !== i.TAB && !i.isControl(n) && !i.isFunctionKey(n) && n.which !== i.ESC) {
                              if (this.opts.openOnEnter === !1 && n.which === i.ENTER) {
                                  r(n);
                                  return
                              }
                              if (n.which == i.DOWN || n.which == i.UP || n.which == i.ENTER && this.opts.openOnEnter) {
                                  if (n.altKey || n.ctrlKey || n.shiftKey || n.metaKey)
                                      return;
                                  this.open();
                                  r(n);
                                  return
                              }
                              if (n.which == i.DELETE || n.which == i.BACKSPACE) {
                                  this.opts.allowClear && this.clear();
                                  r(n);
                                  return
                              }
                          }
                      }));
                      rt(this.focusser);
                      this.focusser.on("keyup-change input", this.bind(function(n) {
                          if (this.opts.minimumResultsForSearch >= 0) {
                              if (n.stopPropagation(),
                              this.opened())
                                  return;
                              this.open()
                          }
                      }));
                      t.on("mousedown touchstart", "abbr", this.bind(function(n) {
                          this.isInterfaceEnabled() && (this.clear(),
                          kt(n),
                          this.close(),
                          this.selection && this.selection.focus())
                      }));
                      t.on("mousedown touchstart", this.bind(function(i) {
                          tt(t);
                          this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                          this.opened() ? this.close() : this.isInterfaceEnabled() && this.open();
                          r(i)
                      }));
                      s.on("mousedown touchstart", this.bind(function() {
                          this.opts.shouldFocusInput(this) && this.search.focus()
                      }));
                      t.on("focus", this.bind(function(n) {
                          r(n)
                      }));
                      this.focusser.on("focus", this.bind(function() {
                          this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                          this.container.addClass("select2-container-active")
                      })).on("blur", this.bind(function() {
                          this.opened() || (this.container.removeClass("select2-container-active"),
                          this.opts.element.trigger(n.Event("select2-blur")))
                      }));
                      this.search.on("focus", this.bind(function() {
                          this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                          this.container.addClass("select2-container-active")
                      }));
                      this.initContainerWidth();
                      this.opts.element.hide();
                      this.setPlaceholder()
                  },
                  clear: function(t) {
                      var i = this.selection.data("select2-data"), r, u;
                      if (i) {
                          if (r = n.Event("select2-clearing"),
                          this.opts.element.trigger(r),
                          r.isDefaultPrevented())
                              return;
                          u = this.getPlaceholderOption();
                          this.opts.element.val(u ? u.val() : "");
                          this.selection.find(".select2-chosen").empty();
                          this.selection.removeData("select2-data");
                          this.setPlaceholder();
                          t !== !1 && (this.opts.element.trigger({
                              type: "select2-removed",
                              val: this.id(i),
                              choice: i
                          }),
                          this.triggerChange({
                              removed: i
                          }))
                      }
                  },
                  initSelection: function() {
                      var n;
                      this.isPlaceholderOptionSelected() ? (this.updateSelection(null ),
                      this.close(),
                      this.setPlaceholder()) : (n = this,
                      this.opts.initSelection.call(null , this.opts.element, function(i) {
                          i !== t && i !== null && (n.updateSelection(i),
                          n.close(),
                          n.setPlaceholder(),
                          n.nextSearchTerm = n.opts.nextSearchTerm(i, n.search.val()))
                      }))
                  },
                  isPlaceholderOptionSelected: function() {
                      var n;
                      return this.getPlaceholder() === t ? !1 : (n = this.getPlaceholderOption()) !== t && n.prop("selected") || this.opts.element.val() === "" || this.opts.element.val() === t || this.opts.element.val() === null
                  },
                  prepareOpts: function() {
                      var t = this.parent.prepareOpts.apply(this, arguments)
                        , i = this;
                      return t.element.get(0).tagName.toLowerCase() === "select" ? t.initSelection = function(n, t) {
                          var r = n.find("option").filter(function() {
                              return this.selected && !this.disabled
                          });
                          t(i.optionToData(r))
                      }
                      : "data"in t && (t.initSelection = t.initSelection || function(i, r) {
                          var e = i.val()
                            , u = null ;
                          t.query({
                              matcher: function(n, i, r) {
                                  var o = f(e, t.id(r));
                                  return o && (u = r),
                                  o
                              },
                              callback: n.isFunction(r) ? function() {
                                  r(u)
                              }
                              : n.noop
                          })
                      }
                      ),
                      t
                  },
                  getPlaceholder: function() {
                      return this.select && this.getPlaceholderOption() === t ? t : this.parent.getPlaceholder.apply(this, arguments)
                  },
                  setPlaceholder: function() {
                      var n = this.getPlaceholder();
                      if (this.isPlaceholderOptionSelected() && n !== t) {
                          if (this.select && this.getPlaceholderOption() === t)
                              return;
                          this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));
                          this.selection.addClass("select2-default");
                          this.container.removeClass("select2-allowclear")
                      }
                  },
                  postprocessResults: function(n, t, i) {
                      var r = 0, e = this, u;
                      this.findHighlightableChoices().each2(function(n, t) {
                          if (f(e.id(t.data("select2-data")), e.opts.element.val()))
                              return r = n,
                              !1
                      });
                      i !== !1 && (t === !0 && r >= 0 ? this.highlight(r) : this.highlight(0));
                      t === !0 && (u = this.opts.minimumResultsForSearch,
                      u >= 0 && this.showSearch(ct(n.results) >= u))
                  },
                  showSearch: function(t) {
                      this.showSearchInput !== t && (this.showSearchInput = t,
                      this.dropdown.find(".select2-search").toggleClass("select2-search-hidden", !t),
                      this.dropdown.find(".select2-search").toggleClass("select2-offscreen", !t),
                      n(this.dropdown, this.container).toggleClass("select2-with-searchbox", t))
                  },
                  onSelect: function(n, t) {
                      if (this.triggerSelect(n)) {
                          var i = this.opts.element.val()
                            , r = this.data();
                          this.opts.element.val(this.id(n));
                          this.updateSelection(n);
                          this.opts.element.trigger({
                              type: "select2-selected",
                              val: this.id(n),
                              choice: n
                          });
                          this.nextSearchTerm = this.opts.nextSearchTerm(n, this.search.val());
                          this.close();
                          t && t.noFocus || !this.opts.shouldFocusInput(this) || this.focusser.focus();
                          f(i, this.id(n)) || this.triggerChange({
                              added: n,
                              removed: r
                          })
                      }
                  },
                  updateSelection: function(n) {
                      var i = this.selection.find(".select2-chosen"), r, u;
                      this.selection.data("select2-data", n);
                      i.empty();
                      n !== null && (r = this.opts.formatSelection(n, i, this.opts.escapeMarkup));
                      r !== t && i.append(r);
                      u = this.opts.formatSelectionCssClass(n, i);
                      u !== t && i.addClass(u);
                      this.selection.removeClass("select2-default");
                      this.opts.allowClear && this.getPlaceholder() !== t && this.container.addClass("select2-allowclear")
                  },
                  val: function() {
                      var i, r = !1, u = null , n = this, f = this.data();
                      if (arguments.length === 0)
                          return this.opts.element.val();
                      if (i = arguments[0],
                      arguments.length > 1 && (r = arguments[1]),
                      this.select)
                          this.select.val(i).find("option").filter(function() {
                              return this.selected
                          }).each2(function(t, i) {
                              return u = n.optionToData(i),
                              !1
                          }),
                          this.updateSelection(u),
                          this.setPlaceholder(),
                          r && this.triggerChange({
                              added: u,
                              removed: f
                          });
                      else {
                          if (!i && i !== 0) {
                              this.clear(r);
                              return
                          }
                          if (this.opts.initSelection === t)
                              throw new Error("cannot call val() if initSelection() is not defined");
                          this.opts.element.val(i);
                          this.opts.initSelection(this.opts.element, function(t) {
                              n.opts.element.val(t ? n.id(t) : "");
                              n.updateSelection(t);
                              n.setPlaceholder();
                              r && n.triggerChange({
                                  added: t,
                                  removed: f
                              })
                          })
                      }
                  },
                  clearSearch: function() {
                      this.search.val("");
                      this.focusser.val("")
                  },
                  data: function(n) {
                      var i, r = !1;
                      if (arguments.length === 0)
                          return i = this.selection.data("select2-data"),
                          i == t && (i = null ),
                          i;
                      arguments.length > 1 && (r = arguments[1]);
                      n ? (i = this.data(),
                      this.opts.element.val(n ? this.id(n) : ""),
                      this.updateSelection(n),
                      r && this.triggerChange({
                          added: n,
                          removed: i
                      })) : this.clear(r)
                  }
              });
              nt = d(l, {
                  createContainer: function() {
                      return n(document.createElement("div")).attr({
                          "class": "select2-container select2-container-multi"
                      }).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'><\\/label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\\/li><\\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\\/ul><\\/div>")
                  },
                  prepareOpts: function() {
                      var t = this.parent.prepareOpts.apply(this, arguments)
                        , i = this;
                      return t.element.get(0).tagName.toLowerCase() === "select" ? t.initSelection = function(n, t) {
                          var r = [];
                          n.find("option").filter(function() {
                              return this.selected && !this.disabled
                          }).each2(function(n, t) {
                              r.push(i.optionToData(t))
                          });
                          t(r)
                      }
                      : "data"in t && (t.initSelection = t.initSelection || function(i, r) {
                          var e = b(i.val(), t.separator, t.transformVal)
                            , u = [];
                          t.query({
                              matcher: function(i, r, o) {
                                  var s = n.grep(e, function(n) {
                                      return f(n, t.id(o))
                                  }).length;
                                  return s && u.push(o),
                                  s
                              },
                              callback: n.isFunction(r) ? function() {
                                  for (var s = [], h, n, o, i = 0; i < e.length; i++)
                                      for (h = e[i],
                                      n = 0; n < u.length; n++)
                                          if (o = u[n],
                                          f(h, t.id(o))) {
                                              s.push(o);
                                              u.splice(n, 1);
                                              break
                                          }
                                  r(s)
                              }
                              : n.noop
                          })
                      }
                      ),
                      t
                  },
                  selectChoice: function(n) {
                      var t = this.container.find(".select2-search-choice-focus");
                      t.length && n && n[0] == t[0] || (t.length && this.opts.element.trigger("choice-deselected", t),
                      t.removeClass("select2-search-choice-focus"),
                      n && n.length && (this.close(),
                      n.addClass("select2-search-choice-focus"),
                      this.opts.element.trigger("choice-selected", n)))
                  },
                  destroy: function() {
                      n("label[for='" + this.search.attr("id") + "']").attr("for", this.opts.element.attr("id"));
                      this.parent.destroy.apply(this, arguments);
                      k.call(this, "searchContainer", "selection")
                  },
                  initContainer: function() {
                      var t = ".select2-choices", u, f;
                      this.searchContainer = this.container.find(".select2-search-field");
                      this.selection = u = this.container.find(t);
                      f = this;
                      this.selection.on("click", ".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)", function() {
                          f.search[0].focus();
                          f.selectChoice(n(this))
                      });
                      this.search.attr("id", "s2id_autogen" + c());
                      this.search.prev().text(n("label[for='" + this.opts.element.attr("id") + "']").text()).attr("for", this.search.attr("id"));
                      this.opts.element.focus(this.bind(function() {
                          this.focus()
                      }));
                      this.search.on("input paste", this.bind(function() {
                          this.search.attr("placeholder") && this.search.val().length == 0 || this.isInterfaceEnabled() && (this.opened() || this.open())
                      }));
                      this.search.attr("tabindex", this.elementTabIndex);
                      this.keydowns = 0;
                      this.search.on("keydown", this.bind(function(n) {
                          var t;
                          if (this.isInterfaceEnabled()) {
                              ++this.keydowns;
                              var f = u.find(".select2-search-choice-focus")
                                , o = f.prev(".select2-search-choice:not(.select2-locked)")
                                , e = f.next(".select2-search-choice:not(.select2-locked)")
                                , s = bt(this.search);
                              if (f.length && (n.which == i.LEFT || n.which == i.RIGHT || n.which == i.BACKSPACE || n.which == i.DELETE || n.which == i.ENTER)) {
                                  t = f;
                                  n.which == i.LEFT && o.length ? t = o : n.which == i.RIGHT ? t = e.length ? e : null : n.which === i.BACKSPACE ? this.unselect(f.first()) && (this.search.width(10),
                                  t = o.length ? o : e) : n.which == i.DELETE ? this.unselect(f.first()) && (this.search.width(10),
                                  t = e.length ? e : null ) : n.which == i.ENTER && (t = null );
                                  this.selectChoice(t);
                                  r(n);
                                  t && t.length || this.open();
                                  return
                              }
                              if ((n.which !== i.BACKSPACE || this.keydowns != 1) && n.which != i.LEFT || s.offset != 0 || s.length)
                                  this.selectChoice(null );
                              else {
                                  this.selectChoice(u.find(".select2-search-choice:not(.select2-locked)").last());
                                  r(n);
                                  return
                              }
                              if (this.opened())
                                  switch (n.which) {
                                  case i.UP:
                                  case i.DOWN:
                                      this.moveHighlight(n.which === i.UP ? -1 : 1);
                                      r(n);
                                      return;
                                  case i.ENTER:
                                      this.selectHighlighted();
                                      r(n);
                                      return;
                                  case i.TAB:
                                      this.selectHighlighted({
                                          noFocus: !0
                                      });
                                      this.close();
                                      return;
                                  case i.ESC:
                                      this.cancel(n);
                                      r(n);
                                      return
                                  }
                              if (n.which !== i.TAB && !i.isControl(n) && !i.isFunctionKey(n) && n.which !== i.BACKSPACE && n.which !== i.ESC) {
                                  if (n.which === i.ENTER) {
                                      if (this.opts.openOnEnter === !1)
                                          return;
                                      if (n.altKey || n.ctrlKey || n.shiftKey || n.metaKey)
                                          return
                                  }
                                  this.open();
                                  (n.which === i.PAGE_UP || n.which === i.PAGE_DOWN) && r(n);
                                  n.which === i.ENTER && r(n)
                              }
                          }
                      }));
                      this.search.on("keyup", this.bind(function() {
                          this.keydowns = 0;
                          this.resizeSearch()
                      }));
                      this.search.on("blur", this.bind(function(t) {
                          this.container.removeClass("select2-container-active");
                          this.search.removeClass("select2-focused");
                          this.selectChoice(null );
                          this.opened() || this.clearSearch();
                          t.stopImmediatePropagation();
                          this.opts.element.trigger(n.Event("select2-blur"))
                      }));
                      this.container.on("click", t, this.bind(function(t) {
                          this.isInterfaceEnabled() && (n(t.target).closest(".select2-search-choice").length > 0 || (this.selectChoice(null ),
                          this.clearPlaceholder(),
                          this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus")),
                          this.open(),
                          this.focusSearch(),
                          t.preventDefault()))
                      }));
                      this.container.on("focus", t, this.bind(function() {
                          this.isInterfaceEnabled() && (this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus")),
                          this.container.addClass("select2-container-active"),
                          this.dropdown.addClass("select2-drop-active"),
                          this.clearPlaceholder())
                      }));
                      this.initContainerWidth();
                      this.opts.element.hide();
                      this.clearSearch()
                  },
                  enableInterface: function() {
                      this.parent.enableInterface.apply(this, arguments) && this.search.prop("disabled", !this.isInterfaceEnabled())
                  },
                  initSelection: function() {
                      var n;
                      this.opts.element.val() === "" && this.opts.element.text() === "" && (this.updateSelection([]),
                      this.close(),
                      this.clearSearch());
                      (this.select || this.opts.element.val() !== "") && (n = this,
                      this.opts.initSelection.call(null , this.opts.element, function(i) {
                          i !== t && i !== null && (n.updateSelection(i),
                          n.close(),
                          n.clearSearch())
                      }))
                  },
                  clearSearch: function() {
                      var n = this.getPlaceholder()
                        , i = this.getMaxSearchWidth();
                      n !== t && this.getVal().length === 0 && this.search.hasClass("select2-focused") === !1 ? (this.search.val(n).addClass("select2-default"),
                      this.search.width(i > 0 ? i : this.container.css("width"))) : this.search.val("").width(10)
                  },
                  clearPlaceholder: function() {
                      this.search.hasClass("select2-default") && this.search.val("").removeClass("select2-default")
                  },
                  opening: function() {
                      this.clearPlaceholder();
                      this.resizeSearch();
                      this.parent.opening.apply(this, arguments);
                      this.focusSearch();
                      this.search.val() === "" && this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm),
                      this.search.select());
                      this.updateResults(!0);
                      this.opts.shouldFocusInput(this) && this.search.focus();
                      this.opts.element.trigger(n.Event("select2-open"))
                  },
                  close: function() {
                      this.opened() && this.parent.close.apply(this, arguments)
                  },
                  focus: function() {
                      this.close();
                      this.search.focus()
                  },
                  isFocused: function() {
                      return this.search.hasClass("select2-focused")
                  },
                  updateSelection: function(t) {
                      var r = []
                        , u = []
                        , i = this;
                      n(t).each(function() {
                          e(i.id(this), r) < 0 && (r.push(i.id(this)),
                          u.push(this))
                      });
                      t = u;
                      this.selection.find(".select2-search-choice").remove();
                      n(t).each(function() {
                          i.addSelectedChoice(this)
                      });
                      i.postprocessResults()
                  },
                  tokenize: function() {
                      var n = this.search.val();
                      n = this.opts.tokenizer.call(this, n, this.data(), this.bind(this.onSelect), this.opts);
                      n != null && n != t && (this.search.val(n),
                      n.length > 0 && this.open())
                  },
                  onSelect: function(n, i) {
                      this.triggerSelect(n) && n.text !== "" && (this.addSelectedChoice(n),
                      this.opts.element.trigger({
                          type: "selected",
                          val: this.id(n),
                          choice: n
                      }),
                      this.nextSearchTerm = this.opts.nextSearchTerm(n, this.search.val()),
                      this.clearSearch(),
                      this.updateResults(),
                      (this.select || !this.opts.closeOnSelect) && this.postprocessResults(n, !1, this.opts.closeOnSelect === !0),
                      this.opts.closeOnSelect ? (this.close(),
                      this.search.width(10)) : this.countSelectableResults() > 0 ? (this.search.width(10),
                      this.resizeSearch(),
                      this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize() ? this.updateResults(!0) : this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm),
                      this.updateResults(),
                      this.search.select()),
                      this.positionDropdown()) : (this.close(),
                      this.search.width(10)),
                      this.triggerChange({
                          added: n
                      }),
                      i && i.noFocus || this.focusSearch())
                  },
                  cancel: function() {
                      this.close();
                      this.focusSearch()
                  },
                  addSelectedChoice: function(i) {
                      var o = !i.locked, h = n("<li class='select2-search-choice'>    <div><\\/div>    <a href='#' class='select2-search-choice-close' tabindex='-1'><\\/a><\\/li>"), c = n("<li class='select2-search-choice select2-locked'><div><\\/div><\\/li>"), u = o ? h : c, l = this.id(i), s = this.getVal(), f, e;
                      if (f = this.opts.formatSelection(i, u.find("div"), this.opts.escapeMarkup),
                      f != t && u.find("div").replaceWith(n("<div><\\/div>").html(f)),
                      e = this.opts.formatSelectionCssClass(i, u.find("div")),
                      e != t && u.addClass(e),
                      o)
                          u.find(".select2-search-choice-close").on("mousedown", r).on("click dblclick", this.bind(function(t) {
                              this.isInterfaceEnabled() && (this.unselect(n(t.target)),
                              this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),
                              r(t),
                              this.close(),
                              this.focusSearch())
                          })).on("focus", this.bind(function() {
                              this.isInterfaceEnabled() && (this.container.addClass("select2-container-active"),
                              this.dropdown.addClass("select2-drop-active"))
                          }));
                      u.data("select2-data", i);
                      u.insertBefore(this.searchContainer);
                      s.push(l);
                      this.setVal(s)
                  },
                  unselect: function(t) {
                      var u = this.getVal(), i, f, r;
                      if (t = t.closest(".select2-search-choice"),
                      t.length === 0)
                          throw "Invalid argument: " + t + ". Must be .select2-search-choice";
                      if (i = t.data("select2-data"),
                      i) {
                          if (r = n.Event("select2-removing"),
                          r.val = this.id(i),
                          r.choice = i,
                          this.opts.element.trigger(r),
                          r.isDefaultPrevented())
                              return !1;
                          while ((f = e(this.id(i), u)) >= 0)
                              u.splice(f, 1),
                              this.setVal(u),
                              this.select && this.postprocessResults();
                          return t.remove(),
                          this.opts.element.trigger({
                              type: "select2-removed",
                              val: this.id(i),
                              choice: i
                          }),
                          this.triggerChange({
                              removed: i
                          }),
                          !0
                      }
                  },
                  postprocessResults: function(n, t, i) {
                      var o = this.getVal()
                        , f = this.results.find(".select2-result")
                        , h = this.results.find(".select2-result-with-children")
                        , r = this;
                      f.each2(function(n, t) {
                          var i = r.id(t.data("select2-data"));
                          e(i, o) >= 0 && (t.addClass("select2-selected"),
                          t.find(".select2-result-selectable").addClass("select2-selected"))
                      });
                      h.each2(function(n, t) {
                          t.is(".select2-result-selectable") || t.find(".select2-result-selectable:not(.select2-selected)").length !== 0 || t.addClass("select2-selected")
                      });
                      this.highlight() == -1 && i !== !1 && this.opts.closeOnSelect === !0 && r.highlight(0);
                      !this.opts.createSearchChoice && !f.filter(".select2-result:not(.select2-selected)").length > 0 && (n && (!n || n.more || this.results.find(".select2-no-results").length !== 0) || s(r.opts.formatNoMatches, "formatNoMatches") && this.results.append("<li class='select2-no-results'>" + u(r.opts.formatNoMatches, r.opts.element, r.search.val()) + "<\\/li>"))
                  },
                  getMaxSearchWidth: function() {
                      return this.selection.width() - it(this.search)
                  },
                  resizeSearch: function() {
                      var i, u, t, f, n, r = it(this.search);
                      i = dt(this.search) + 10;
                      u = this.search.offset().left;
                      t = this.selection.width();
                      f = this.selection.offset().left;
                      n = t - (u - f) - r;
                      n < i && (n = t - r);
                      n < 40 && (n = t - r);
                      n <= 0 && (n = i);
                      this.search.width(Math.floor(n))
                  },
                  getVal: function() {
                      var n;
                      return this.select ? (n = this.select.val(),
                      n === null ? [] : n) : (n = this.opts.element.val(),
                      b(n, this.opts.separator, this.opts.transformVal))
                  },
                  setVal: function(t) {
                      var i;
                      this.select ? this.select.val(t) : (i = [],
                      n(t).each(function() {
                          e(this, i) < 0 && i.push(this)
                      }),
                      this.opts.element.val(i.length === 0 ? "" : i.join(this.opts.separator)))
                  },
                  buildChangeDetails: function(n, t) {
                      for (var t = t.slice(0), n = n.slice(0), r, i = 0; i < t.length; i++)
                          for (r = 0; r < n.length; r++)
                              f(this.opts.id(t[i]), this.opts.id(n[r])) && (t.splice(i, 1),
                              i > 0 && i--,
                              n.splice(r, 1),
                              r--);
                      return {
                          added: t,
                          removed: n
                      }
                  },
                  val: function(i, r) {
                      var f, u = this;
                      if (arguments.length === 0)
                          return this.getVal();
                      if (f = this.data(),
                      f.length || (f = []),
                      !i && i !== 0) {
                          this.opts.element.val("");
                          this.updateSelection([]);
                          this.clearSearch();
                          r && this.triggerChange({
                              added: this.data(),
                              removed: f
                          });
                          return
                      }
                      if (this.setVal(i),
                      this.select)
                          this.opts.initSelection(this.select, this.bind(this.updateSelection)),
                          r && this.triggerChange(this.buildChangeDetails(f, this.data()));
                      else {
                          if (this.opts.initSelection === t)
                              throw new Error("val() cannot be called if initSelection() is not defined");
                          this.opts.initSelection(this.opts.element, function(t) {
                              var i = n.map(t, u.id);
                              u.setVal(i);
                              u.updateSelection(t);
                              u.clearSearch();
                              r && u.triggerChange(u.buildChangeDetails(f, u.data()))
                          })
                      }
                      this.clearSearch()
                  },
                  onSortStart: function() {
                      if (this.select)
                          throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");
                      this.search.width(0);
                      this.searchContainer.hide()
                  },
                  onSortEnd: function() {
                      var t = []
                        , i = this;
                      this.searchContainer.show();
                      this.searchContainer.appendTo(this.searchContainer.parent());
                      this.resizeSearch();
                      this.selection.find(".select2-search-choice").each(function() {
                          t.push(i.opts.id(n(this).data("select2-data")))
                      });
                      this.setVal(t);
                      this.triggerChange()
                  },
                  data: function(t, i) {
                      var f = this, r, u;
                      if (arguments.length === 0)
                          return this.selection.children(".select2-search-choice").map(function() {
                              return n(this).data("select2-data")
                          }).get();
                      u = this.data();
                      t || (t = []);
                      r = n.map(t, function(n) {
                          return f.opts.id(n)
                      });
                      this.setVal(r);
                      this.updateSelection(t);
                      this.clearSearch();
                      i && this.triggerChange(this.buildChangeDetails(u, this.data()))
                  }
              });
              n.fn.select2 = function() {
                  var i = Array.prototype.slice.call(arguments, 0), r, u, f, o, s, c = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "dropdown", "onSortStart", "onSortEnd", "enable", "disable", "readonly", "positionDropdown", "data", "search"], l = ["opened", "isFocused", "container", "dropdown"], a = ["val", "data"], h = {
                      search: "externalSearch"
                  };
                  return this.each(function() {
                      if (i.length === 0 || typeof i[0] == "object")
                          r = i.length === 0 ? {} : n.extend({}, i[0]),
                          r.element = n(this),
                          r.element.get(0).tagName.toLowerCase() === "select" ? s = r.element.prop("multiple") : (s = r.multiple || !1,
                          "tags"in r && (r.multiple = s = !0)),
                          u = s ? new window.Select2["class"].multi : new window.Select2["class"].single,
                          u.init(r);
                      else if (typeof i[0] == "string") {
                          if (e(i[0], c) < 0)
                              throw "Unknown method: " + i[0];
                          if (o = t,
                          u = n(this).data("select2"),
                          u === t)
                              return;
                          if (f = i[0],
                          f === "container" ? o = u.container : f === "dropdown" ? o = u.dropdown : (h[f] && (f = h[f]),
                          o = u[f].apply(u, i.slice(1))),
                          e(i[0], l) >= 0 || e(i[0], a) >= 0 && i.length == 1)
                              return !1
                      } else
                          throw "Invalid arguments to select2 plugin: " + i;
                  }),
                  o === t ? this : o
              }
              ;
              v = !1;
              n.fn.select2.defaults = {
                  width: "copy",
                  loadMorePadding: 0,
                  closeOnSelect: !0,
                  openOnEnter: !0,
                  containerCss: {},
                  dropdownCss: {},
                  containerCssClass: "",
                  dropdownCssClass: "",
                  formatResult: function(n, t, i, r) {
                      var u = [];
                      return v ? gt(this.text(n), i.term, u, r) : ft(this.text(n), i.term, u, r),
                      u.join("")
                  },
                  transformVal: function(t) {
                      return n.trim(t)
                  },
                  formatSelection: function(n, i, r) {
                      var u = n ? r(this.text(n)) : t;
                      return v ? u.substring(3) : u
                  },
                  sortResults: function(n) {
                      return n
                  },
                  formatResultCssClass: function(n) {
                      return n.css
                  },
                  formatSelectionCssClass: function() {
                      return t
                  },
                  minimumResultsForSearch: 0,
                  minimumInputLength: 0,
                  maximumInputLength: null ,
                  maximumSelectionSize: 0,
                  id: function(n) {
                      return n == t ? null : n.id
                  },
                  text: function(t) {
                      return t && this.data && this.data.text ? n.isFunction(this.data.text) ? this.data.text(t) : t[this.data.text] : t.text
                  },
                  matcher: function(n, t) {
                      return o("" + t).toUpperCase().indexOf(o("" + n).toUpperCase()) >= 0
                  },
                  separator: ",",
                  tokenSeparators: [],
                  tokenizer: ni,
                  escapeMarkup: et,
                  blurOnChange: !1,
                  selectOnBlur: !1,
                  adaptContainerCssClass: function(n) {
                      return n
                  },
                  adaptDropdownCssClass: function() {
                      return null
                  },
                  nextSearchTerm: function() {
                      return t
                  },
                  searchInputPlaceholder: "",
                  createSearchChoicePosition: "top",
                  shouldFocusInput: function(n) {
                      var t = "ontouchstart"in window || navigator.msMaxTouchPoints > 0;
                      return t ? n.opts.minimumResultsForSearch < 0 ? !1 : !0 : !0
                  }
              };
              n.fn.select2.locales = [];
              n.fn.select2.locales.en = {
                  formatMatches: function(n) {
                      return n === 1 ? "One result is available, press enter to select it." : n + " results are available, use up and down arrow keys to navigate."
                  },
                  formatNoMatches: function() {
                      return "No matches found"
                  },
                  formatAjaxError: function() {
                      return "Loading failed"
                  },
                  formatInputTooShort: function(n, t) {
                      var i = t - n.length;
                      return "Please enter " + i + " or more character" + (i == 1 ? "" : "s")
                  },
                  formatInputTooLong: function(n, t) {
                      var i = n.length - t;
                      return "Please delete " + i + " character" + (i == 1 ? "" : "s")
                  },
                  formatSelectionTooBig: function(n) {
                      return "You can only select " + n + " item" + (n == 1 ? "" : "s")
                  },
                  formatLoadMore: function() {
                      return "Loading more results…"
                  },
                  formatSearching: function() {
                      return "Searching…"
                  }
              };
              n.extend(n.fn.select2.defaults, n.fn.select2.locales.en);
              n.fn.select2.ajaxDefaults = {
                  transport: n.ajax,
                  params: {
                      type: "GET",
                      cache: !1,
                      dataType: "json"
                  }
              };
              window.Select2 = {
                  query: {
                      ajax: ot,
                      local: st,
                      tags: ht
                  },
                  util: {
                      debounce: ut,
                      markMatch: ft,
                      escapeMarkup: et,
                      stripDiacritics: o
                  },
                  "class": {
                      abstract: l,
                      single: g,
                      multi: nt
                  }
              }
          }
      }(jQuery),
      function(n) {
          "use strict";
          n.fn.select2.locales.fa = {
              formatMatches: function(n) {
                  return n + " نتیجه موجود است، کلیدهای جهت بالا و پایین را برای گشتن استفاده کنید."
              },
              formatNoMatches: function() {
                  return "نتیجه‌ای یافت نشد."
              },
              formatInputTooShort: function(n, t) {
                  var i = t - n.length;
                  return "لطفا حداقل سه حرف اول را بنویسید"
              },
              formatInputTooLong: function(n, t) {
                  var i = n.length - t;
                  return "لطفاً " + i + " نویسه را حذف کنید."
              },
              formatSelectionTooBig: function(n) {
                  return "شما فقط می‌توانید " + n + " مورد را انتخاب کنید"
              },
              formatLoadMore: function() {
                  return "در حال بارگیری موارد بیشتر…"
              },
              formatSearching: function() {
                  return "در حال جستجو…"
              }
          };
          n.extend(n.fn.select2.defaults, n.fn.select2.locales.fa)
      }(jQuery)
      
    '''
  }
]
tags: []
isStarred: false
isTrashed: false
